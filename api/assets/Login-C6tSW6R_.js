import{r as o,u as E,j as e,E as w,a as y,R as L,L as S,s as b,b as k}from"./index-Dye69HlV.js";import"./input-D5Hq01DW.js";import{u as C}from"./useLogin-D08xO2ox.js";import{s}from"./Login.module-B6YCkDsh.js";function z(){const{login:p,isPending:t,error:r}=C(),[n,h]=o.useState(""),[l,f]=o.useState(""),x=E(),[m,i]=o.useState(""),[d,j]=o.useState(!1),[c,v]=o.useState(!1),N=async a=>{if(a.preventDefault(),i(""),!n.includes("@")||!n.includes(".")){i("Por favor, insira um e-mail válido.");return}if(j(!0),n==="token@gmail.com"){const u=l;try{await b(k,u),x("/oportunidades")}catch{i("O token fornecido é inválido.")}return}try{await p(n,l)}catch(u){i(u.message)}},g=()=>{v(a=>!a)};return o.useEffect(()=>{r&&r.includes("auth/invalid-login-credentials")&&i("As credenciais fornecidas estão incorretas. Verifique sua senha ou clique em 'Esqueci minha senha' para redefinir.")},[r]),e.jsx("div",{className:s["login-bg"],children:e.jsxs("div",{className:s["login-container"],children:[e.jsx("img",{src:"/Logo para página de login.png",alt:"Mascote Petzia",className:s["logo-mascote"]}),e.jsx("h1",{className:s["login-title"],children:"Bem-vindo ao Petzia!"}),e.jsx("p",{className:s["login-subtitle"],children:"Conectando você ao seu pet, com tecnologia e amor."}),e.jsxs("form",{className:s["login-form"],onSubmit:N,children:[e.jsx("input",{type:"email",placeholder:"E-mail",className:s["login-input"],value:n,onChange:a=>h(a.target.value.trim().toLowerCase()),required:!0}),e.jsxs("div",{className:s["password-input"],children:[e.jsx("input",{type:c?"text":"password",placeholder:"Senha",className:s["login-input"],value:l,onChange:a=>f(a.target.value)}),c===!1&&e.jsx(w,{onClick:g,className:s["eye-icon"]}),c===!0&&e.jsx(y,{onClick:g,className:s["eye-icon"]})]}),e.jsxs("button",{type:"submit",className:s["login-btn"],disabled:t,children:[t&&d&&e.jsx(L,{className:s["spin-icon"]}),t&&d?"Entrando...":"Entrar na minha conta"]}),m&&e.jsx("p",{className:s["error-msg"],children:m})]}),e.jsx(S,{to:"/recover",className:s["forgot-link"],children:"Esqueceu sua senha?"})]})})}export{z as default};
