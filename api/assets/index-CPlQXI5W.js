function e9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function NE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _D={exports:{}},fx={},ED={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf=Symbol.for("react.element"),t9=Symbol.for("react.portal"),n9=Symbol.for("react.fragment"),r9=Symbol.for("react.strict_mode"),o9=Symbol.for("react.profiler"),i9=Symbol.for("react.provider"),s9=Symbol.for("react.context"),a9=Symbol.for("react.forward_ref"),c9=Symbol.for("react.suspense"),l9=Symbol.for("react.memo"),d9=Symbol.for("react.lazy"),uk=Symbol.iterator;function u9(t){return t===null||typeof t!="object"?null:(t=uk&&t[uk]||t["@@iterator"],typeof t=="function"?t:null)}var TD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ID=Object.assign,SD={};function Xd(t,e,n){this.props=t,this.context=e,this.refs=SD,this.updater=n||TD}Xd.prototype.isReactComponent={};Xd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kD(){}kD.prototype=Xd.prototype;function $E(t,e,n){this.props=t,this.context=e,this.refs=SD,this.updater=n||TD}var OE=$E.prototype=new kD;OE.constructor=$E;ID(OE,Xd.prototype);OE.isPureReactComponent=!0;var hk=Array.isArray,CD=Object.prototype.hasOwnProperty,FE={current:null},jD={key:!0,ref:!0,__self:!0,__source:!0};function AD(t,e,n){var r,o={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)CD.call(e,r)&&!jD.hasOwnProperty(r)&&(o[r]=e[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var l=Array(c),d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:yf,type:t,key:i,ref:a,props:o,_owner:FE.current}}function h9(t,e){return{$$typeof:yf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ME(t){return typeof t=="object"&&t!==null&&t.$$typeof===yf}function p9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pk=/\/+/g;function oy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?p9(""+t.key):e.toString(36)}function fv(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case yf:case t9:a=!0}}if(a)return a=t,o=o(a),t=r===""?"."+oy(a,0):r,hk(o)?(n="",t!=null&&(n=t.replace(pk,"$&/")+"/"),fv(o,e,n,"",function(d){return d})):o!=null&&(ME(o)&&(o=h9(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(pk,"$&/")+"/")+t)),e.push(o)),1;if(a=0,r=r===""?".":r+":",hk(t))for(var c=0;c<t.length;c++){i=t[c];var l=r+oy(i,c);a+=fv(i,e,n,l,o)}else if(l=u9(t),typeof l=="function")for(t=l.call(t),c=0;!(i=t.next()).done;)i=i.value,l=r+oy(i,c++),a+=fv(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function wm(t,e,n){if(t==null)return t;var r=[],o=0;return fv(t,r,"","",function(i){return e.call(n,i,o++)}),r}function f9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var er={current:null},mv={transition:null},m9={ReactCurrentDispatcher:er,ReactCurrentBatchConfig:mv,ReactCurrentOwner:FE};function PD(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:wm,forEach:function(t,e,n){wm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wm(t,function(){e++}),e},toArray:function(t){return wm(t,function(e){return e})||[]},only:function(t){if(!ME(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Xd;Ne.Fragment=n9;Ne.Profiler=o9;Ne.PureComponent=$E;Ne.StrictMode=r9;Ne.Suspense=c9;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m9;Ne.act=PD;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ID({},t.props),o=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=FE.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)CD.call(e,l)&&!jD.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:yf,type:t.type,key:o,ref:i,props:r,_owner:a}};Ne.createContext=function(t){return t={$$typeof:s9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:i9,_context:t},t.Consumer=t};Ne.createElement=AD;Ne.createFactory=function(t){var e=AD.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:a9,render:t}};Ne.isValidElement=ME;Ne.lazy=function(t){return{$$typeof:d9,_payload:{_status:-1,_result:t},_init:f9}};Ne.memo=function(t,e){return{$$typeof:l9,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=mv.transition;mv.transition={};try{t()}finally{mv.transition=e}};Ne.unstable_act=PD;Ne.useCallback=function(t,e){return er.current.useCallback(t,e)};Ne.useContext=function(t){return er.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return er.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return er.current.useEffect(t,e)};Ne.useId=function(){return er.current.useId()};Ne.useImperativeHandle=function(t,e,n){return er.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return er.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return er.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return er.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return er.current.useReducer(t,e,n)};Ne.useRef=function(t){return er.current.useRef(t)};Ne.useState=function(t){return er.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return er.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return er.current.useTransition()};Ne.version="18.3.1";ED.exports=Ne;var g=ED.exports;const Be=NE(g),RD=e9({__proto__:null,default:Be},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g9=g,v9=Symbol.for("react.element"),x9=Symbol.for("react.fragment"),b9=Object.prototype.hasOwnProperty,y9=g9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w9={key:!0,ref:!0,__self:!0,__source:!0};function DD(t,e,n){var r,o={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)b9.call(e,r)&&!w9.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:v9,type:t,key:i,ref:a,props:o,_owner:y9.current}}fx.Fragment=x9;fx.jsx=DD;fx.jsxs=DD;_D.exports=fx;var s=_D.exports,hw={},ND={exports:{}},Ar={},$D={exports:{}},OD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,B){var J=W.length;W.push(B);e:for(;0<J;){var ue=J-1>>>1,ce=W[ue];if(0<o(ce,B))W[ue]=B,W[J]=ce,J=ue;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var B=W[0],J=W.pop();if(J!==B){W[0]=J;e:for(var ue=0,ce=W.length,U=ce>>>1;ue<U;){var se=2*(ue+1)-1,L=W[se],X=se+1,$e=W[X];if(0>o(L,J))X<ce&&0>o($e,L)?(W[ue]=$e,W[X]=J,ue=X):(W[ue]=L,W[se]=J,ue=se);else if(X<ce&&0>o($e,J))W[ue]=$e,W[X]=J,ue=X;else break e}}return B}function o(W,B){var J=W.sortIndex-B.sortIndex;return J!==0?J:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],d=[],h=1,u=null,f=3,v=!1,x=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(W){for(var B=n(d);B!==null;){if(B.callback===null)r(d);else if(B.startTime<=W)r(d),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(d)}}function j(W){if(y=!1,I(W),!x)if(n(l)!==null)x=!0,oe(D);else{var B=n(d);B!==null&&xe(j,B.startTime-W)}}function D(W,B){x=!1,y&&(y=!1,w(S),S=-1),v=!0;var J=f;try{for(I(B),u=n(l);u!==null&&(!(u.expirationTime>B)||W&&!N());){var ue=u.callback;if(typeof ue=="function"){u.callback=null,f=u.priorityLevel;var ce=ue(u.expirationTime<=B);B=t.unstable_now(),typeof ce=="function"?u.callback=ce:u===n(l)&&r(l),I(B)}else r(l);u=n(l)}if(u!==null)var U=!0;else{var se=n(d);se!==null&&xe(j,se.startTime-B),U=!1}return U}finally{u=null,f=J,v=!1}}var $=!1,k=null,S=-1,C=5,P=-1;function N(){return!(t.unstable_now()-P<C)}function O(){if(k!==null){var W=t.unstable_now();P=W;var B=!0;try{B=k(!0,W)}finally{B?R():($=!1,k=null)}}else $=!1}var R;if(typeof E=="function")R=function(){E(O)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,re=K.port2;K.port1.onmessage=O,R=function(){re.postMessage(null)}}else R=function(){_(O,0)};function oe(W){k=W,$||($=!0,R())}function xe(W,B){S=_(function(){W(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,oe(D))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var J=f;f=B;try{return W()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var J=f;f=W;try{return B()}finally{f=J}},t.unstable_scheduleCallback=function(W,B,J){var ue=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ue+J:ue):J=ue,W){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=J+ce,W={id:h++,callback:B,priorityLevel:W,startTime:J,expirationTime:ce,sortIndex:-1},J>ue?(W.sortIndex=J,e(d,W),n(l)===null&&W===n(d)&&(y?(w(S),S=-1):y=!0,xe(j,J-ue))):(W.sortIndex=ce,e(l,W),x||v||(x=!0,oe(D))),W},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(W){var B=f;return function(){var J=f;f=B;try{return W.apply(this,arguments)}finally{f=J}}}})(OD);$D.exports=OD;var _9=$D.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E9=g,Cr=_9;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FD=new Set,Ep={};function Wc(t,e){xd(t,e),xd(t+"Capture",e)}function xd(t,e){for(Ep[t]=e,t=0;t<e.length;t++)FD.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pw=Object.prototype.hasOwnProperty,T9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fk={},mk={};function I9(t){return pw.call(mk,t)?!0:pw.call(fk,t)?!1:T9.test(t)?mk[t]=!0:(fk[t]=!0,!1)}function S9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k9(t,e,n,r){if(e===null||typeof e>"u"||S9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tr(t,e,n,r,o,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_n[t]=new tr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_n[e]=new tr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_n[t]=new tr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_n[t]=new tr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_n[t]=new tr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_n[t]=new tr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_n[t]=new tr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_n[t]=new tr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_n[t]=new tr(t,5,!1,t.toLowerCase(),null,!1,!1)});var LE=/[\-:]([a-z])/g;function VE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(LE,VE);_n[e]=new tr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(LE,VE);_n[e]=new tr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(LE,VE);_n[e]=new tr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_n[t]=new tr(t,1,!1,t.toLowerCase(),null,!1,!1)});_n.xlinkHref=new tr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_n[t]=new tr(t,1,!1,t.toLowerCase(),null,!0,!0)});function zE(t,e,n,r){var o=_n.hasOwnProperty(e)?_n[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(k9(e,n,o,r)&&(n=null),r||o===null?I9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ai=E9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_m=Symbol.for("react.element"),Vl=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),BE=Symbol.for("react.strict_mode"),fw=Symbol.for("react.profiler"),MD=Symbol.for("react.provider"),LD=Symbol.for("react.context"),UE=Symbol.for("react.forward_ref"),mw=Symbol.for("react.suspense"),gw=Symbol.for("react.suspense_list"),qE=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),VD=Symbol.for("react.offscreen"),gk=Symbol.iterator;function Ou(t){return t===null||typeof t!="object"?null:(t=gk&&t[gk]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,iy;function zh(t){if(iy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);iy=e&&e[1]||""}return`
`+iy+t}var sy=!1;function ay(t,e){if(!t||sy)return"";sy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),a=o.length-1,c=i.length-1;1<=a&&0<=c&&o[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(o[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||o[a]!==i[c]){var l=`
`+o[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=c);break}}}finally{sy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zh(t):""}function C9(t){switch(t.tag){case 5:return zh(t.type);case 16:return zh("Lazy");case 13:return zh("Suspense");case 19:return zh("SuspenseList");case 0:case 2:case 15:return t=ay(t.type,!1),t;case 11:return t=ay(t.type.render,!1),t;case 1:return t=ay(t.type,!0),t;default:return""}}function vw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zl:return"Fragment";case Vl:return"Portal";case fw:return"Profiler";case BE:return"StrictMode";case mw:return"Suspense";case gw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case LD:return(t.displayName||"Context")+".Consumer";case MD:return(t._context.displayName||"Context")+".Provider";case UE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qE:return e=t.displayName||null,e!==null?e:vw(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return vw(t(e))}catch{}}return null}function j9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vw(e);case 8:return e===BE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zD(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function A9(t){var e=zD(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Em(t){t._valueTracker||(t._valueTracker=A9(t))}function BD(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zD(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function e0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xw(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UD(t,e){e=e.checked,e!=null&&zE(t,"checked",e,!1)}function bw(t,e){UD(t,e);var n=Ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yw(t,e.type,n):e.hasOwnProperty("defaultValue")&&yw(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yw(t,e,n){(e!=="number"||e0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bh=Array.isArray;function ed(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function ww(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Bh(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function qD(t,e){var n=Ks(e.value),r=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yk(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function WD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _w(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?WD(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tm,HD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tm=Tm||document.createElement("div"),Tm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P9=["Webkit","ms","Moz","O"];Object.keys(tp).forEach(function(t){P9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tp[e]=tp[t]})});function GD(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tp.hasOwnProperty(t)&&tp[t]?(""+e).trim():e+"px"}function KD(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=GD(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var R9=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ew(t,e){if(e){if(R9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Tw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iw=null;function WE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sw=null,td=null,nd=null;function wk(t){if(t=Ef(t)){if(typeof Sw!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=bx(e),Sw(t.stateNode,t.type,e))}}function YD(t){td?nd?nd.push(t):nd=[t]:td=t}function QD(){if(td){var t=td,e=nd;if(nd=td=null,wk(t),e)for(t=0;t<e.length;t++)wk(e[t])}}function XD(t,e){return t(e)}function JD(){}var cy=!1;function ZD(t,e,n){if(cy)return t(e,n);cy=!0;try{return XD(t,e,n)}finally{cy=!1,(td!==null||nd!==null)&&(JD(),QD())}}function Ip(t,e){var n=t.stateNode;if(n===null)return null;var r=bx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var kw=!1;if(bi)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){kw=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{kw=!1}function D9(t,e,n,r,o,i,a,c,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var np=!1,t0=null,n0=!1,Cw=null,N9={onError:function(t){np=!0,t0=t}};function $9(t,e,n,r,o,i,a,c,l){np=!1,t0=null,D9.apply(N9,arguments)}function O9(t,e,n,r,o,i,a,c,l){if($9.apply(this,arguments),np){if(np){var d=t0;np=!1,t0=null}else throw Error(Y(198));n0||(n0=!0,Cw=d)}}function Hc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function e5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _k(t){if(Hc(t)!==t)throw Error(Y(188))}function F9(t){var e=t.alternate;if(!e){if(e=Hc(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return _k(o),t;if(i===r)return _k(o),e;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=o,r=i;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function t5(t){return t=F9(t),t!==null?n5(t):null}function n5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n5(t);if(e!==null)return e;t=t.sibling}return null}var r5=Cr.unstable_scheduleCallback,Ek=Cr.unstable_cancelCallback,M9=Cr.unstable_shouldYield,L9=Cr.unstable_requestPaint,Ut=Cr.unstable_now,V9=Cr.unstable_getCurrentPriorityLevel,HE=Cr.unstable_ImmediatePriority,o5=Cr.unstable_UserBlockingPriority,r0=Cr.unstable_NormalPriority,z9=Cr.unstable_LowPriority,i5=Cr.unstable_IdlePriority,mx=null,Ao=null;function B9(t){if(Ao&&typeof Ao.onCommitFiberRoot=="function")try{Ao.onCommitFiberRoot(mx,t,void 0,(t.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:W9,U9=Math.log,q9=Math.LN2;function W9(t){return t>>>=0,t===0?32:31-(U9(t)/q9|0)|0}var Im=64,Sm=4194304;function Uh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function o0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~o;c!==0?r=Uh(c):(i&=a,i!==0&&(r=Uh(i)))}else a=n&~o,a!==0?r=Uh(a):i!==0&&(r=Uh(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jr(e),o=1<<n,r|=t[n],e&=~o;return r}function H9(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G9(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Jr(i),c=1<<a,l=o[a];l===-1?(!(c&n)||c&r)&&(o[a]=H9(c,e)):l<=e&&(t.expiredLanes|=c),i&=~c}}function jw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s5(){var t=Im;return Im<<=1,!(Im&4194240)&&(Im=64),t}function ly(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jr(e),t[e]=n}function K9(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Jr(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function GE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jr(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Ze=0;function a5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var c5,KE,l5,d5,u5,Aw=!1,km=[],Ms=null,Ls=null,Vs=null,Sp=new Map,kp=new Map,Cs=[],Y9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tk(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Sp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kp.delete(e.pointerId)}}function Mu(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Ef(e),e!==null&&KE(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Q9(t,e,n,r,o){switch(e){case"focusin":return Ms=Mu(Ms,t,e,n,r,o),!0;case"dragenter":return Ls=Mu(Ls,t,e,n,r,o),!0;case"mouseover":return Vs=Mu(Vs,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Sp.set(i,Mu(Sp.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,kp.set(i,Mu(kp.get(i)||null,t,e,n,r,o)),!0}return!1}function h5(t){var e=nc(t.target);if(e!==null){var n=Hc(e);if(n!==null){if(e=n.tag,e===13){if(e=e5(n),e!==null){t.blockedOn=e,u5(t.priority,function(){l5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Iw=r,n.target.dispatchEvent(r),Iw=null}else return e=Ef(n),e!==null&&KE(e),t.blockedOn=n,!1;e.shift()}return!0}function Ik(t,e,n){gv(t)&&n.delete(e)}function X9(){Aw=!1,Ms!==null&&gv(Ms)&&(Ms=null),Ls!==null&&gv(Ls)&&(Ls=null),Vs!==null&&gv(Vs)&&(Vs=null),Sp.forEach(Ik),kp.forEach(Ik)}function Lu(t,e){t.blockedOn===e&&(t.blockedOn=null,Aw||(Aw=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,X9)))}function Cp(t){function e(o){return Lu(o,t)}if(0<km.length){Lu(km[0],t);for(var n=1;n<km.length;n++){var r=km[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ms!==null&&Lu(Ms,t),Ls!==null&&Lu(Ls,t),Vs!==null&&Lu(Vs,t),Sp.forEach(e),kp.forEach(e),n=0;n<Cs.length;n++)r=Cs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cs.length&&(n=Cs[0],n.blockedOn===null);)h5(n),n.blockedOn===null&&Cs.shift()}var rd=Ai.ReactCurrentBatchConfig,i0=!0;function J9(t,e,n,r){var o=Ze,i=rd.transition;rd.transition=null;try{Ze=1,YE(t,e,n,r)}finally{Ze=o,rd.transition=i}}function Z9(t,e,n,r){var o=Ze,i=rd.transition;rd.transition=null;try{Ze=4,YE(t,e,n,r)}finally{Ze=o,rd.transition=i}}function YE(t,e,n,r){if(i0){var o=Pw(t,e,n,r);if(o===null)by(t,e,r,s0,n),Tk(t,r);else if(Q9(o,t,e,n,r))r.stopPropagation();else if(Tk(t,r),e&4&&-1<Y9.indexOf(t)){for(;o!==null;){var i=Ef(o);if(i!==null&&c5(i),i=Pw(t,e,n,r),i===null&&by(t,e,r,s0,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else by(t,e,r,null,n)}}var s0=null;function Pw(t,e,n,r){if(s0=null,t=WE(r),t=nc(t),t!==null)if(e=Hc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=e5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return s0=t,null}function p5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V9()){case HE:return 1;case o5:return 4;case r0:case z9:return 16;case i5:return 536870912;default:return 16}default:return 16}}var Ds=null,QE=null,vv=null;function f5(){if(vv)return vv;var t,e=QE,n=e.length,r,o="value"in Ds?Ds.value:Ds.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===o[i-r];r++);return vv=o.slice(t,1<r?1-r:void 0)}function xv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cm(){return!0}function Sk(){return!1}function Pr(t){function e(n,r,o,i,a){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cm:Sk,this.isPropagationStopped=Sk,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cm)},persist:function(){},isPersistent:Cm}),e}var Jd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XE=Pr(Jd),_f=Tt({},Jd,{view:0,detail:0}),e7=Pr(_f),dy,uy,Vu,gx=Tt({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vu&&(Vu&&t.type==="mousemove"?(dy=t.screenX-Vu.screenX,uy=t.screenY-Vu.screenY):uy=dy=0,Vu=t),dy)},movementY:function(t){return"movementY"in t?t.movementY:uy}}),kk=Pr(gx),t7=Tt({},gx,{dataTransfer:0}),n7=Pr(t7),r7=Tt({},_f,{relatedTarget:0}),hy=Pr(r7),o7=Tt({},Jd,{animationName:0,elapsedTime:0,pseudoElement:0}),i7=Pr(o7),s7=Tt({},Jd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),a7=Pr(s7),c7=Tt({},Jd,{data:0}),Ck=Pr(c7),l7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u7[t])?!!e[t]:!1}function JE(){return h7}var p7=Tt({},_f,{key:function(t){if(t.key){var e=l7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JE,charCode:function(t){return t.type==="keypress"?xv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f7=Pr(p7),m7=Tt({},gx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jk=Pr(m7),g7=Tt({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JE}),v7=Pr(g7),x7=Tt({},Jd,{propertyName:0,elapsedTime:0,pseudoElement:0}),b7=Pr(x7),y7=Tt({},gx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w7=Pr(y7),_7=[9,13,27,32],ZE=bi&&"CompositionEvent"in window,rp=null;bi&&"documentMode"in document&&(rp=document.documentMode);var E7=bi&&"TextEvent"in window&&!rp,m5=bi&&(!ZE||rp&&8<rp&&11>=rp),Ak=" ",Pk=!1;function g5(t,e){switch(t){case"keyup":return _7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bl=!1;function T7(t,e){switch(t){case"compositionend":return v5(e);case"keypress":return e.which!==32?null:(Pk=!0,Ak);case"textInput":return t=e.data,t===Ak&&Pk?null:t;default:return null}}function I7(t,e){if(Bl)return t==="compositionend"||!ZE&&g5(t,e)?(t=f5(),vv=QE=Ds=null,Bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return m5&&e.locale!=="ko"?null:e.data;default:return null}}var S7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S7[t.type]:e==="textarea"}function x5(t,e,n,r){YD(r),e=a0(e,"onChange"),0<e.length&&(n=new XE("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var op=null,jp=null;function k7(t){j5(t,0)}function vx(t){var e=Wl(t);if(BD(e))return t}function C7(t,e){if(t==="change")return e}var b5=!1;if(bi){var py;if(bi){var fy="oninput"in document;if(!fy){var Dk=document.createElement("div");Dk.setAttribute("oninput","return;"),fy=typeof Dk.oninput=="function"}py=fy}else py=!1;b5=py&&(!document.documentMode||9<document.documentMode)}function Nk(){op&&(op.detachEvent("onpropertychange",y5),jp=op=null)}function y5(t){if(t.propertyName==="value"&&vx(jp)){var e=[];x5(e,jp,t,WE(t)),ZD(k7,e)}}function j7(t,e,n){t==="focusin"?(Nk(),op=e,jp=n,op.attachEvent("onpropertychange",y5)):t==="focusout"&&Nk()}function A7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vx(jp)}function P7(t,e){if(t==="click")return vx(e)}function R7(t,e){if(t==="input"||t==="change")return vx(e)}function D7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var no=typeof Object.is=="function"?Object.is:D7;function Ap(t,e){if(no(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!pw.call(e,o)||!no(t[o],e[o]))return!1}return!0}function $k(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ok(t,e){var n=$k(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$k(n)}}function w5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _5(){for(var t=window,e=e0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=e0(t.document)}return e}function eT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N7(t){var e=_5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&w5(n.ownerDocument.documentElement,n)){if(r!==null&&eT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Ok(n,i);var a=Ok(n,r);o&&a&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $7=bi&&"documentMode"in document&&11>=document.documentMode,Ul=null,Rw=null,ip=null,Dw=!1;function Fk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dw||Ul==null||Ul!==e0(r)||(r=Ul,"selectionStart"in r&&eT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ip&&Ap(ip,r)||(ip=r,r=a0(Rw,"onSelect"),0<r.length&&(e=new XE("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ul)))}function jm(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ql={animationend:jm("Animation","AnimationEnd"),animationiteration:jm("Animation","AnimationIteration"),animationstart:jm("Animation","AnimationStart"),transitionend:jm("Transition","TransitionEnd")},my={},E5={};bi&&(E5=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function xx(t){if(my[t])return my[t];if(!ql[t])return t;var e=ql[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in E5)return my[t]=e[n];return t}var T5=xx("animationend"),I5=xx("animationiteration"),S5=xx("animationstart"),k5=xx("transitionend"),C5=new Map,Mk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){C5.set(t,e),Wc(e,[t])}for(var gy=0;gy<Mk.length;gy++){var vy=Mk[gy],O7=vy.toLowerCase(),F7=vy[0].toUpperCase()+vy.slice(1);fa(O7,"on"+F7)}fa(T5,"onAnimationEnd");fa(I5,"onAnimationIteration");fa(S5,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(k5,"onTransitionEnd");xd("onMouseEnter",["mouseout","mouseover"]);xd("onMouseLeave",["mouseout","mouseover"]);xd("onPointerEnter",["pointerout","pointerover"]);xd("onPointerLeave",["pointerout","pointerover"]);Wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M7=new Set("cancel close invalid load scroll toggle".split(" ").concat(qh));function Lk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,O9(r,e,void 0,t),t.currentTarget=null}function j5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],l=c.instance,d=c.currentTarget;if(c=c.listener,l!==i&&o.isPropagationStopped())break e;Lk(o,c,d),i=l}else for(a=0;a<r.length;a++){if(c=r[a],l=c.instance,d=c.currentTarget,c=c.listener,l!==i&&o.isPropagationStopped())break e;Lk(o,c,d),i=l}}}if(n0)throw t=Cw,n0=!1,Cw=null,t}function lt(t,e){var n=e[Mw];n===void 0&&(n=e[Mw]=new Set);var r=t+"__bubble";n.has(r)||(A5(e,t,2,!1),n.add(r))}function xy(t,e,n){var r=0;e&&(r|=4),A5(n,t,r,e)}var Am="_reactListening"+Math.random().toString(36).slice(2);function Pp(t){if(!t[Am]){t[Am]=!0,FD.forEach(function(n){n!=="selectionchange"&&(M7.has(n)||xy(n,!1,t),xy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Am]||(e[Am]=!0,xy("selectionchange",!1,e))}}function A5(t,e,n,r){switch(p5(e)){case 1:var o=J9;break;case 4:o=Z9;break;default:o=YE}n=o.bind(null,e,n,t),o=void 0,!kw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function by(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;a=a.return}for(;c!==null;){if(a=nc(c),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}c=c.parentNode}}r=r.return}ZD(function(){var d=i,h=WE(n),u=[];e:{var f=C5.get(t);if(f!==void 0){var v=XE,x=t;switch(t){case"keypress":if(xv(n)===0)break e;case"keydown":case"keyup":v=f7;break;case"focusin":x="focus",v=hy;break;case"focusout":x="blur",v=hy;break;case"beforeblur":case"afterblur":v=hy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=kk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=n7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=v7;break;case T5:case I5:case S5:v=i7;break;case k5:v=b7;break;case"scroll":v=e7;break;case"wheel":v=w7;break;case"copy":case"cut":case"paste":v=a7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=jk}var y=(e&4)!==0,_=!y&&t==="scroll",w=y?f!==null?f+"Capture":null:f;y=[];for(var E=d,I;E!==null;){I=E;var j=I.stateNode;if(I.tag===5&&j!==null&&(I=j,w!==null&&(j=Ip(E,w),j!=null&&y.push(Rp(E,j,I)))),_)break;E=E.return}0<y.length&&(f=new v(f,x,null,n,h),u.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==Iw&&(x=n.relatedTarget||n.fromElement)&&(nc(x)||x[yi]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=d,x=x?nc(x):null,x!==null&&(_=Hc(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(y=kk,j="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=jk,j="onPointerLeave",w="onPointerEnter",E="pointer"),_=v==null?f:Wl(v),I=x==null?f:Wl(x),f=new y(j,E+"leave",v,n,h),f.target=_,f.relatedTarget=I,j=null,nc(h)===d&&(y=new y(w,E+"enter",x,n,h),y.target=I,y.relatedTarget=_,j=y),_=j,v&&x)t:{for(y=v,w=x,E=0,I=y;I;I=ll(I))E++;for(I=0,j=w;j;j=ll(j))I++;for(;0<E-I;)y=ll(y),E--;for(;0<I-E;)w=ll(w),I--;for(;E--;){if(y===w||w!==null&&y===w.alternate)break t;y=ll(y),w=ll(w)}y=null}else y=null;v!==null&&Vk(u,f,v,y,!1),x!==null&&_!==null&&Vk(u,_,x,y,!0)}}e:{if(f=d?Wl(d):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var D=C7;else if(Rk(f))if(b5)D=R7;else{D=A7;var $=j7}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=P7);if(D&&(D=D(t,d))){x5(u,D,n,h);break e}$&&$(t,f,d),t==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&yw(f,"number",f.value)}switch($=d?Wl(d):window,t){case"focusin":(Rk($)||$.contentEditable==="true")&&(Ul=$,Rw=d,ip=null);break;case"focusout":ip=Rw=Ul=null;break;case"mousedown":Dw=!0;break;case"contextmenu":case"mouseup":case"dragend":Dw=!1,Fk(u,n,h);break;case"selectionchange":if($7)break;case"keydown":case"keyup":Fk(u,n,h)}var k;if(ZE)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Bl?g5(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(m5&&n.locale!=="ko"&&(Bl||S!=="onCompositionStart"?S==="onCompositionEnd"&&Bl&&(k=f5()):(Ds=h,QE="value"in Ds?Ds.value:Ds.textContent,Bl=!0)),$=a0(d,S),0<$.length&&(S=new Ck(S,t,null,n,h),u.push({event:S,listeners:$}),k?S.data=k:(k=v5(n),k!==null&&(S.data=k)))),(k=E7?T7(t,n):I7(t,n))&&(d=a0(d,"onBeforeInput"),0<d.length&&(h=new Ck("onBeforeInput","beforeinput",null,n,h),u.push({event:h,listeners:d}),h.data=k))}j5(u,e)})}function Rp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function a0(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Ip(t,n),i!=null&&r.unshift(Rp(t,i,o)),i=Ip(t,e),i!=null&&r.push(Rp(t,i,o))),t=t.return}return r}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vk(t,e,n,r,o){for(var i=e._reactName,a=[];n!==null&&n!==r;){var c=n,l=c.alternate,d=c.stateNode;if(l!==null&&l===r)break;c.tag===5&&d!==null&&(c=d,o?(l=Ip(n,i),l!=null&&a.unshift(Rp(n,l,c))):o||(l=Ip(n,i),l!=null&&a.push(Rp(n,l,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var L7=/\r\n?/g,V7=/\u0000|\uFFFD/g;function zk(t){return(typeof t=="string"?t:""+t).replace(L7,`
`).replace(V7,"")}function Pm(t,e,n){if(e=zk(e),zk(t)!==e&&n)throw Error(Y(425))}function c0(){}var Nw=null,$w=null;function Ow(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fw=typeof setTimeout=="function"?setTimeout:void 0,z7=typeof clearTimeout=="function"?clearTimeout:void 0,Bk=typeof Promise=="function"?Promise:void 0,B7=typeof queueMicrotask=="function"?queueMicrotask:typeof Bk<"u"?function(t){return Bk.resolve(null).then(t).catch(U7)}:Fw;function U7(t){setTimeout(function(){throw t})}function yy(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Cp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Cp(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zd=Math.random().toString(36).slice(2),bo="__reactFiber$"+Zd,Dp="__reactProps$"+Zd,yi="__reactContainer$"+Zd,Mw="__reactEvents$"+Zd,q7="__reactListeners$"+Zd,W7="__reactHandles$"+Zd;function nc(t){var e=t[bo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yi]||n[bo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uk(t);t!==null;){if(n=t[bo])return n;t=Uk(t)}return e}t=n,n=t.parentNode}return null}function Ef(t){return t=t[bo]||t[yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function bx(t){return t[Dp]||null}var Lw=[],Hl=-1;function ma(t){return{current:t}}function ht(t){0>Hl||(t.current=Lw[Hl],Lw[Hl]=null,Hl--)}function it(t,e){Hl++,Lw[Hl]=t.current,t.current=e}var Ys={},Dn=ma(Ys),fr=ma(!1),wc=Ys;function bd(t,e){var n=t.type.contextTypes;if(!n)return Ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function mr(t){return t=t.childContextTypes,t!=null}function l0(){ht(fr),ht(Dn)}function qk(t,e,n){if(Dn.current!==Ys)throw Error(Y(168));it(Dn,e),it(fr,n)}function P5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(Y(108,j9(t)||"Unknown",o));return Tt({},n,r)}function d0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,wc=Dn.current,it(Dn,t),it(fr,fr.current),!0}function Wk(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=P5(t,e,wc),r.__reactInternalMemoizedMergedChildContext=t,ht(fr),ht(Dn),it(Dn,t)):ht(fr),it(fr,n)}var si=null,yx=!1,wy=!1;function R5(t){si===null?si=[t]:si.push(t)}function H7(t){yx=!0,R5(t)}function ga(){if(!wy&&si!==null){wy=!0;var t=0,e=Ze;try{var n=si;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}si=null,yx=!1}catch(o){throw si!==null&&(si=si.slice(t+1)),r5(HE,ga),o}finally{Ze=e,wy=!1}}return null}var Gl=[],Kl=0,u0=null,h0=0,Rr=[],Dr=0,_c=null,ci=1,li="";function za(t,e){Gl[Kl++]=h0,Gl[Kl++]=u0,u0=t,h0=e}function D5(t,e,n){Rr[Dr++]=ci,Rr[Dr++]=li,Rr[Dr++]=_c,_c=t;var r=ci;t=li;var o=32-Jr(r)-1;r&=~(1<<o),n+=1;var i=32-Jr(e)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,ci=1<<32-Jr(e)+o|n<<o|r,li=i+t}else ci=1<<i|n<<o|r,li=t}function tT(t){t.return!==null&&(za(t,1),D5(t,1,0))}function nT(t){for(;t===u0;)u0=Gl[--Kl],Gl[Kl]=null,h0=Gl[--Kl],Gl[Kl]=null;for(;t===_c;)_c=Rr[--Dr],Rr[Dr]=null,li=Rr[--Dr],Rr[Dr]=null,ci=Rr[--Dr],Rr[Dr]=null}var Sr=null,Tr=null,gt=!1,Xr=null;function N5(t,e){var n=Nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sr=t,Tr=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sr=t,Tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_c!==null?{id:ci,overflow:li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sr=t,Tr=null,!0):!1;default:return!1}}function Vw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zw(t){if(gt){var e=Tr;if(e){var n=e;if(!Hk(t,e)){if(Vw(t))throw Error(Y(418));e=zs(n.nextSibling);var r=Sr;e&&Hk(t,e)?N5(r,n):(t.flags=t.flags&-4097|2,gt=!1,Sr=t)}}else{if(Vw(t))throw Error(Y(418));t.flags=t.flags&-4097|2,gt=!1,Sr=t}}}function Gk(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sr=t}function Rm(t){if(t!==Sr)return!1;if(!gt)return Gk(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ow(t.type,t.memoizedProps)),e&&(e=Tr)){if(Vw(t))throw $5(),Error(Y(418));for(;e;)N5(t,e),e=zs(e.nextSibling)}if(Gk(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Tr=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Tr=null}}else Tr=Sr?zs(t.stateNode.nextSibling):null;return!0}function $5(){for(var t=Tr;t;)t=zs(t.nextSibling)}function yd(){Tr=Sr=null,gt=!1}function rT(t){Xr===null?Xr=[t]:Xr.push(t)}var G7=Ai.ReactCurrentBatchConfig;function zu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var c=o.refs;a===null?delete c[i]:c[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Dm(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kk(t){var e=t._init;return e(t._payload)}function O5(t){function e(w,E){if(t){var I=w.deletions;I===null?(w.deletions=[E],w.flags|=16):I.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function o(w,E){return w=Ws(w,E),w.index=0,w.sibling=null,w}function i(w,E,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<E?(w.flags|=2,E):I):(w.flags|=2,E)):(w.flags|=1048576,E)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function c(w,E,I,j){return E===null||E.tag!==6?(E=Cy(I,w.mode,j),E.return=w,E):(E=o(E,I),E.return=w,E)}function l(w,E,I,j){var D=I.type;return D===zl?h(w,E,I.props.children,j,I.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ss&&Kk(D)===E.type)?(j=o(E,I.props),j.ref=zu(w,E,I),j.return=w,j):(j=Iv(I.type,I.key,I.props,null,w.mode,j),j.ref=zu(w,E,I),j.return=w,j)}function d(w,E,I,j){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=jy(I,w.mode,j),E.return=w,E):(E=o(E,I.children||[]),E.return=w,E)}function h(w,E,I,j,D){return E===null||E.tag!==7?(E=fc(I,w.mode,j,D),E.return=w,E):(E=o(E,I),E.return=w,E)}function u(w,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Cy(""+E,w.mode,I),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _m:return I=Iv(E.type,E.key,E.props,null,w.mode,I),I.ref=zu(w,null,E),I.return=w,I;case Vl:return E=jy(E,w.mode,I),E.return=w,E;case Ss:var j=E._init;return u(w,j(E._payload),I)}if(Bh(E)||Ou(E))return E=fc(E,w.mode,I,null),E.return=w,E;Dm(w,E)}return null}function f(w,E,I,j){var D=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:c(w,E,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _m:return I.key===D?l(w,E,I,j):null;case Vl:return I.key===D?d(w,E,I,j):null;case Ss:return D=I._init,f(w,E,D(I._payload),j)}if(Bh(I)||Ou(I))return D!==null?null:h(w,E,I,j,null);Dm(w,I)}return null}function v(w,E,I,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(I)||null,c(E,w,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _m:return w=w.get(j.key===null?I:j.key)||null,l(E,w,j,D);case Vl:return w=w.get(j.key===null?I:j.key)||null,d(E,w,j,D);case Ss:var $=j._init;return v(w,E,I,$(j._payload),D)}if(Bh(j)||Ou(j))return w=w.get(I)||null,h(E,w,j,D,null);Dm(E,j)}return null}function x(w,E,I,j){for(var D=null,$=null,k=E,S=E=0,C=null;k!==null&&S<I.length;S++){k.index>S?(C=k,k=null):C=k.sibling;var P=f(w,k,I[S],j);if(P===null){k===null&&(k=C);break}t&&k&&P.alternate===null&&e(w,k),E=i(P,E,S),$===null?D=P:$.sibling=P,$=P,k=C}if(S===I.length)return n(w,k),gt&&za(w,S),D;if(k===null){for(;S<I.length;S++)k=u(w,I[S],j),k!==null&&(E=i(k,E,S),$===null?D=k:$.sibling=k,$=k);return gt&&za(w,S),D}for(k=r(w,k);S<I.length;S++)C=v(k,w,S,I[S],j),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?S:C.key),E=i(C,E,S),$===null?D=C:$.sibling=C,$=C);return t&&k.forEach(function(N){return e(w,N)}),gt&&za(w,S),D}function y(w,E,I,j){var D=Ou(I);if(typeof D!="function")throw Error(Y(150));if(I=D.call(I),I==null)throw Error(Y(151));for(var $=D=null,k=E,S=E=0,C=null,P=I.next();k!==null&&!P.done;S++,P=I.next()){k.index>S?(C=k,k=null):C=k.sibling;var N=f(w,k,P.value,j);if(N===null){k===null&&(k=C);break}t&&k&&N.alternate===null&&e(w,k),E=i(N,E,S),$===null?D=N:$.sibling=N,$=N,k=C}if(P.done)return n(w,k),gt&&za(w,S),D;if(k===null){for(;!P.done;S++,P=I.next())P=u(w,P.value,j),P!==null&&(E=i(P,E,S),$===null?D=P:$.sibling=P,$=P);return gt&&za(w,S),D}for(k=r(w,k);!P.done;S++,P=I.next())P=v(k,w,S,P.value,j),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?S:P.key),E=i(P,E,S),$===null?D=P:$.sibling=P,$=P);return t&&k.forEach(function(O){return e(w,O)}),gt&&za(w,S),D}function _(w,E,I,j){if(typeof I=="object"&&I!==null&&I.type===zl&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _m:e:{for(var D=I.key,$=E;$!==null;){if($.key===D){if(D=I.type,D===zl){if($.tag===7){n(w,$.sibling),E=o($,I.props.children),E.return=w,w=E;break e}}else if($.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ss&&Kk(D)===$.type){n(w,$.sibling),E=o($,I.props),E.ref=zu(w,$,I),E.return=w,w=E;break e}n(w,$);break}else e(w,$);$=$.sibling}I.type===zl?(E=fc(I.props.children,w.mode,j,I.key),E.return=w,w=E):(j=Iv(I.type,I.key,I.props,null,w.mode,j),j.ref=zu(w,E,I),j.return=w,w=j)}return a(w);case Vl:e:{for($=I.key;E!==null;){if(E.key===$)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(w,E.sibling),E=o(E,I.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=jy(I,w.mode,j),E.return=w,w=E}return a(w);case Ss:return $=I._init,_(w,E,$(I._payload),j)}if(Bh(I))return x(w,E,I,j);if(Ou(I))return y(w,E,I,j);Dm(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(w,E.sibling),E=o(E,I),E.return=w,w=E):(n(w,E),E=Cy(I,w.mode,j),E.return=w,w=E),a(w)):n(w,E)}return _}var wd=O5(!0),F5=O5(!1),p0=ma(null),f0=null,Yl=null,oT=null;function iT(){oT=Yl=f0=null}function sT(t){var e=p0.current;ht(p0),t._currentValue=e}function Bw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function od(t,e){f0=t,oT=Yl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function Lr(t){var e=t._currentValue;if(oT!==t)if(t={context:t,memoizedValue:e,next:null},Yl===null){if(f0===null)throw Error(Y(308));Yl=t,f0.dependencies={lanes:0,firstContext:t}}else Yl=Yl.next=t;return e}var rc=null;function aT(t){rc===null?rc=[t]:rc.push(t)}function M5(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,aT(e)):(n.next=o.next,o.next=n),e.interleaved=n,wi(t,r)}function wi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ks=!1;function cT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,wi(t,n)}return o=r.interleaved,o===null?(e.next=e,aT(r)):(e.next=o.next,o.next=e),r.interleaved=e,wi(t,n)}function bv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,GE(t,n)}}function Yk(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function m0(t,e,n,r){var o=t.updateQueue;ks=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var l=c,d=l.next;l.next=null,a===null?i=d:a.next=d,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==a&&(c===null?h.firstBaseUpdate=d:c.next=d,h.lastBaseUpdate=l))}if(i!==null){var u=o.baseState;a=0,h=d=l=null,c=i;do{var f=c.lane,v=c.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=t,y=c;switch(f=e,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){u=x.call(v,u,f);break e}u=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(v,u,f):x,f==null)break e;u=Tt({},u,f);break e;case 2:ks=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[c]:f.push(c))}else v={eventTime:v,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(d=h=v,l=u):h=h.next=v,a|=f;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;f=c,c=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(h===null&&(l=u),o.baseState=l,o.firstBaseUpdate=d,o.lastBaseUpdate=h,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Tc|=a,t.lanes=a,t.memoizedState=u}}function Qk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Y(191,o));o.call(r)}}}var Tf={},Po=ma(Tf),Np=ma(Tf),$p=ma(Tf);function oc(t){if(t===Tf)throw Error(Y(174));return t}function lT(t,e){switch(it($p,e),it(Np,t),it(Po,Tf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_w(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_w(e,t)}ht(Po),it(Po,e)}function _d(){ht(Po),ht(Np),ht($p)}function V5(t){oc($p.current);var e=oc(Po.current),n=_w(e,t.type);e!==n&&(it(Np,t),it(Po,n))}function dT(t){Np.current===t&&(ht(Po),ht(Np))}var wt=ma(0);function g0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _y=[];function uT(){for(var t=0;t<_y.length;t++)_y[t]._workInProgressVersionPrimary=null;_y.length=0}var yv=Ai.ReactCurrentDispatcher,Ey=Ai.ReactCurrentBatchConfig,Ec=0,_t=null,tn=null,cn=null,v0=!1,sp=!1,Op=0,K7=0;function kn(){throw Error(Y(321))}function hT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!no(t[n],e[n]))return!1;return!0}function pT(t,e,n,r,o,i){if(Ec=i,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yv.current=t===null||t.memoizedState===null?J7:Z7,t=n(r,o),sp){i=0;do{if(sp=!1,Op=0,25<=i)throw Error(Y(301));i+=1,cn=tn=null,e.updateQueue=null,yv.current=eV,t=n(r,o)}while(sp)}if(yv.current=x0,e=tn!==null&&tn.next!==null,Ec=0,cn=tn=_t=null,v0=!1,e)throw Error(Y(300));return t}function fT(){var t=Op!==0;return Op=0,t}function go(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?_t.memoizedState=cn=t:cn=cn.next=t,cn}function Vr(){if(tn===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=cn===null?_t.memoizedState:cn.next;if(e!==null)cn=e,tn=t;else{if(t===null)throw Error(Y(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},cn===null?_t.memoizedState=cn=t:cn=cn.next=t}return cn}function Fp(t,e){return typeof e=="function"?e(t):e}function Ty(t){var e=Vr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=tn,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var a=o.next;o.next=i.next,i.next=a}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var c=a=null,l=null,d=i;do{var h=d.lane;if((Ec&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(c=l=u,a=r):l=l.next=u,_t.lanes|=h,Tc|=h}d=d.next}while(d!==null&&d!==i);l===null?a=r:l.next=c,no(r,e.memoizedState)||(dr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,_t.lanes|=i,Tc|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Iy(t){var e=Vr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do i=t(i,a.action),a=a.next;while(a!==o);no(i,e.memoizedState)||(dr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function z5(){}function B5(t,e){var n=_t,r=Vr(),o=e(),i=!no(r.memoizedState,o);if(i&&(r.memoizedState=o,dr=!0),r=r.queue,mT(W5.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||cn!==null&&cn.memoizedState.tag&1){if(n.flags|=2048,Mp(9,q5.bind(null,n,r,o,e),void 0,null),un===null)throw Error(Y(349));Ec&30||U5(n,e,o)}return o}function U5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function q5(t,e,n,r){e.value=n,e.getSnapshot=r,H5(e)&&G5(t)}function W5(t,e,n){return n(function(){H5(e)&&G5(t)})}function H5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!no(t,n)}catch{return!0}}function G5(t){var e=wi(t,1);e!==null&&Zr(e,t,1,-1)}function Xk(t){var e=go();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fp,lastRenderedState:t},e.queue=t,t=t.dispatch=X7.bind(null,_t,t),[e.memoizedState,t]}function Mp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function K5(){return Vr().memoizedState}function wv(t,e,n,r){var o=go();_t.flags|=t,o.memoizedState=Mp(1|e,n,void 0,r===void 0?null:r)}function wx(t,e,n,r){var o=Vr();r=r===void 0?null:r;var i=void 0;if(tn!==null){var a=tn.memoizedState;if(i=a.destroy,r!==null&&hT(r,a.deps)){o.memoizedState=Mp(e,n,i,r);return}}_t.flags|=t,o.memoizedState=Mp(1|e,n,i,r)}function Jk(t,e){return wv(8390656,8,t,e)}function mT(t,e){return wx(2048,8,t,e)}function Y5(t,e){return wx(4,2,t,e)}function Q5(t,e){return wx(4,4,t,e)}function X5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function J5(t,e,n){return n=n!=null?n.concat([t]):null,wx(4,4,X5.bind(null,e,t),n)}function gT(){}function Z5(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function e4(t,e){var n=Vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function t4(t,e,n){return Ec&21?(no(n,e)||(n=s5(),_t.lanes|=n,Tc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=n)}function Y7(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=Ey.transition;Ey.transition={};try{t(!1),e()}finally{Ze=n,Ey.transition=r}}function n4(){return Vr().memoizedState}function Q7(t,e,n){var r=qs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r4(t))o4(e,n);else if(n=M5(t,e,n,r),n!==null){var o=Kn();Zr(n,t,r,o),i4(n,e,r)}}function X7(t,e,n){var r=qs(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r4(t))o4(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,c=i(a,n);if(o.hasEagerState=!0,o.eagerState=c,no(c,a)){var l=e.interleaved;l===null?(o.next=o,aT(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=M5(t,e,o,r),n!==null&&(o=Kn(),Zr(n,t,r,o),i4(n,e,r))}}function r4(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function o4(t,e){sp=v0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function i4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,GE(t,n)}}var x0={readContext:Lr,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},J7={readContext:Lr,useCallback:function(t,e){return go().memoizedState=[t,e===void 0?null:e],t},useContext:Lr,useEffect:Jk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wv(4194308,4,X5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wv(4194308,4,t,e)},useInsertionEffect:function(t,e){return wv(4,2,t,e)},useMemo:function(t,e){var n=go();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=go();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Q7.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=go();return t={current:t},e.memoizedState=t},useState:Xk,useDebugValue:gT,useDeferredValue:function(t){return go().memoizedState=t},useTransition:function(){var t=Xk(!1),e=t[0];return t=Y7.bind(null,t[1]),go().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,o=go();if(gt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),un===null)throw Error(Y(349));Ec&30||U5(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Jk(W5.bind(null,r,i,t),[t]),r.flags|=2048,Mp(9,q5.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=go(),e=un.identifierPrefix;if(gt){var n=li,r=ci;n=(r&~(1<<32-Jr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Op++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z7={readContext:Lr,useCallback:Z5,useContext:Lr,useEffect:mT,useImperativeHandle:J5,useInsertionEffect:Y5,useLayoutEffect:Q5,useMemo:e4,useReducer:Ty,useRef:K5,useState:function(){return Ty(Fp)},useDebugValue:gT,useDeferredValue:function(t){var e=Vr();return t4(e,tn.memoizedState,t)},useTransition:function(){var t=Ty(Fp)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:z5,useSyncExternalStore:B5,useId:n4,unstable_isNewReconciler:!1},eV={readContext:Lr,useCallback:Z5,useContext:Lr,useEffect:mT,useImperativeHandle:J5,useInsertionEffect:Y5,useLayoutEffect:Q5,useMemo:e4,useReducer:Iy,useRef:K5,useState:function(){return Iy(Fp)},useDebugValue:gT,useDeferredValue:function(t){var e=Vr();return tn===null?e.memoizedState=t:t4(e,tn.memoizedState,t)},useTransition:function(){var t=Iy(Fp)[0],e=Vr().memoizedState;return[t,e]},useMutableSource:z5,useSyncExternalStore:B5,useId:n4,unstable_isNewReconciler:!1};function Yr(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Uw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _x={isMounted:function(t){return(t=t._reactInternals)?Hc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Kn(),o=qs(t),i=pi(r,o);i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,o),e!==null&&(Zr(e,t,o,r),bv(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Kn(),o=qs(t),i=pi(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bs(t,i,o),e!==null&&(Zr(e,t,o,r),bv(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Kn(),r=qs(t),o=pi(n,r);o.tag=2,e!=null&&(o.callback=e),e=Bs(t,o,r),e!==null&&(Zr(e,t,r,n),bv(e,t,r))}};function Zk(t,e,n,r,o,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ap(n,r)||!Ap(o,i):!0}function s4(t,e,n){var r=!1,o=Ys,i=e.contextType;return typeof i=="object"&&i!==null?i=Lr(i):(o=mr(e)?wc:Dn.current,r=e.contextTypes,i=(r=r!=null)?bd(t,o):Ys),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_x,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function eC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_x.enqueueReplaceState(e,e.state,null)}function qw(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},cT(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Lr(i):(i=mr(e)?wc:Dn.current,o.context=bd(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Uw(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&_x.enqueueReplaceState(o,o.state,null),m0(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Ed(t,e){try{var n="",r=e;do n+=C9(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Sy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ww(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tV=typeof WeakMap=="function"?WeakMap:Map;function a4(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){y0||(y0=!0,t_=r),Ww(t,e)},n}function c4(t,e,n){n=pi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Ww(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ww(t,e),typeof r!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function tC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tV;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=mV.bind(null,t,e,n),e.then(t,t))}function nC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rC(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var nV=Ai.ReactCurrentOwner,dr=!1;function Un(t,e,n,r){e.child=t===null?F5(e,null,n,r):wd(e,t.child,n,r)}function oC(t,e,n,r,o){n=n.render;var i=e.ref;return od(e,o),r=pT(t,e,n,r,i,o),n=fT(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_i(t,e,o)):(gt&&n&&tT(e),e.flags|=1,Un(t,e,r,o),e.child)}function iC(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!TT(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,l4(t,e,i,r,o)):(t=Iv(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ap,n(a,r)&&t.ref===e.ref)return _i(t,e,o)}return e.flags|=1,t=Ws(i,r),t.ref=e.ref,t.return=e,e.child=t}function l4(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Ap(i,r)&&t.ref===e.ref)if(dr=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,_i(t,e,o)}return Hw(t,e,n,r,o)}function d4(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Xl,wr),wr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(Xl,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,it(Xl,wr),wr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,it(Xl,wr),wr|=r;return Un(t,e,o,n),e.child}function u4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hw(t,e,n,r,o){var i=mr(n)?wc:Dn.current;return i=bd(e,i),od(e,o),n=pT(t,e,n,r,i,o),r=fT(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_i(t,e,o)):(gt&&r&&tT(e),e.flags|=1,Un(t,e,n,o),e.child)}function sC(t,e,n,r,o){if(mr(n)){var i=!0;d0(e)}else i=!1;if(od(e,o),e.stateNode===null)_v(t,e),s4(e,n,r),qw(e,n,r,o),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var l=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Lr(d):(d=mr(n)?wc:Dn.current,d=bd(e,d));var h=n.getDerivedStateFromProps,u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||l!==d)&&eC(e,a,r,d),ks=!1;var f=e.memoizedState;a.state=f,m0(e,r,a,o),l=e.memoizedState,c!==r||f!==l||fr.current||ks?(typeof h=="function"&&(Uw(e,n,h,r),l=e.memoizedState),(c=ks||Zk(e,n,c,r,f,l,d))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=d,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,L5(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Yr(e.type,c),a.props=d,u=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Lr(l):(l=mr(n)?wc:Dn.current,l=bd(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==u||f!==l)&&eC(e,a,r,l),ks=!1,f=e.memoizedState,a.state=f,m0(e,r,a,o);var x=e.memoizedState;c!==u||f!==x||fr.current||ks?(typeof v=="function"&&(Uw(e,n,v,r),x=e.memoizedState),(d=ks||Zk(e,n,d,r,f,x,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=l,r=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Gw(t,e,n,r,i,o)}function Gw(t,e,n,r,o,i){u4(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return o&&Wk(e,n,!1),_i(t,e,i);r=e.stateNode,nV.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=wd(e,t.child,null,i),e.child=wd(e,null,c,i)):Un(t,e,c,i),e.memoizedState=r.state,o&&Wk(e,n,!0),e.child}function h4(t){var e=t.stateNode;e.pendingContext?qk(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qk(t,e.context,!1),lT(t,e.containerInfo)}function aC(t,e,n,r,o){return yd(),rT(o),e.flags|=256,Un(t,e,n,r),e.child}var Kw={dehydrated:null,treeContext:null,retryLane:0};function Yw(t){return{baseLanes:t,cachePool:null,transitions:null}}function p4(t,e,n){var r=e.pendingProps,o=wt.current,i=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(o&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),it(wt,o&1),t===null)return zw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ix(a,r,0,null),t=fc(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yw(n),e.memoizedState=Kw,t):vT(e,a));if(o=t.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return rV(t,e,a,r,c,o,n);if(i){i=r.fallback,a=e.mode,o=t.child,c=o.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ws(o,l),r.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=Ws(c,i):(i=fc(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?Yw(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=Kw,r}return i=t.child,t=i.sibling,r=Ws(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vT(t,e){return e=Ix({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nm(t,e,n,r){return r!==null&&rT(r),wd(e,t.child,null,n),t=vT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rV(t,e,n,r,o,i,a){if(n)return e.flags&256?(e.flags&=-257,r=Sy(Error(Y(422))),Nm(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Ix({mode:"visible",children:r.children},o,0,null),i=fc(i,o,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&wd(e,t.child,null,a),e.child.memoizedState=Yw(a),e.memoizedState=Kw,i);if(!(e.mode&1))return Nm(t,e,a,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(Y(419)),r=Sy(i,r,void 0),Nm(t,e,a,r)}if(c=(a&t.childLanes)!==0,dr||c){if(r=un,r!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|a)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,wi(t,o),Zr(r,t,o,-1))}return ET(),r=Sy(Error(Y(421))),Nm(t,e,a,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=gV.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,Tr=zs(o.nextSibling),Sr=e,gt=!0,Xr=null,t!==null&&(Rr[Dr++]=ci,Rr[Dr++]=li,Rr[Dr++]=_c,ci=t.id,li=t.overflow,_c=e),e=vT(e,r.children),e.flags|=4096,e)}function cC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bw(t.return,e,n)}function ky(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function f4(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Un(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cC(t,n,e);else if(t.tag===19)cC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(it(wt,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&g0(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ky(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&g0(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ky(e,!0,n,null,i);break;case"together":ky(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _v(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Ws(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ws(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oV(t,e,n){switch(e.tag){case 3:h4(e),yd();break;case 5:V5(e);break;case 1:mr(e.type)&&d0(e);break;case 4:lT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;it(p0,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(it(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?p4(t,e,n):(it(wt,wt.current&1),t=_i(t,e,n),t!==null?t.sibling:null);it(wt,wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return f4(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),it(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,d4(t,e,n)}return _i(t,e,n)}var m4,Qw,g4,v4;m4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qw=function(){};g4=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,oc(Po.current);var i=null;switch(n){case"input":o=xw(t,o),r=xw(t,r),i=[];break;case"select":o=Tt({},o,{value:void 0}),r=Tt({},r,{value:void 0}),i=[];break;case"textarea":o=ww(t,o),r=ww(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=c0)}Ew(n,r);var a;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ep.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(c=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&l!==c&&(l!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ep.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&lt("scroll",t),i||c===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};v4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bu(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Cn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iV(t,e,n){var r=e.pendingProps;switch(nT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(e),null;case 1:return mr(e.type)&&l0(),Cn(e),null;case 3:return r=e.stateNode,_d(),ht(fr),ht(Dn),uT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xr!==null&&(o_(Xr),Xr=null))),Qw(t,e),Cn(e),null;case 5:dT(e);var o=oc($p.current);if(n=e.type,t!==null&&e.stateNode!=null)g4(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Cn(e),null}if(t=oc(Po.current),Rm(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[bo]=e,r[Dp]=i,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(o=0;o<qh.length;o++)lt(qh[o],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":vk(r,i),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},lt("invalid",r);break;case"textarea":bk(r,i),lt("invalid",r)}Ew(n,i),o=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Pm(r.textContent,c,t),o=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Pm(r.textContent,c,t),o=["children",""+c]):Ep.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&lt("scroll",r)}switch(n){case"input":Em(r),xk(r,i,!0);break;case"textarea":Em(r),yk(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=c0)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=WD(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[bo]=e,t[Dp]=r,m4(t,e,!1,!1),e.stateNode=t;e:{switch(a=Tw(n,r),n){case"dialog":lt("cancel",t),lt("close",t),o=r;break;case"iframe":case"object":case"embed":lt("load",t),o=r;break;case"video":case"audio":for(o=0;o<qh.length;o++)lt(qh[o],t);o=r;break;case"source":lt("error",t),o=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),o=r;break;case"details":lt("toggle",t),o=r;break;case"input":vk(t,r),o=xw(t,r),lt("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Tt({},r,{value:void 0}),lt("invalid",t);break;case"textarea":bk(t,r),o=ww(t,r),lt("invalid",t);break;default:o=r}Ew(n,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];i==="style"?KD(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HD(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tp(t,l):typeof l=="number"&&Tp(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ep.hasOwnProperty(i)?l!=null&&i==="onScroll"&&lt("scroll",t):l!=null&&zE(t,i,l,a))}switch(n){case"input":Em(t),xk(t,r,!1);break;case"textarea":Em(t),yk(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ks(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ed(t,!!r.multiple,i,!1):r.defaultValue!=null&&ed(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=c0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Cn(e),null;case 6:if(t&&e.stateNode!=null)v4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=oc($p.current),oc(Po.current),Rm(e)){if(r=e.stateNode,n=e.memoizedProps,r[bo]=e,(i=r.nodeValue!==n)&&(t=Sr,t!==null))switch(t.tag){case 3:Pm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pm(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bo]=e,e.stateNode=r}return Cn(e),null;case 13:if(ht(wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&Tr!==null&&e.mode&1&&!(e.flags&128))$5(),yd(),e.flags|=98560,i=!1;else if(i=Rm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[bo]=e}else yd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Cn(e),i=!1}else Xr!==null&&(o_(Xr),Xr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?nn===0&&(nn=3):ET())),e.updateQueue!==null&&(e.flags|=4),Cn(e),null);case 4:return _d(),Qw(t,e),t===null&&Pp(e.stateNode.containerInfo),Cn(e),null;case 10:return sT(e.type._context),Cn(e),null;case 17:return mr(e.type)&&l0(),Cn(e),null;case 19:if(ht(wt),i=e.memoizedState,i===null)return Cn(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)Bu(i,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=g0(t),a!==null){for(e.flags|=128,Bu(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return it(wt,wt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ut()>Td&&(e.flags|=128,r=!0,Bu(i,!1),e.lanes=4194304)}else{if(!r)if(t=g0(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!gt)return Cn(e),null}else 2*Ut()-i.renderingStartTime>Td&&n!==1073741824&&(e.flags|=128,r=!0,Bu(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ut(),e.sibling=null,n=wt.current,it(wt,r?n&1|2:n&1),e):(Cn(e),null);case 22:case 23:return _T(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wr&1073741824&&(Cn(e),e.subtreeFlags&6&&(e.flags|=8192)):Cn(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function sV(t,e){switch(nT(e),e.tag){case 1:return mr(e.type)&&l0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _d(),ht(fr),ht(Dn),uT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dT(e),null;case 13:if(ht(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));yd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(wt),null;case 4:return _d(),null;case 10:return sT(e.type._context),null;case 22:case 23:return _T(),null;case 24:return null;default:return null}}var $m=!1,Pn=!1,aV=typeof WeakSet=="function"?WeakSet:Set,le=null;function Ql(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ct(t,e,r)}else n.current=null}function Xw(t,e,n){try{n()}catch(r){Ct(t,e,r)}}var lC=!1;function cV(t,e){if(Nw=i0,t=_5(),eT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,l=-1,d=0,h=0,u=t,f=null;t:for(;;){for(var v;u!==n||o!==0&&u.nodeType!==3||(c=a+o),u!==i||r!==0&&u.nodeType!==3||(l=a+r),u.nodeType===3&&(a+=u.nodeValue.length),(v=u.firstChild)!==null;)f=u,u=v;for(;;){if(u===t)break t;if(f===n&&++d===o&&(c=a),f===i&&++h===r&&(l=a),(v=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=v}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($w={focusedElem:t,selectionRange:n},i0=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,_=x.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Yr(e.type,y),_);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(j){Ct(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return x=lC,lC=!1,x}function ap(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Xw(e,n,i)}o=o.next}while(o!==r)}}function Ex(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Jw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function x4(t){var e=t.alternate;e!==null&&(t.alternate=null,x4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bo],delete e[Dp],delete e[Mw],delete e[q7],delete e[W7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function b4(t){return t.tag===5||t.tag===3||t.tag===4}function dC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||b4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=c0));else if(r!==4&&(t=t.child,t!==null))for(Zw(t,e,n),t=t.sibling;t!==null;)Zw(t,e,n),t=t.sibling}function e_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(e_(t,e,n),t=t.sibling;t!==null;)e_(t,e,n),t=t.sibling}var gn=null,Qr=!1;function Hi(t,e,n){for(n=n.child;n!==null;)y4(t,e,n),n=n.sibling}function y4(t,e,n){if(Ao&&typeof Ao.onCommitFiberUnmount=="function")try{Ao.onCommitFiberUnmount(mx,n)}catch{}switch(n.tag){case 5:Pn||Ql(n,e);case 6:var r=gn,o=Qr;gn=null,Hi(t,e,n),gn=r,Qr=o,gn!==null&&(Qr?(t=gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):gn.removeChild(n.stateNode));break;case 18:gn!==null&&(Qr?(t=gn,n=n.stateNode,t.nodeType===8?yy(t.parentNode,n):t.nodeType===1&&yy(t,n),Cp(t)):yy(gn,n.stateNode));break;case 4:r=gn,o=Qr,gn=n.stateNode.containerInfo,Qr=!0,Hi(t,e,n),gn=r,Qr=o;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Xw(n,e,a),o=o.next}while(o!==r)}Hi(t,e,n);break;case 1:if(!Pn&&(Ql(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ct(n,e,c)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,Hi(t,e,n),Pn=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function uC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aV),e.forEach(function(r){var o=vV.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Gr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:gn=c.stateNode,Qr=!1;break e;case 3:gn=c.stateNode.containerInfo,Qr=!0;break e;case 4:gn=c.stateNode.containerInfo,Qr=!0;break e}c=c.return}if(gn===null)throw Error(Y(160));y4(i,a,o),gn=null,Qr=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(d){Ct(o,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w4(e,t),e=e.sibling}function w4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gr(e,t),co(t),r&4){try{ap(3,t,t.return),Ex(3,t)}catch(y){Ct(t,t.return,y)}try{ap(5,t,t.return)}catch(y){Ct(t,t.return,y)}}break;case 1:Gr(e,t),co(t),r&512&&n!==null&&Ql(n,n.return);break;case 5:if(Gr(e,t),co(t),r&512&&n!==null&&Ql(n,n.return),t.flags&32){var o=t.stateNode;try{Tp(o,"")}catch(y){Ct(t,t.return,y)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,c=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&UD(o,i),Tw(c,a);var d=Tw(c,i);for(a=0;a<l.length;a+=2){var h=l[a],u=l[a+1];h==="style"?KD(o,u):h==="dangerouslySetInnerHTML"?HD(o,u):h==="children"?Tp(o,u):zE(o,h,u,d)}switch(c){case"input":bw(o,i);break;case"textarea":qD(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ed(o,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?ed(o,!!i.multiple,i.defaultValue,!0):ed(o,!!i.multiple,i.multiple?[]:"",!1))}o[Dp]=i}catch(y){Ct(t,t.return,y)}}break;case 6:if(Gr(e,t),co(t),r&4){if(t.stateNode===null)throw Error(Y(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(y){Ct(t,t.return,y)}}break;case 3:if(Gr(e,t),co(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cp(e.containerInfo)}catch(y){Ct(t,t.return,y)}break;case 4:Gr(e,t),co(t);break;case 13:Gr(e,t),co(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(yT=Ut())),r&4&&uC(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(d=Pn)||h,Gr(e,t),Pn=d):Gr(e,t),co(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(le=t,h=t.child;h!==null;){for(u=le=h;le!==null;){switch(f=le,v=f.child,f.tag){case 0:case 11:case 14:case 15:ap(4,f,f.return);break;case 1:Ql(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){Ct(r,n,y)}}break;case 5:Ql(f,f.return);break;case 22:if(f.memoizedState!==null){pC(u);continue}}v!==null?(v.return=f,le=v):pC(u)}h=h.sibling}e:for(h=null,u=t;;){if(u.tag===5){if(h===null){h=u;try{o=u.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=u.stateNode,l=u.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=GD("display",a))}catch(y){Ct(t,t.return,y)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(y){Ct(t,t.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Gr(e,t),co(t),r&4&&uC(t);break;case 21:break;default:Gr(e,t),co(t)}}function co(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(b4(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Tp(o,""),r.flags&=-33);var i=dC(t);e_(t,i,o);break;case 3:case 4:var a=r.stateNode.containerInfo,c=dC(t);Zw(t,c,a);break;default:throw Error(Y(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lV(t,e,n){le=t,_4(t)}function _4(t,e,n){for(var r=(t.mode&1)!==0;le!==null;){var o=le,i=o.child;if(o.tag===22&&r){var a=o.memoizedState!==null||$m;if(!a){var c=o.alternate,l=c!==null&&c.memoizedState!==null||Pn;c=$m;var d=Pn;if($m=a,(Pn=l)&&!d)for(le=o;le!==null;)a=le,l=a.child,a.tag===22&&a.memoizedState!==null?fC(o):l!==null?(l.return=a,le=l):fC(o);for(;i!==null;)le=i,_4(i),i=i.sibling;le=o,$m=c,Pn=d}hC(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,le=i):hC(t)}}function hC(t){for(;le!==null;){var e=le;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||Ex(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Yr(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qk(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qk(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Cp(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Pn||e.flags&512&&Jw(e)}catch(f){Ct(e,e.return,f)}}if(e===t){le=null;break}if(n=e.sibling,n!==null){n.return=e.return,le=n;break}le=e.return}}function pC(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,le=n;break}le=e.return}}function fC(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ex(4,e)}catch(l){Ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){Ct(e,o,l)}}var i=e.return;try{Jw(e)}catch(l){Ct(e,i,l)}break;case 5:var a=e.return;try{Jw(e)}catch(l){Ct(e,a,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){le=null;break}var c=e.sibling;if(c!==null){c.return=e.return,le=c;break}le=e.return}}var dV=Math.ceil,b0=Ai.ReactCurrentDispatcher,xT=Ai.ReactCurrentOwner,Fr=Ai.ReactCurrentBatchConfig,We=0,un=null,Jt=null,bn=0,wr=0,Xl=ma(0),nn=0,Lp=null,Tc=0,Tx=0,bT=0,cp=null,lr=null,yT=0,Td=1/0,ni=null,y0=!1,t_=null,Us=null,Om=!1,Ns=null,w0=0,lp=0,n_=null,Ev=-1,Tv=0;function Kn(){return We&6?Ut():Ev!==-1?Ev:Ev=Ut()}function qs(t){return t.mode&1?We&2&&bn!==0?bn&-bn:G7.transition!==null?(Tv===0&&(Tv=s5()),Tv):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:p5(t.type)),t):1}function Zr(t,e,n,r){if(50<lp)throw lp=0,n_=null,Error(Y(185));wf(t,n,r),(!(We&2)||t!==un)&&(t===un&&(!(We&2)&&(Tx|=n),nn===4&&js(t,bn)),gr(t,r),n===1&&We===0&&!(e.mode&1)&&(Td=Ut()+500,yx&&ga()))}function gr(t,e){var n=t.callbackNode;G9(t,e);var r=o0(t,t===un?bn:0);if(r===0)n!==null&&Ek(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ek(n),e===1)t.tag===0?H7(mC.bind(null,t)):R5(mC.bind(null,t)),B7(function(){!(We&6)&&ga()}),n=null;else{switch(a5(r)){case 1:n=HE;break;case 4:n=o5;break;case 16:n=r0;break;case 536870912:n=i5;break;default:n=r0}n=A4(n,E4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E4(t,e){if(Ev=-1,Tv=0,We&6)throw Error(Y(327));var n=t.callbackNode;if(id()&&t.callbackNode!==n)return null;var r=o0(t,t===un?bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_0(t,r);else{e=r;var o=We;We|=2;var i=I4();(un!==t||bn!==e)&&(ni=null,Td=Ut()+500,pc(t,e));do try{pV();break}catch(c){T4(t,c)}while(!0);iT(),b0.current=i,We=o,Jt!==null?e=0:(un=null,bn=0,e=nn)}if(e!==0){if(e===2&&(o=jw(t),o!==0&&(r=o,e=r_(t,o))),e===1)throw n=Lp,pc(t,0),js(t,r),gr(t,Ut()),n;if(e===6)js(t,r);else{if(o=t.current.alternate,!(r&30)&&!uV(o)&&(e=_0(t,r),e===2&&(i=jw(t),i!==0&&(r=i,e=r_(t,i))),e===1))throw n=Lp,pc(t,0),js(t,r),gr(t,Ut()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:Ba(t,lr,ni);break;case 3:if(js(t,r),(r&130023424)===r&&(e=yT+500-Ut(),10<e)){if(o0(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Kn(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Fw(Ba.bind(null,t,lr,ni),e);break}Ba(t,lr,ni);break;case 4:if(js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var a=31-Jr(r);i=1<<a,a=e[a],a>o&&(o=a),r&=~i}if(r=o,r=Ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dV(r/1960))-r,10<r){t.timeoutHandle=Fw(Ba.bind(null,t,lr,ni),r);break}Ba(t,lr,ni);break;case 5:Ba(t,lr,ni);break;default:throw Error(Y(329))}}}return gr(t,Ut()),t.callbackNode===n?E4.bind(null,t):null}function r_(t,e){var n=cp;return t.current.memoizedState.isDehydrated&&(pc(t,e).flags|=256),t=_0(t,e),t!==2&&(e=lr,lr=n,e!==null&&o_(e)),t}function o_(t){lr===null?lr=t:lr.push.apply(lr,t)}function uV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!no(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e){for(e&=~bT,e&=~Tx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jr(e),r=1<<n;t[n]=-1,e&=~r}}function mC(t){if(We&6)throw Error(Y(327));id();var e=o0(t,0);if(!(e&1))return gr(t,Ut()),null;var n=_0(t,e);if(t.tag!==0&&n===2){var r=jw(t);r!==0&&(e=r,n=r_(t,r))}if(n===1)throw n=Lp,pc(t,0),js(t,e),gr(t,Ut()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ba(t,lr,ni),gr(t,Ut()),null}function wT(t,e){var n=We;We|=1;try{return t(e)}finally{We=n,We===0&&(Td=Ut()+500,yx&&ga())}}function Ic(t){Ns!==null&&Ns.tag===0&&!(We&6)&&id();var e=We;We|=1;var n=Fr.transition,r=Ze;try{if(Fr.transition=null,Ze=1,t)return t()}finally{Ze=r,Fr.transition=n,We=e,!(We&6)&&ga()}}function _T(){wr=Xl.current,ht(Xl)}function pc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,z7(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(nT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&l0();break;case 3:_d(),ht(fr),ht(Dn),uT();break;case 5:dT(r);break;case 4:_d();break;case 13:ht(wt);break;case 19:ht(wt);break;case 10:sT(r.type._context);break;case 22:case 23:_T()}n=n.return}if(un=t,Jt=t=Ws(t.current,null),bn=wr=e,nn=0,Lp=null,bT=Tx=Tc=0,lr=cp=null,rc!==null){for(e=0;e<rc.length;e++)if(n=rc[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=o,r.next=a}n.pending=r}rc=null}return t}function T4(t,e){do{var n=Jt;try{if(iT(),yv.current=x0,v0){for(var r=_t.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}v0=!1}if(Ec=0,cn=tn=_t=null,sp=!1,Op=0,xT.current=null,n===null||n.return===null){nn=1,Lp=e,Jt=null;break}e:{var i=t,a=n.return,c=n,l=e;if(e=bn,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=c,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=nC(a);if(v!==null){v.flags&=-257,rC(v,a,c,i,e),v.mode&1&&tC(i,d,e),e=v,l=d;var x=e.updateQueue;if(x===null){var y=new Set;y.add(l),e.updateQueue=y}else x.add(l);break e}else{if(!(e&1)){tC(i,d,e),ET();break e}l=Error(Y(426))}}else if(gt&&c.mode&1){var _=nC(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),rC(_,a,c,i,e),rT(Ed(l,c));break e}}i=l=Ed(l,c),nn!==4&&(nn=2),cp===null?cp=[i]:cp.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=a4(i,l,e);Yk(i,w);break e;case 1:c=l;var E=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Us===null||!Us.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=c4(i,c,e);Yk(i,j);break e}}i=i.return}while(i!==null)}k4(n)}catch(D){e=D,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function I4(){var t=b0.current;return b0.current=x0,t===null?x0:t}function ET(){(nn===0||nn===3||nn===2)&&(nn=4),un===null||!(Tc&268435455)&&!(Tx&268435455)||js(un,bn)}function _0(t,e){var n=We;We|=2;var r=I4();(un!==t||bn!==e)&&(ni=null,pc(t,e));do try{hV();break}catch(o){T4(t,o)}while(!0);if(iT(),We=n,b0.current=r,Jt!==null)throw Error(Y(261));return un=null,bn=0,nn}function hV(){for(;Jt!==null;)S4(Jt)}function pV(){for(;Jt!==null&&!M9();)S4(Jt)}function S4(t){var e=j4(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?k4(t):Jt=e,xT.current=null}function k4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sV(n,e),n!==null){n.flags&=32767,Jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nn=6,Jt=null;return}}else if(n=iV(n,e,wr),n!==null){Jt=n;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);nn===0&&(nn=5)}function Ba(t,e,n){var r=Ze,o=Fr.transition;try{Fr.transition=null,Ze=1,fV(t,e,n,r)}finally{Fr.transition=o,Ze=r}return null}function fV(t,e,n,r){do id();while(Ns!==null);if(We&6)throw Error(Y(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(K9(t,i),t===un&&(Jt=un=null,bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Om||(Om=!0,A4(r0,function(){return id(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fr.transition,Fr.transition=null;var a=Ze;Ze=1;var c=We;We|=4,xT.current=null,cV(t,n),w4(n,t),N7($w),i0=!!Nw,$w=Nw=null,t.current=n,lV(n),L9(),We=c,Ze=a,Fr.transition=i}else t.current=n;if(Om&&(Om=!1,Ns=t,w0=o),i=t.pendingLanes,i===0&&(Us=null),B9(n.stateNode),gr(t,Ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(y0)throw y0=!1,t=t_,t_=null,t;return w0&1&&t.tag!==0&&id(),i=t.pendingLanes,i&1?t===n_?lp++:(lp=0,n_=t):lp=0,ga(),null}function id(){if(Ns!==null){var t=a5(w0),e=Fr.transition,n=Ze;try{if(Fr.transition=null,Ze=16>t?16:t,Ns===null)var r=!1;else{if(t=Ns,Ns=null,w0=0,We&6)throw Error(Y(331));var o=We;for(We|=4,le=t.current;le!==null;){var i=le,a=i.child;if(le.flags&16){var c=i.deletions;if(c!==null){for(var l=0;l<c.length;l++){var d=c[l];for(le=d;le!==null;){var h=le;switch(h.tag){case 0:case 11:case 15:ap(8,h,i)}var u=h.child;if(u!==null)u.return=h,le=u;else for(;le!==null;){h=le;var f=h.sibling,v=h.return;if(x4(h),h===d){le=null;break}if(f!==null){f.return=v,le=f;break}le=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}le=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,le=a;else e:for(;le!==null;){if(i=le,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ap(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,le=w;break e}le=i.return}}var E=t.current;for(le=E;le!==null;){a=le;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,le=I;else e:for(a=E;le!==null;){if(c=le,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ex(9,c)}}catch(D){Ct(c,c.return,D)}if(c===a){le=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,le=j;break e}le=c.return}}if(We=o,ga(),Ao&&typeof Ao.onPostCommitFiberRoot=="function")try{Ao.onPostCommitFiberRoot(mx,t)}catch{}r=!0}return r}finally{Ze=n,Fr.transition=e}}return!1}function gC(t,e,n){e=Ed(n,e),e=a4(t,e,1),t=Bs(t,e,1),e=Kn(),t!==null&&(wf(t,1,e),gr(t,e))}function Ct(t,e,n){if(t.tag===3)gC(t,t,n);else for(;e!==null;){if(e.tag===3){gC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Us===null||!Us.has(r))){t=Ed(n,t),t=c4(e,t,1),e=Bs(e,t,1),t=Kn(),e!==null&&(wf(e,1,t),gr(e,t));break}}e=e.return}}function mV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Kn(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(bn&n)===n&&(nn===4||nn===3&&(bn&130023424)===bn&&500>Ut()-yT?pc(t,0):bT|=n),gr(t,e)}function C4(t,e){e===0&&(t.mode&1?(e=Sm,Sm<<=1,!(Sm&130023424)&&(Sm=4194304)):e=1);var n=Kn();t=wi(t,e),t!==null&&(wf(t,e,n),gr(t,n))}function gV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),C4(t,n)}function vV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),C4(t,n)}var j4;j4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)dr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dr=!1,oV(t,e,n);dr=!!(t.flags&131072)}else dr=!1,gt&&e.flags&1048576&&D5(e,h0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_v(t,e),t=e.pendingProps;var o=bd(e,Dn.current);od(e,n),o=pT(null,e,r,t,o,n);var i=fT();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(r)?(i=!0,d0(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,cT(e),o.updater=_x,e.stateNode=o,o._reactInternals=e,qw(e,r,t,n),e=Gw(null,e,r,!0,i,n)):(e.tag=0,gt&&i&&tT(e),Un(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_v(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=bV(r),t=Yr(r,t),o){case 0:e=Hw(null,e,r,t,n);break e;case 1:e=sC(null,e,r,t,n);break e;case 11:e=oC(null,e,r,t,n);break e;case 14:e=iC(null,e,r,Yr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Yr(r,o),Hw(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Yr(r,o),sC(t,e,r,o,n);case 3:e:{if(h4(e),t===null)throw Error(Y(387));r=e.pendingProps,i=e.memoizedState,o=i.element,L5(t,e),m0(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Ed(Error(Y(423)),e),e=aC(t,e,r,n,o);break e}else if(r!==o){o=Ed(Error(Y(424)),e),e=aC(t,e,r,n,o);break e}else for(Tr=zs(e.stateNode.containerInfo.firstChild),Sr=e,gt=!0,Xr=null,n=F5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yd(),r===o){e=_i(t,e,n);break e}Un(t,e,r,n)}e=e.child}return e;case 5:return V5(e),t===null&&zw(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,a=o.children,Ow(r,o)?a=null:i!==null&&Ow(r,i)&&(e.flags|=32),u4(t,e),Un(t,e,a,n),e.child;case 6:return t===null&&zw(e),null;case 13:return p4(t,e,n);case 4:return lT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wd(e,null,r,n):Un(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Yr(r,o),oC(t,e,r,o,n);case 7:return Un(t,e,e.pendingProps,n),e.child;case 8:return Un(t,e,e.pendingProps.children,n),e.child;case 12:return Un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,a=o.value,it(p0,r._currentValue),r._currentValue=a,i!==null)if(no(i.value,a)){if(i.children===o.children&&!fr.current){e=_i(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var l=c.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=pi(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bw(i.return,n,e),c.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Bw(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Un(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,od(e,n),o=Lr(o),r=r(o),e.flags|=1,Un(t,e,r,n),e.child;case 14:return r=e.type,o=Yr(r,e.pendingProps),o=Yr(r.type,o),iC(t,e,r,o,n);case 15:return l4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Yr(r,o),_v(t,e),e.tag=1,mr(r)?(t=!0,d0(e)):t=!1,od(e,n),s4(e,r,o),qw(e,r,o,n),Gw(null,e,r,!0,t,n);case 19:return f4(t,e,n);case 22:return d4(t,e,n)}throw Error(Y(156,e.tag))};function A4(t,e){return r5(t,e)}function xV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(t,e,n,r){return new xV(t,e,n,r)}function TT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bV(t){if(typeof t=="function")return TT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===UE)return 11;if(t===qE)return 14}return 2}function Ws(t,e){var n=t.alternate;return n===null?(n=Nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Iv(t,e,n,r,o,i){var a=2;if(r=t,typeof t=="function")TT(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zl:return fc(n.children,o,i,e);case BE:a=8,o|=8;break;case fw:return t=Nr(12,n,e,o|2),t.elementType=fw,t.lanes=i,t;case mw:return t=Nr(13,n,e,o),t.elementType=mw,t.lanes=i,t;case gw:return t=Nr(19,n,e,o),t.elementType=gw,t.lanes=i,t;case VD:return Ix(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MD:a=10;break e;case LD:a=9;break e;case UE:a=11;break e;case qE:a=14;break e;case Ss:a=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Nr(a,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function fc(t,e,n,r){return t=Nr(7,t,r,e),t.lanes=n,t}function Ix(t,e,n,r){return t=Nr(22,t,r,e),t.elementType=VD,t.lanes=n,t.stateNode={isHidden:!1},t}function Cy(t,e,n){return t=Nr(6,t,null,e),t.lanes=n,t}function jy(t,e,n){return e=Nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yV(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ly(0),this.expirationTimes=ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ly(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function IT(t,e,n,r,o,i,a,c,l){return t=new yV(t,e,n,c,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Nr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cT(i),t}function wV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function P4(t){if(!t)return Ys;t=t._reactInternals;e:{if(Hc(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(mr(n))return P5(t,n,e)}return e}function R4(t,e,n,r,o,i,a,c,l){return t=IT(n,r,!0,t,o,i,a,c,l),t.context=P4(null),n=t.current,r=Kn(),o=qs(n),i=pi(r,o),i.callback=e??null,Bs(n,i,o),t.current.lanes=o,wf(t,o,r),gr(t,r),t}function Sx(t,e,n,r){var o=e.current,i=Kn(),a=qs(o);return n=P4(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(o,e,a),t!==null&&(Zr(t,o,a,i),bv(t,o,a)),a}function E0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ST(t,e){vC(t,e),(t=t.alternate)&&vC(t,e)}var D4=typeof reportError=="function"?reportError:function(t){console.error(t)};function kT(t){this._internalRoot=t}kx.prototype.render=kT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Sx(t,e,null,null)};kx.prototype.unmount=kT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ic(function(){Sx(null,t,null,null)}),e[yi]=null}};function kx(t){this._internalRoot=t}kx.prototype.unstable_scheduleHydration=function(t){if(t){var e=d5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cs.length&&e!==0&&e<Cs[n].priority;n++);Cs.splice(n,0,t),n===0&&h5(t)}};function CT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xC(){}function _V(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=E0(a);i.call(d)}}var a=R4(e,r,t,0,null,!1,!1,"",xC);return t._reactRootContainer=a,t[yi]=a.current,Pp(t.nodeType===8?t.parentNode:t),Ic(),a}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var c=r;r=function(){var d=E0(l);c.call(d)}}var l=IT(t,0,!1,null,null,!1,!1,"",xC);return t._reactRootContainer=l,t[yi]=l.current,Pp(t.nodeType===8?t.parentNode:t),Ic(function(){Sx(e,l,n,r)}),l}function jx(t,e,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if(typeof o=="function"){var c=o;o=function(){var l=E0(a);c.call(l)}}Sx(e,a,t,o)}else a=_V(n,e,t,o,r);return E0(a)}c5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Uh(e.pendingLanes);n!==0&&(GE(e,n|1),gr(e,Ut()),!(We&6)&&(Td=Ut()+500,ga()))}break;case 13:Ic(function(){var r=wi(t,1);if(r!==null){var o=Kn();Zr(r,t,1,o)}}),ST(t,1)}};KE=function(t){if(t.tag===13){var e=wi(t,134217728);if(e!==null){var n=Kn();Zr(e,t,134217728,n)}ST(t,134217728)}};l5=function(t){if(t.tag===13){var e=qs(t),n=wi(t,e);if(n!==null){var r=Kn();Zr(n,t,e,r)}ST(t,e)}};d5=function(){return Ze};u5=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};Sw=function(t,e,n){switch(e){case"input":if(bw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=bx(r);if(!o)throw Error(Y(90));BD(r),bw(r,o)}}}break;case"textarea":qD(t,n);break;case"select":e=n.value,e!=null&&ed(t,!!n.multiple,e,!1)}};XD=wT;JD=Ic;var EV={usingClientEntryPoint:!1,Events:[Ef,Wl,bx,YD,QD,wT]},Uu={findFiberByHostInstance:nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TV={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=t5(t),t===null?null:t.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fm.isDisabled&&Fm.supportsFiber)try{mx=Fm.inject(TV),Ao=Fm}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EV;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CT(e))throw Error(Y(200));return wV(t,e,null,n)};Ar.createRoot=function(t,e){if(!CT(t))throw Error(Y(299));var n=!1,r="",o=D4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=IT(t,1,!1,null,null,n,!1,r,o),t[yi]=e.current,Pp(t.nodeType===8?t.parentNode:t),new kT(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=t5(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return Ic(t)};Ar.hydrate=function(t,e,n){if(!Cx(e))throw Error(Y(200));return jx(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!CT(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",a=D4;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=R4(e,null,t,1,n??null,o,!1,i,a),t[yi]=e.current,Pp(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new kx(e)};Ar.render=function(t,e,n){if(!Cx(e))throw Error(Y(200));return jx(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!Cx(t))throw Error(Y(40));return t._reactRootContainer?(Ic(function(){jx(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0):!1};Ar.unstable_batchedUpdates=wT;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cx(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return jx(t,e,n,!1,r)};Ar.version="18.3.1-next-f1338f8080-20240426";function N4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N4)}catch(t){console.error(t)}}N4(),ND.exports=Ar;var eu=ND.exports;const jT=NE(eu);var bC=eu;hw.createRoot=bC.createRoot,hw.hydrateRoot=bC.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}var $s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($s||($s={}));const yC="popstate";function IV(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:a,hash:c}=r.location;return i_("",{pathname:i,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:T0(o)}return kV(e,n,null,t)}function Wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SV(){return Math.random().toString(36).substr(2,8)}function wC(t,e){return{usr:t.state,key:t.key,idx:e}}function i_(t,e,n,r){return n===void 0&&(n=null),Vp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tu(e):e,{state:n,key:e&&e.key||r||SV()})}function T0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kV(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,c=$s.Pop,l=null,d=h();d==null&&(d=0,a.replaceState(Vp({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function u(){c=$s.Pop;let _=h(),w=_==null?null:_-d;d=_,l&&l({action:c,location:y.location,delta:w})}function f(_,w){c=$s.Push;let E=i_(y.location,_,w);d=h()+1;let I=wC(E,d),j=y.createHref(E);try{a.pushState(I,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(j)}i&&l&&l({action:c,location:y.location,delta:1})}function v(_,w){c=$s.Replace;let E=i_(y.location,_,w);d=h();let I=wC(E,d),j=y.createHref(E);a.replaceState(I,"",j),i&&l&&l({action:c,location:y.location,delta:0})}function x(_){let w=o.location.origin!=="null"?o.location.origin:o.location.href,E=typeof _=="string"?_:T0(_);return E=E.replace(/ $/,"%20"),Wt(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let y={get action(){return c},get location(){return t(o,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(yC,u),l=_,()=>{o.removeEventListener(yC,u),l=null}},createHref(_){return e(o,_)},createURL:x,encodeLocation(_){let w=x(_);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:v,go(_){return a.go(_)}};return y}var _C;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_C||(_C={}));function CV(t,e,n){return n===void 0&&(n="/"),jV(t,e,n)}function jV(t,e,n,r){let o=typeof e=="string"?tu(e):e,i=AT(o.pathname||"/",n);if(i==null)return null;let a=O4(t);AV(a);let c=null;for(let l=0;c==null&&l<a.length;++l){let d=BV(i);c=LV(a[l],d)}return c}function O4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,a,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Hs([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(Wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),O4(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:FV(d,i.index),routesMeta:h})};return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))o(i,a);else for(let l of F4(i.path))o(i,a,l)}),e}function F4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let a=F4(r.join("/")),c=[];return c.push(...a.map(l=>l===""?i:[i,l].join("/"))),o&&c.push(...a),c.map(l=>t.startsWith("/")&&l===""?"/":l)}function AV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PV=/^:[\w-]+$/,RV=3,DV=2,NV=1,$V=10,OV=-2,EC=t=>t==="*";function FV(t,e){let n=t.split("/"),r=n.length;return n.some(EC)&&(r+=OV),e&&(r+=DV),n.filter(o=>!EC(o)).reduce((o,i)=>o+(PV.test(i)?RV:i===""?NV:$V),r)}function MV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function LV(t,e,n){let{routesMeta:r}=t,o={},i="/",a=[];for(let c=0;c<r.length;++c){let l=r[c],d=c===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",u=VV({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),f=l.route;if(!u)return null;Object.assign(o,u.params),a.push({params:o,pathname:Hs([i,u.pathname]),pathnameBase:HV(Hs([i,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(i=Hs([i,u.pathnameBase]))}return a}function VV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zV(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((d,h,u)=>{let{paramName:f,isOptional:v}=h;if(f==="*"){let y=c[u]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=c[u];return v&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function zV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function BV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?tu(t):t;return{pathname:n?n.startsWith("/")?n:qV(n,e):e,search:GV(r),hash:KV(o)}}function qV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ay(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PT(t,e){let n=WV(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RT(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=tu(t):(o=Vp({},t),Wt(!o.pathname||!o.pathname.includes("?"),Ay("?","pathname","search",o)),Wt(!o.pathname||!o.pathname.includes("#"),Ay("#","pathname","hash",o)),Wt(!o.search||!o.search.includes("#"),Ay("#","search","hash",o)));let i=t===""||o.pathname==="",a=i?"/":o.pathname,c;if(a==null)c=n;else{let u=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),u-=1;o.pathname=f.join("/")}c=u>=0?e[u]:"/"}let l=UV(o,c),d=a&&a!=="/"&&a.endsWith("/"),h=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),HV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),GV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M4=["post","put","patch","delete"];new Set(M4);const QV=["get",...M4];new Set(QV);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}const DT=g.createContext(null),XV=g.createContext(null),va=g.createContext(null),Ax=g.createContext(null),xa=g.createContext({outlet:null,matches:[],isDataRoute:!1}),L4=g.createContext(null);function JV(t,e){let{relative:n}=e===void 0?{}:e;nu()||Wt(!1);let{basename:r,navigator:o}=g.useContext(va),{hash:i,pathname:a,search:c}=z4(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Hs([r,a])),o.createHref({pathname:l,search:c,hash:i})}function nu(){return g.useContext(Ax)!=null}function Gc(){return nu()||Wt(!1),g.useContext(Ax).location}function V4(t){g.useContext(va).static||g.useLayoutEffect(t)}function Ue(){let{isDataRoute:t}=g.useContext(xa);return t?uz():ZV()}function ZV(){nu()||Wt(!1);let t=g.useContext(DT),{basename:e,future:n,navigator:r}=g.useContext(va),{matches:o}=g.useContext(xa),{pathname:i}=Gc(),a=JSON.stringify(PT(o,n.v7_relativeSplatPath)),c=g.useRef(!1);return V4(()=>{c.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let u=RT(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Hs([e,u.pathname])),(h.replace?r.replace:r.push)(u,h.state,h)},[e,r,a,i,t])}function z4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(va),{matches:o}=g.useContext(xa),{pathname:i}=Gc(),a=JSON.stringify(PT(o,r.v7_relativeSplatPath));return g.useMemo(()=>RT(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function ez(t,e){return tz(t,e)}function tz(t,e,n,r){nu()||Wt(!1);let{navigator:o,static:i}=g.useContext(va),{matches:a}=g.useContext(xa),c=a[a.length-1],l=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let h=Gc(),u;if(e){var f;let w=typeof e=="string"?tu(e):e;d==="/"||(f=w.pathname)!=null&&f.startsWith(d)||Wt(!1),u=w}else u=h;let v=u.pathname||"/",x=v;if(d!=="/"){let w=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=CV(t,{pathname:x}),_=sz(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Hs([d,o.encodeLocation?o.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Hs([d,o.encodeLocation?o.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return e&&_?g.createElement(Ax.Provider,{value:{location:zp({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:$s.Pop}},_):_}function nz(){let t=dz(),e=YV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:o},n):null,null)}const rz=g.createElement(nz,null);class oz extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(xa.Provider,{value:this.props.routeContext},g.createElement(L4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iz(t){let{routeContext:e,match:n,children:r}=t,o=g.useContext(DT);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(xa.Provider,{value:e},r)}function sz(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(o=n)==null?void 0:o.errors;if(c!=null){let h=a.findIndex(u=>u.route.id&&(c==null?void 0:c[u.route.id])!==void 0);h>=0||Wt(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let u=a[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=h),u.route.id){let{loaderData:f,errors:v}=n,x=u.route.loader&&f[u.route.id]===void 0&&(!v||v[u.route.id]===void 0);if(u.route.lazy||x){l=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,u,f)=>{let v,x=!1,y=null,_=null;n&&(v=c&&u.route.id?c[u.route.id]:void 0,y=u.route.errorElement||rz,l&&(d<0&&f===0?(x=!0,_=null):d===f&&(x=!0,_=u.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,f+1)),E=()=>{let I;return v?I=y:x?I=_:u.route.Component?I=g.createElement(u.route.Component,null):u.route.element?I=u.route.element:I=h,g.createElement(iz,{match:u,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:I})};return n&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?g.createElement(oz,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var B4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B4||{}),I0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(I0||{});function az(t){let e=g.useContext(DT);return e||Wt(!1),e}function cz(t){let e=g.useContext(XV);return e||Wt(!1),e}function lz(t){let e=g.useContext(xa);return e||Wt(!1),e}function U4(t){let e=lz(),n=e.matches[e.matches.length-1];return n.route.id||Wt(!1),n.route.id}function dz(){var t;let e=g.useContext(L4),n=cz(I0.UseRouteError),r=U4(I0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uz(){let{router:t}=az(B4.UseNavigateStable),e=U4(I0.UseNavigateStable),n=g.useRef(!1);return V4(()=>{n.current=!0}),g.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,zp({fromRouteId:e},i)))},[t,e])}function hz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Py(t){let{to:e,replace:n,state:r,relative:o}=t;nu()||Wt(!1);let{future:i,static:a}=g.useContext(va),{matches:c}=g.useContext(xa),{pathname:l}=Gc(),d=Ue(),h=RT(e,PT(c,i.v7_relativeSplatPath),l,o==="path"),u=JSON.stringify(h);return g.useEffect(()=>d(JSON.parse(u),{replace:n,state:r,relative:o}),[d,u,o,n,r]),null}function Le(t){Wt(!1)}function pz(t){let{basename:e="/",children:n=null,location:r,navigationType:o=$s.Pop,navigator:i,static:a=!1,future:c}=t;nu()&&Wt(!1);let l=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:l,navigator:i,static:a,future:zp({v7_relativeSplatPath:!1},c)}),[l,c,i,a]);typeof r=="string"&&(r=tu(r));let{pathname:h="/",search:u="",hash:f="",state:v=null,key:x="default"}=r,y=g.useMemo(()=>{let _=AT(h,l);return _==null?null:{location:{pathname:_,search:u,hash:f,state:v,key:x},navigationType:o}},[l,h,u,f,v,x,o]);return y==null?null:g.createElement(va.Provider,{value:d},g.createElement(Ax.Provider,{children:n,value:y}))}function TC(t){let{children:e,location:n}=t;return ez(s_(e),n)}new Promise(()=>{});function s_(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,o)=>{if(!g.isValidElement(r))return;let i=[...e,o];if(r.type===g.Fragment){n.push.apply(n,s_(r.props.children,i));return}r.type!==Le&&Wt(!1),!r.props.index||!r.props.children||Wt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=s_(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a_(){return a_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a_.apply(this,arguments)}function fz(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function mz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gz(t,e){return t.button===0&&(!e||e==="_self")&&!mz(t)}const vz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xz="6";try{window.__reactRouterVersion=xz}catch{}const bz="startTransition",IC=RD[bz];function yz(t){let{basename:e,children:n,future:r,window:o}=t,i=g.useRef();i.current==null&&(i.current=IV({window:o,v5Compat:!0}));let a=i.current,[c,l]=g.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},h=g.useCallback(u=>{d&&IC?IC(()=>l(u)):l(u)},[l,d]);return g.useLayoutEffect(()=>a.listen(h),[a,h]),g.useEffect(()=>hz(r),[r]),g.createElement(pz,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const wz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_z=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ic=g.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:a,state:c,target:l,to:d,preventScrollReset:h,viewTransition:u}=e,f=fz(e,vz),{basename:v}=g.useContext(va),x,y=!1;if(typeof d=="string"&&_z.test(d)&&(x=d,wz))try{let I=new URL(window.location.href),j=d.startsWith("//")?new URL(I.protocol+d):new URL(d),D=AT(j.pathname,v);j.origin===I.origin&&D!=null?d=D+j.search+j.hash:y=!0}catch{}let _=JV(d,{relative:o}),w=Ez(d,{replace:a,state:c,target:l,preventScrollReset:h,relative:o,viewTransition:u});function E(I){r&&r(I),I.defaultPrevented||w(I)}return g.createElement("a",a_({},f,{href:x||_,onClick:y||i?r:E,ref:n,target:l}))});var SC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(SC||(SC={}));var kC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kC||(kC={}));function Ez(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,viewTransition:c}=e===void 0?{}:e,l=Ue(),d=Gc(),h=z4(t,{relative:a});return g.useCallback(u=>{if(gz(u,n)){u.preventDefault();let f=r!==void 0?r:T0(d)===T0(h);l(t,{replace:f,state:o,preventScrollReset:i,relative:a,viewTransition:c})}},[d,l,h,r,o,n,t,i,a,c])}var CC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Tz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],a=t[n++],c=t[n++],l=((o&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|a&63)}}return e.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],a=o+1<t.length,c=a?t[o+1]:0,l=o+2<t.length,d=l?t[o+2]:0,h=i>>2,u=(i&3)<<4|c>>4;let f=(c&15)<<2|d>>6,v=d&63;l||(v=64,a||(f=64)),r.push(n[h],n[u],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],c=o<t.length?n[t.charAt(o)]:0;++o;const d=o<t.length?n[t.charAt(o)]:64;++o;const u=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||c==null||d==null||u==null)throw new Iz;const f=i<<2|c>>4;if(r.push(f),d!==64){const v=c<<4&240|d>>2;if(r.push(v),u!==64){const x=d<<6&192|u;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Iz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sz=function(t){const e=q4(t);return NT.encodeByteArray(e,!0)},S0=function(t){return Sz(t).replace(/\./g,"")},W4=function(t){try{return NT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function k0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kz(n)||(t[n]=k0(t[n],e[n]));return t}function kz(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz=()=>H4().__FIREBASE_DEFAULTS__,jz=()=>{if(typeof process>"u"||typeof CC>"u")return;const t=CC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Az=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W4(t[1]);return e&&JSON.parse(e)},$T=()=>{try{return Cz()||jz()||Az()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G4=()=>{var t;return(t=$T())===null||t===void 0?void 0:t.config},Pz=t=>{var e;return(e=$T())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[S0(JSON.stringify(n)),S0(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function OT(){var t;const e=(t=$T())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dz(){return typeof window<"u"||Y4()}function Y4(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Nz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X4(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J4(){return!OT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qs(){try{return typeof indexedDB=="object"}catch{return!1}}function $z(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Oz(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="FirebaseError";class yn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Fz,Object.setPrototypeOf(this,yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,so.prototype.create)}}class so{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],a=i?Mz(i,r):"Error",c=`${this.serviceName}: ${a} (${o}).`;return new yn(o,c,r)}}function Mz(t,e){return t.replace(Lz,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Lz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],a=e[o];if(AC(i)&&AC(a)){if(!Bp(i,a))return!1}else if(i!==a)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function AC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,i]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(i)}}),e}function Wh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z4(t,e){const n=new zz(t,e);return n.subscribe.bind(n)}class zz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Bz(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Ry),o.error===void 0&&(o.error=Ry),o.complete===void 0&&(o.complete=Ry);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Bz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ry(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t){return t&&t._delegate?t._delegate:t}class Zt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Wz(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&a.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const a=this.instances.get(o);return a&&e(a,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qz(t){return t===Ua?void 0:t}function Wz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=[];var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const tN={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},Hz=De.INFO,Gz={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},Kz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=Gz[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class If{constructor(e){this.name=e,this._logLevel=Hz,this._logHandler=Kz,this._userLogHandler=null,MT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}function Yz(t){MT.forEach(e=>{e.setLogLevel(t)})}function Qz(t,e){for(const n of MT){let r=null;e&&e.level&&(r=tN[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(o,i,...a)=>{const c=a.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");i>=(r??o.logLevel)&&t({level:De[i].toLowerCase(),message:c,args:a,type:o.name})}}}const Xz=(t,e)=>e.some(n=>t instanceof n);let PC,RC;function Jz(){return PC||(PC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Zz(){return RC||(RC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nN=new WeakMap,l_=new WeakMap,rN=new WeakMap,Dy=new WeakMap,LT=new WeakMap;function eB(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(fi(t.result)),o()},a=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&nN.set(n,t)}).catch(()=>{}),LT.set(e,t),e}function tB(t){if(l_.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),o()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});l_.set(t,e)}let d_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return l_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nB(t){d_=t(d_)}function rB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ny(this),e,...n);return rN.set(r,e.sort?e.sort():[e]),fi(r)}:Zz().includes(t)?function(...e){return t.apply(Ny(this),e),fi(nN.get(this))}:function(...e){return fi(t.apply(Ny(this),e))}}function oB(t){return typeof t=="function"?rB(t):(t instanceof IDBTransaction&&tB(t),Xz(t,Jz())?new Proxy(t,d_):t)}function fi(t){if(t instanceof IDBRequest)return eB(t);if(Dy.has(t))return Dy.get(t);const e=oB(t);return e!==t&&(Dy.set(t,e),LT.set(e,t)),e}const Ny=t=>LT.get(t);function ou(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const a=indexedDB.open(t,e),c=fi(a);return r&&a.addEventListener("upgradeneeded",l=>{r(fi(a.result),l.oldVersion,l.newVersion,fi(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}function sd(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),fi(n).then(()=>{})}const iB=["get","getKey","getAll","getAllKeys","count"],sB=["put","add","delete","clear"],$y=new Map;function DC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($y.get(e))return $y.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=sB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||iB.includes(n)))return;const i=async function(a,...c){const l=this.transaction(a,o?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),o&&l.done]))[0]};return $y.set(e,i),i}nB(t=>({...t,get:(e,n,r)=>DC(e,n)||t.get(e,n,r),has:(e,n)=>!!DC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const C0="@firebase/app",u_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new If("@firebase/app"),lB="@firebase/app-compat",dB="@firebase/analytics-compat",uB="@firebase/analytics",hB="@firebase/app-check-compat",pB="@firebase/app-check",fB="@firebase/auth",mB="@firebase/auth-compat",gB="@firebase/database",vB="@firebase/data-connect",xB="@firebase/database-compat",bB="@firebase/functions",yB="@firebase/functions-compat",wB="@firebase/installations",_B="@firebase/installations-compat",EB="@firebase/messaging",TB="@firebase/messaging-compat",IB="@firebase/performance",SB="@firebase/performance-compat",kB="@firebase/remote-config",CB="@firebase/remote-config-compat",jB="@firebase/storage",AB="@firebase/storage-compat",PB="@firebase/firestore",RB="@firebase/vertexai-preview",DB="@firebase/firestore-compat",NB="firebase",$B="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]",OB={[C0]:"fire-core",[lB]:"fire-core-compat",[uB]:"fire-analytics",[dB]:"fire-analytics-compat",[pB]:"fire-app-check",[hB]:"fire-app-check-compat",[fB]:"fire-auth",[mB]:"fire-auth-compat",[gB]:"fire-rtdb",[vB]:"fire-data-connect",[xB]:"fire-rtdb-compat",[bB]:"fire-fn",[yB]:"fire-fn-compat",[wB]:"fire-iid",[_B]:"fire-iid-compat",[EB]:"fire-fcm",[TB]:"fire-fcm-compat",[IB]:"fire-perf",[SB]:"fire-perf-compat",[kB]:"fire-rc",[CB]:"fire-rc-compat",[jB]:"fire-gcs",[AB]:"fire-gcs-compat",[PB]:"fire-fst",[DB]:"fire-fst-compat",[RB]:"fire-vertex","fire-js":"fire-js",[NB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new Map,Id=new Map,Sd=new Map;function Up(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oN(t,e){t.container.addOrOverwriteComponent(e)}function Nn(t){const e=t.name;if(Sd.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;Sd.set(e,t);for(const n of Js.values())Up(n,t);for(const n of Id.values())Up(n,t);return!0}function Px(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function FB(t,e,n=Xs){Px(t,e).clearInstance(n)}function iN(t){return t.options!==void 0}function At(t){return t.settings!==void 0}function MB(){Sd.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new so("app","Firebase",LB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sN=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB extends sN{constructor(e,n,r,o){const i=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,a={name:r,automaticDataCollectionEnabled:i};if(e.apiKey!==void 0)super(e,a,o);else{const c=e;super(c.options,a,o)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,hn(C0,u_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){zT(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Mr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=$B;function VT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xs,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Mr.create("bad-app-name",{appName:String(o)});if(n||(n=G4()),!n)throw Mr.create("no-options");const i=Js.get(o);if(i){if(Bp(n,i.options)&&Bp(r,i.config))return i;throw Mr.create("duplicate-app",{appName:o})}const a=new eN(o);for(const l of Sd.values())a.addComponent(l);const c=new sN(n,r,a);return Js.set(o,c),c}function zB(t,e){if(Dz()&&!Y4())throw Mr.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;iN(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const o=d=>[...d].reduce((h,u)=>Math.imul(31,h)+u.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Mr.create("finalization-registry-not-supported",{});const i=""+o(JSON.stringify(r)),a=Id.get(i);if(a)return a.incRefCount(e.releaseOnDeref),a;const c=new eN(i);for(const d of Sd.values())c.addComponent(d);const l=new VB(n,e,i,c);return Id.set(i,l),l}function BB(t=Xs){const e=Js.get(t);if(!e&&t===Xs&&G4())return VT();if(!e)throw Mr.create("no-app",{appName:t});return e}function UB(){return Array.from(Js.values())}async function zT(t){let e=!1;const n=t.name;Js.has(n)?(e=!0,Js.delete(n)):Id.has(n)&&t.decRefCount()<=0&&(Id.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function hn(t,e,n){var r;let o=(r=OB[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${o}" with version "${e}":`];i&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(c.join(" "));return}Nn(new Zt(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}function aN(t,e){if(t!==null&&typeof t!="function")throw Mr.create("invalid-log-argument");Qz(t,e)}function cN(t){Yz(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB="firebase-heartbeat-database",WB=1,qp="firebase-heartbeat-store";let Oy=null;function lN(){return Oy||(Oy=ou(qB,WB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qp)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Oy}async function HB(t){try{const n=(await lN()).transaction(qp),r=await n.objectStore(qp).get(dN(t));return await n.done,r}catch(e){if(e instanceof yn)Ei.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function NC(t,e){try{const r=(await lN()).transaction(qp,"readwrite");await r.objectStore(qp).put(e,dN(t)),await r.done}catch(n){if(n instanceof yn)Ei.warn(n.message);else{const r=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function dN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=1024,KB=30*24*60*60*1e3;class YB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$C();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=KB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$C(),{heartbeatsToSend:r,unsentEntries:o}=QB(this._heartbeatsCache.heartbeats),i=S0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ei.warn(n),""}}}function $C(){return new Date().toISOString().substring(0,10)}function QB(t,e=GB){const n=[];let r=t.slice();for(const o of t){const i=n.find(a=>a.agent===o.agent);if(i){if(i.dates.push(o.date),OC(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),OC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qs()?$z().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return NC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return NC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function OC(t){return S0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t){Nn(new Zt("platform-logger",e=>new aB(e),"PRIVATE")),Nn(new Zt("heartbeat",e=>new YB(e),"PRIVATE")),hn(C0,u_,t),hn(C0,u_,"esm2017"),hn("fire-js","")}JB("");const ZB=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:yn,SDK_VERSION:Pi,_DEFAULT_ENTRY_NAME:Xs,_addComponent:Up,_addOrOverwriteComponent:oN,_apps:Js,_clearComponents:MB,_components:Sd,_getProvider:Px,_isFirebaseApp:iN,_isFirebaseServerApp:At,_registerComponent:Nn,_removeServiceInstance:FB,_serverApps:Id,deleteApp:zT,getApp:BB,getApps:UB,initializeApp:VT,initializeServerApp:zB,onLog:aN,registerVersion:hn,setLogLevel:cN},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e,n){this._delegate=e,this.firebase=n,Up(e,new Zt("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zT(this._delegate)))}_getService(e,n=Xs){var r;this._delegate.checkDestroyed();const o=this._delegate.container.getProvider(e);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})}_removeServiceInstance(e,n=Xs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Up(this._delegate,e)}_addOrOverwriteComponent(e){oN(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},FC=new so("app-compat","Firebase",tU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){const e={},n={__esModule:!0,initializeApp:i,app:o,registerVersion:hn,setLogLevel:cN,onLog:aN,apps:null,SDK_VERSION:Pi,INTERNAL:{registerComponent:c,removeApp:r,useAsService:l,modularAPIs:ZB}};n.default=n,Object.defineProperty(n,"apps",{get:a});function r(d){delete e[d]}function o(d){if(d=d||Xs,!jC(e,d))throw FC.create("no-app",{appName:d});return e[d]}o.App=t;function i(d,h={}){const u=VT(d,h);if(jC(e,u.name))return e[u.name];const f=new t(u,n);return e[u.name]=f,f}function a(){return Object.keys(e).map(d=>e[d])}function c(d){const h=d.name,u=h.replace("-compat","");if(Nn(d)&&d.type==="PUBLIC"){const f=(v=o())=>{if(typeof v[u]!="function")throw FC.create("invalid-app-argument",{appName:h});return v[u]()};d.serviceProps!==void 0&&k0(f,d.serviceProps),n[u]=f,t.prototype[u]=function(...v){return this._getService.bind(this,h).apply(this,d.multipleInstances?v:[])}}return d.type==="PUBLIC"?n[u]:null}function l(d,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(){const t=nU(eU);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:uN,extendNamespace:e,createSubscribe:Z4,ErrorFactory:so,deepExtend:k0});function e(n){k0(t,n)}return t}const rU=uN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new If("@firebase/app-compat"),oU="@firebase/app-compat",iU="0.2.43";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){hn(oU,iU,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=H4();if(t.firebase!==void 0){MC.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&MC.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const nr=rU;sU();var aU="firebase",cU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.registerVersion(aU,cU,"app-compat");var jt=function(){return jt=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jt.apply(this,arguments)};function Sf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function kd(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}const qu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},dl={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function hN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dU=lU,uU=hN,pN=new so("auth","Firebase",hN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new If("@firebase/auth");function hU(t,...e){j0.logLevel<=De.WARN&&j0.warn(`Auth (${Pi}): ${t}`,...e)}function Sv(t,...e){j0.logLevel<=De.ERROR&&j0.error(`Auth (${Pi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw UT(t,...e)}function rn(t,...e){return UT(t,...e)}function BT(t,e,n){const r=Object.assign(Object.assign({},uU()),{[e]:n});return new so("auth","Firebase",r).create(e,{appName:t.name})}function pn(t){return BT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&En(t,"argument-error"),BT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function UT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pN.create(t,...e)}function Q(t,e,...n){if(!t)throw UT(e,...n)}function ko(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sv(e),new Error(e)}function ro(t,e){t||ko(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qT(){return LC()==="http:"||LC()==="https:"}function LC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qT()||Q4()||"connection"in navigator)?navigator.onLine:!0}function fU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ro(n>e,"Short delay should be less than long delay!"),this.isMobile=Rz()||FT()}get(){return pU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t,e){ro(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ko("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ko("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ko("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=new kf(3e4,6e4);function Nt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $t(t,e,n,r,o={}){return mN(t,o,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const c=ru(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return Nz()||(d.referrerPolicy="no-referrer"),fN.fetch()(gN(t,t.config.apiHost,n,c),d)})}async function mN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mU),e);try{const o=new xU(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Hh(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hh(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Hh(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Hh(t,"user-disabled",a);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw BT(t,h,d);En(t,h)}}catch(o){if(o instanceof yn)throw o;En(t,"network-request-failed",{message:String(o)})}}async function Ri(t,e,n,r,o={}){const i=await $t(t,e,n,r,o);return"mfaPendingCredential"in i&&En(t,"multi-factor-auth-required",{_serverResponse:i}),i}function gN(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?WT(t.config,o):`${t.config.apiScheme}://${o}`}function vU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rn(this.auth,"network-request-failed")),gU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=rn(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){return t!==void 0&&t.getResponse!==void 0}function zC(t){return t!==void 0&&t.enterprise!==void 0}class bU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t){return(await $t(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function wU(t,e){return $t(t,"GET","/v2/recaptchaConfig",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e){return $t(t,"POST","/v1/accounts:delete",e)}async function EU(t,e){return $t(t,"POST","/v1/accounts:update",e)}async function vN(t,e){return $t(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TU(t,e=!1){const n=de(t),r=await n.getIdToken(e),o=Rx(r);Q(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:dp(Fy(o.auth_time)),issuedAtTime:dp(Fy(o.iat)),expirationTime:dp(Fy(o.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Fy(t){return Number(t)*1e3}function Rx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sv("JWT malformed, contained fewer than 3 sections"),null;try{const o=W4(n);return o?JSON.parse(o):(Sv("Failed to decode base64 JWT payload"),null)}catch(o){return Sv("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function BC(t){const e=Rx(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yn&&IU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dp(this.lastLoginAt),this.creationTime=dp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Ti(t,vN(n,{idToken:r}));Q(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?bN(i.providerUserInfo):[],c=kU(t.providerData,a),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),h=l?d:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new h_(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,u)}async function xN(t){const e=de(t);await Hp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kU(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function bN(t){return t.map(e=>{var{providerId:n}=e,r=Sf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,e){const n=await mN(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,a=gN(t,o,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",fN.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jU(t,e){return $t(t,"POST","/v2/accounts:revokeToken",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=BC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await CU(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,a=new ad;return r&&(Q(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),o&&(Q(typeof o=="string","internal-error",{appName:e}),a.accessToken=o),i&&(Q(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ad,this.toJSON())}_performRefresh(){return ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=Sf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new h_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ti(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TU(this,e)}reload(){return xN(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(At(this.auth.app))return Promise.reject(pn(this.auth));const e=await this.getIdToken();return await Ti(this,_U(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,a,c,l,d,h;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(o=n.email)!==null&&o!==void 0?o:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(c=n.tenantId)!==null&&c!==void 0?c:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(d=n.createdAt)!==null&&d!==void 0?d:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:j,isAnonymous:D,providerData:$,stsTokenManager:k}=n;Q(I&&k,e,"internal-error");const S=ad.fromJSON(this.name,k);Q(typeof I=="string",e,"internal-error"),Gi(u,e.name),Gi(f,e.name),Q(typeof j=="boolean",e,"internal-error"),Q(typeof D=="boolean",e,"internal-error"),Gi(v,e.name),Gi(x,e.name),Gi(y,e.name),Gi(_,e.name),Gi(w,e.name),Gi(E,e.name);const C=new di({uid:I,auth:e,email:f,emailVerified:j,displayName:u,isAnonymous:D,photoURL:x,phoneNumber:v,tenantId:y,stsTokenManager:S,createdAt:w,lastLoginAt:E});return $&&Array.isArray($)&&(C.providerData=$.map(P=>Object.assign({},P))),_&&(C._redirectEventId=_),C}static async _fromIdTokenResponse(e,n,r=!1){const o=new ad;o.updateFromServerResponse(n);const i=new di({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Hp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Q(o.localId!==void 0,"internal-error");const i=o.providerUserInfo!==void 0?bN(o.providerUserInfo):[],a=!(o.email&&o.passwordHash)&&!(i!=null&&i.length),c=new ad;c.updateFromIdToken(r);const l=new di({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new h_(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Map;function Ir(t){ro(t instanceof Function,"Expected a class definition");let e=UC.get(t);return e?(ro(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yN.type="NONE";const Cd=yN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){return`firebase:${t}:${e}:${n}`}class cd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=mc(this.userKey,o.apiKey,i),this.fullPersistenceKey=mc("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cd(Ir(Cd),e,r);const o=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=o[0]||Ir(Cd);const a=mc(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const h=await d._get(a);if(h){const u=di._fromJSON(e,h);d!==i&&(c=u),i=d;break}}catch{}const l=o.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new cd(i,e,r):(i=l[0],c&&await i._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new cd(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IN(e))return"Blackberry";if(SN(e))return"Webos";if(_N(e))return"Safari";if((e.includes("chrome/")||EN(e))&&!e.includes("edge/"))return"Chrome";if(Cf(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function wN(t=It()){return/firefox\//i.test(t)}function _N(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EN(t=It()){return/crios\//i.test(t)}function TN(t=It()){return/iemobile/i.test(t)}function Cf(t=It()){return/android/i.test(t)}function IN(t=It()){return/blackberry/i.test(t)}function SN(t=It()){return/webos/i.test(t)}function jf(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function AU(t=It()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function PU(t=It()){var e;return jf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RU(){return X4()&&document.documentMode===10}function kN(t=It()){return jf(t)||Cf(t)||SN(t)||IN(t)||/windows phone/i.test(t)||TN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e=[]){let n;switch(t){case"Browser":n=qC(It());break;case"Worker":n=`${qC(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,c)=>{try{const l=e(i);a(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(t,e={}){return $t(t,"GET","/v2/passwordPolicy",Nt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=6;class OU{constructor(e){var n,r,o,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:$U,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,a,c;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsLowercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WC(this),this.idTokenSubscription=new WC(this),this.beforeStateQueue=new DU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await cd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vN(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(At(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===c)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(a){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(At(this.app))return Promise.reject(pn(this));const n=e?de(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return At(this.app)?Promise.reject(pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return At(this.app)?Promise.reject(pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NU(this),n=new OU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new so("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await cd.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,o);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Pt(t){return de(t)}class WC{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z4(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MU(t){Af=t}function HT(t){return Af.loadJS(t)}function LU(){return Af.recaptchaV2Script}function VU(){return Af.recaptchaEnterpriseScript}function zU(){return Af.gapiScript}function jN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const BU="recaptcha-enterprise",UU="NO_RECAPTCHA";class qU{constructor(e){this.type=BU,this.auth=Pt(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,c)=>{wU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new bU(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(l=>{c(l)})})}function o(i,a,c){const l=window.grecaptcha;zC(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(UU)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(c=>{if(!n&&zC(window.grecaptcha))o(c,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VU();l.length!==0&&(l+=c),HT(l).then(()=>{o(c,i,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function HC(t,e,n,r=!1){const o=new qU(t);let i;try{i=await o.verify(n)}catch{i=await o.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gp(t,e,n,r){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await HC(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await HC(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}function WU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HU(t,e,n){const r=Pt(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=AN(e),{host:a,port:c}=GU(e),l=c===null?"":`:${c}`;r.config.emulator={url:`${i}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||KU()}function AN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GU(t){const e=AN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:GC(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:GC(a)}}}function GC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ko("not implemented")}_getIdTokenResponse(e){return ko("not implemented")}_linkToIdToken(e,n){return ko("not implemented")}_getReauthenticationResolver(e){return ko("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e){return $t(t,"POST","/v1/accounts:resetPassword",Nt(t,e))}async function YU(t,e){return $t(t,"POST","/v1/accounts:update",e)}async function QU(t,e){return $t(t,"POST","/v1/accounts:signUp",e)}async function XU(t,e){return $t(t,"POST","/v1/accounts:update",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){return Ri(t,"POST","/v1/accounts:signInWithPassword",Nt(t,e))}async function Dx(t,e){return $t(t,"POST","/v1/accounts:sendOobCode",Nt(t,e))}async function ZU(t,e){return Dx(t,e)}async function eq(t,e){return Dx(t,e)}async function tq(t,e){return Dx(t,e)}async function nq(t,e){return Dx(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rq(t,e){return Ri(t,"POST","/v1/accounts:signInWithEmailLink",Nt(t,e))}async function oq(t,e){return Ri(t,"POST","/v1/accounts:signInWithEmailLink",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends su{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Kp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,n,"signInWithPassword",JU);case"emailLink":return rq(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gp(e,r,"signUpPassword",QU);case"emailLink":return oq(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mi(t,e){return Ri(t,"POST","/v1/accounts:signInWithIdp",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq="http://localhost";class Oo extends su{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=Sf(n,["providerId","signInMethod"]);if(!r||!o)return null;const a=new Oo(r,o);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return mi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mi(e,n)}buildRequest(){const e={requestUri:iq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sq(t,e){return $t(t,"POST","/v1/accounts:sendVerificationCode",Nt(t,e))}async function aq(t,e){return Ri(t,"POST","/v1/accounts:signInWithPhoneNumber",Nt(t,e))}async function cq(t,e){const n=await Ri(t,"POST","/v1/accounts:signInWithPhoneNumber",Nt(t,e));if(n.temporaryProof)throw Hh(t,"account-exists-with-different-credential",n);return n}const lq={USER_NOT_FOUND:"user-not-found"};async function dq(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ri(t,"POST","/v1/accounts:signInWithPhoneNumber",Nt(t,n),lq)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends su{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new gc({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new gc({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return aq(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return cq(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return dq(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:o,temporaryProof:i}=e;return!r&&!n&&!o&&!i?null:new gc({verificationId:n,verificationCode:r,phoneNumber:o,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hq(t){const e=Jl(Wh(t)).link,n=e?Jl(Wh(e)).deep_link_id:null,r=Jl(Wh(t)).deep_link_id;return(r?Jl(Wh(r)).link:null)||r||n||e||t}class Nx{constructor(e){var n,r,o,i,a,c;const l=Jl(Wh(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,u=uq((o=l.mode)!==null&&o!==void 0?o:null);Q(d&&h&&u,"argument-error"),this.apiKey=d,this.operation=u,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=hq(e);try{return new Nx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,n){return Kp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nx.parseLink(n);return Q(r,"argument-error"),Kp._fromEmailAndCode(e,r.code,r.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Di{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ld extends au{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Q("providerId"in n&&"signInMethod"in n,"argument-error"),Oo._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Q(e.idToken||e.accessToken,"argument-error"),Oo._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ld.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ld.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:o,pendingToken:i,nonce:a,providerId:c}=e;if(!r&&!o&&!n&&!i||!c)return null;try{return new ld(c)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:i})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends au{constructor(){super("facebook.com")}static credential(e){return Oo._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";yo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oo._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.GOOGLE_SIGN_IN_METHOD="google.com";wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends au{constructor(){super("github.com")}static credential(e){return Oo._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq="http://localhost";class jd extends su{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return mi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,pendingToken:i}=n;return!r||!o||!i||r!==o?null:new jd(r,i)}static _create(e,n){return new jd(e,n)}buildRequest(){return{requestUri:pq,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="saml.";class A0 extends Di{constructor(e){Q(e.startsWith(fq),"argument-error"),super(e)}static credentialFromResult(e){return A0.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return A0.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=jd.fromJSON(e);return Q(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return jd._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends au{constructor(){super("twitter.com")}static credential(e,n){return Oo._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Eo.credential(n,r)}catch{return null}}}Eo.TWITTER_SIGN_IN_METHOD="twitter.com";Eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){return Ri(t,"POST","/v1/accounts:signUp",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await di._fromIdTokenResponse(e,r,o),a=KC(r);return new zr({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=KC(r);return new zr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function KC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mq(t){var e;if(At(t.app))return Promise.reject(pn(t));const n=Pt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new zr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await RN(n,{returnSecureToken:!0}),o=await zr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends yn{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,P0.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new P0(e,n,r,o)}}function DN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?P0._fromErrorAndOperation(t,i,e,r):i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gq(t,e){const n=de(t);await $x(!0,n,e);const{providerUserInfo:r}=await EU(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),o=NN(r||[]);return n.providerData=n.providerData.filter(i=>o.has(i.providerId)),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function GT(t,e,n=!1){const r=await Ti(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return zr._forOperation(t,"link",r)}async function $x(t,e,n){await Hp(e);const r=NN(e.providerData),o=t===!1?"provider-already-linked":"no-such-provider";Q(r.has(n)===t,e.auth,o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e,n=!1){const{auth:r}=t;if(At(r.app))return Promise.reject(pn(r));const o="reauthenticate";try{const i=await Ti(t,DN(r,o,e,t),n);Q(i.idToken,r,"internal-error");const a=Rx(i.idToken);Q(a,r,"internal-error");const{sub:c}=a;return Q(t.uid===c,r,"user-mismatch"),zr._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&En(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e,n=!1){if(At(t.app))return Promise.reject(pn(t));const r="signIn",o=await DN(t,r,e),i=await zr._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}async function Ox(t,e){return ON(Pt(t),e)}async function FN(t,e){const n=de(t);return await $x(!1,n,e.providerId),GT(n,e)}async function MN(t,e){return $N(de(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vq(t,e){return Ri(t,"POST","/v1/accounts:signInWithCustomToken",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e){if(At(t.app))return Promise.reject(pn(t));const n=Pt(t),r=await vq(n,{token:e,returnSecureToken:!0}),o=await zr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?KT._fromServerResponse(e,n):"totpInfo"in n?YT._fromServerResponse(e,n):En(e,"internal-error")}}class KT extends Pf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new KT(n)}}class YT extends Pf{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new YT(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e,n){var r;Q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(t){const e=Pt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VN(t,e,n){const r=Pt(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Fx(r,o,n),await Gp(r,o,"getOobCode",eq)}async function xq(t,e,n){await PN(de(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QT(t),r})}async function bq(t,e){await XU(de(t),{oobCode:e})}async function zN(t,e){const n=de(t),r=await PN(n,{oobCode:e}),o=r.requestType;switch(Q(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(r.mfaInfo,n,"internal-error");default:Q(r.email,n,"internal-error")}let i=null;return r.mfaInfo&&(i=Pf._fromServerResponse(Pt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:i},operation:o}}async function yq(t,e){const{data:n}=await zN(de(t),e);return n.email}async function BN(t,e,n){if(At(t.app))return Promise.reject(pn(t));const r=Pt(t),a=await Gp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RN).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&QT(t),l}),c=await zr._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function UN(t,e,n){return At(t.app)?Promise.reject(pn(t)):Ox(de(t),ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t,e,n){const r=Pt(t),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function i(a,c){Q(c.handleCodeInApp,r,"argument-error"),c&&Fx(r,a,c)}i(o,n),await Gp(r,o,"getOobCode",tq)}function _q(t,e){const n=Nx.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Eq(t,e,n){if(At(t.app))return Promise.reject(pn(t));const r=de(t),o=ba.credentialWithLink(e,n||Wp());return Q(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ox(r,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(t,e){return $t(t,"POST","/v1/accounts:createAuthUri",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iq(t,e){const n=qT()?Wp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:o}=await Tq(de(t),r);return o||[]}async function Sq(t,e){const n=de(t),o={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Fx(n.auth,o,e);const{email:i}=await ZU(n.auth,o);i!==t.email&&await t.reload()}async function kq(t,e,n){const r=de(t),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Fx(r.auth,i,n);const{email:a}=await nq(r.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cq(t,e){return $t(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=de(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Ti(r,Cq(r.auth,i));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const c=r.providerData.find(({providerId:l})=>l==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function jq(t,e){const n=de(t);return At(n.auth.app)?Promise.reject(pn(n.auth)):qN(n,e,null)}function Aq(t,e){return qN(de(t),null,e)}async function qN(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const a=await Ti(t,YU(r,i));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t){var e,n;if(!t)return null;const{providerId:r}=t,o=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},i=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const a=(n=(e=Rx(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(a){const c=a!=="anonymous"&&a!=="custom"?a:null;return new dd(i,c)}}if(!r)return null;switch(r){case"facebook.com":return new Rq(i,o);case"github.com":return new Dq(i,o);case"google.com":return new Nq(i,o);case"twitter.com":return new $q(i,o,t.screenName||null);case"custom":case"anonymous":return new dd(i,null);default:return new dd(i,r,o)}}class dd{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class WN extends dd{constructor(e,n,r,o){super(e,n,r),this.username=o}}class Rq extends dd{constructor(e,n){super(e,"facebook.com",n)}}class Dq extends WN{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Nq extends dd{constructor(e,n){super(e,"google.com",n)}}class $q extends WN{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Oq(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Pq(n)}function Fq(t,e,n,r){return de(t).onAuthStateChanged(e,n,r)}function Mq(t){return de(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new sc("enroll",e,n)}static _fromMfaPendingCredential(e){return new sc("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return sc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return sc._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Pt(e),o=n.customData._serverResponse,i=(o.mfaInfo||[]).map(c=>Pf._fromServerResponse(r,c));Q(o.mfaPendingCredential,r,"internal-error");const a=sc._fromMfaPendingCredential(o.mfaPendingCredential);return new JT(a,i,async c=>{const l=await c._process(r,a);delete o.mfaInfo,delete o.mfaPendingCredential;const d=Object.assign(Object.assign({},o),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const h=await zr._fromIdTokenResponse(r,n.operationType,d);return await r._updateCurrentUser(h.user),h;case"reauthenticate":return Q(n.user,r,"internal-error"),zr._forOperation(n.user,n.operationType,d);default:En(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Lq(t,e){var n;const r=de(t),o=e;return Q(e.customData.operationType,r,"argument-error"),Q((n=o.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),JT._fromError(r,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t,e){return $t(t,"POST","/v2/accounts/mfaEnrollment:start",Nt(t,e))}function zq(t,e){return $t(t,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(t,e))}function Bq(t,e){return $t(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(t,e))}class ZT{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Pf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ZT(e)}async getSession(){return sc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,o=await this.getSession(),i=await Ti(this.user,r._process(this.user.auth,o,n));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const o=await Ti(this.user,Bq(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:i})=>i!==n),await this.user._updateTokensIfNecessary(o),await this.user.reload()}catch(o){throw o}}}const My=new WeakMap;function Uq(t){const e=de(t);return My.has(e)||My.set(e,ZT._fromUser(e)),My.get(e)}const R0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(R0,"1"),this.storage.removeItem(R0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=1e3,Wq=10;class GN extends HN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);RU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Wq):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GN.type="LOCAL";const eI=GN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN extends HN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KN.type="SESSION";const Sc=KN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Mx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,a=this.handlersMap[o];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const c=Array.from(a).map(async d=>d(n.origin,i)),l=await Hq(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,a;return new Promise((c,l)=>{const d=Rf("",20);o.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(u){const f=u;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(a),o.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[o.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return window}function Kq(t){Qt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof Qt().WorkerGlobalScope<"u"&&typeof Qt().importScripts=="function"}async function Yq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Xq(){return tI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebaseLocalStorageDb",Jq=1,D0="firebaseLocalStorage",QN="fbase_key";class Df{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lx(t,e){return t.transaction([D0],e?"readwrite":"readonly").objectStore(D0)}function Zq(){const t=indexedDB.deleteDatabase(YN);return new Df(t).toPromise()}function p_(){const t=indexedDB.open(YN,Jq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(D0,{keyPath:QN})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(D0)?e(r):(r.close(),await Zq(),e(await p_()))})})}async function YC(t,e,n){const r=Lx(t,!0).put({[QN]:e,value:n});return new Df(r).toPromise()}async function eW(t,e){const n=Lx(t,!1).get(e),r=await new Df(n).toPromise();return r===void 0?null:r.value}function QC(t,e){const n=Lx(t,!0).delete(e);return new Df(n).toPromise()}const tW=800,nW=3;class XN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await p_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mx._getInstance(Xq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Yq(),!this.activeServiceWorker)return;this.sender=new Gq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await p_();return await YC(e,R0,"1"),await QC(e,R0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=Lx(o,!1).getAll();return new Df(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XN.type="LOCAL";const Yp=XN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rW(t,e){return $t(t,"POST","/v2/accounts/mfaSignIn:start",Nt(t,e))}function oW(t,e){return $t(t,"POST","/v2/accounts/mfaSignIn:finalize",Nt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=500,sW=6e4,Mm=1e12;class aW{constructor(e){this.auth=e,this.counter=Mm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new cW(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Mm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Mm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Mm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class cW{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;Q(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=lW(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},sW)},iW))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function lW(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=jN("rcb"),dW=new kf(3e4,6e4);class uW{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Qt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Q(hW(n),e,"argument-error"),this.shouldResolveImmediately(n)&&VC(Qt().grecaptcha)?Promise.resolve(Qt().grecaptcha):new Promise((r,o)=>{const i=Qt().setTimeout(()=>{o(rn(e,"network-request-failed"))},dW.get());Qt()[Ly]=()=>{Qt().clearTimeout(i),delete Qt()[Ly];const c=Qt().grecaptcha;if(!c||!VC(c)){o(rn(e,"internal-error"));return}const l=c.render;c.render=(d,h)=>{const u=l(d,h);return this.counter++,u},this.hostLanguage=n,r(c)};const a=`${LU()}?${ru({onload:Ly,render:"explicit",hl:n})}`;HT(a).catch(()=>{clearTimeout(i),o(rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Qt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function hW(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class pW{async load(e){return new aW(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="recaptcha",fW={theme:"light",type:"image"};let mW=class{constructor(e,n,r=Object.assign({},fW)){this.parameters=r,this.type=JN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pt(e),this.isInvisible=this.parameters.size==="invisible",Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;Q(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pW:new uW,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(o=>{const i=a=>{a&&(this.tokenChangeListeners.delete(i),o(a))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Qt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Q(qT()&&!tI(),this.auth,"internal-error"),await gW(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await yU(this.auth);Q(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function gW(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=gc._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function vW(t,e,n){if(At(t.app))return Promise.reject(pn(t));const r=Pt(t),o=await Vx(r,e,de(n));return new nI(o,i=>Ox(r,i))}async function xW(t,e,n){const r=de(t);await $x(!1,r,"phone");const o=await Vx(r.auth,e,de(n));return new nI(o,i=>FN(r,i))}async function bW(t,e,n){const r=de(t);if(At(r.auth.app))return Promise.reject(pn(r.auth));const o=await Vx(r.auth,e,de(n));return new nI(o,i=>MN(r,i))}async function Vx(t,e,n){var r;const o=await n.verify();try{Q(typeof o=="string",t,"argument-error"),Q(n.type===JN,t,"argument-error");let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const a=i.session;if("phoneNumber"in i)return Q(a.type==="enroll",t,"internal-error"),(await Vq(t,{idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{Q(a.type==="signin",t,"internal-error");const c=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;return Q(c,t,"missing-multi-factor-info"),(await rW(t,{mfaPendingCredential:a.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:a}=await sq(t,{phoneNumber:i.phoneNumber,recaptchaToken:o});return a}}finally{n._reset()}}async function yW(t,e){const n=de(t);if(At(n.auth.app))return Promise.reject(pn(n.auth));await GT(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=class kv{constructor(e){this.providerId=kv.PROVIDER_ID,this.auth=Pt(e)}verifyPhoneNumber(e,n){return Vx(this.auth,e,de(n))}static credential(e,n){return gc._fromVerification(e,n)}static credentialFromResult(e){const n=e;return kv.credentialFromTaggedObject(n)}static credentialFromError(e){return kv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?gc._fromTokenResponse(n,r):null}};kc.PROVIDER_ID="phone";kc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e){return e?Ir(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI extends su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wW(t){return ON(t.auth,new rI(t),t.bypassAuthState)}function _W(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),$N(n,new rI(t),t.bypassAuthState)}async function EW(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),GT(n,new rI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wW;case"linkViaPopup":case"linkViaRedirect":return EW;case"reauthViaPopup":case"reauthViaRedirect":return _W;default:En(this.auth,"internal-error")}}resolve(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=new kf(2e3,1e4);async function e$(t,e,n){if(At(t.app))return Promise.reject(rn(t,"operation-not-supported-in-this-environment"));const r=Pt(t);iu(t,e,Di);const o=Kc(r,n);return new ui(r,"signInViaPopup",e,o).executeNotNull()}async function IW(t,e,n){const r=de(t);if(At(r.auth.app))return Promise.reject(rn(r.auth,"operation-not-supported-in-this-environment"));iu(r.auth,e,Di);const o=Kc(r.auth,n);return new ui(r.auth,"reauthViaPopup",e,o,r).executeNotNull()}async function SW(t,e,n){const r=de(t);iu(r.auth,e,Di);const o=Kc(r.auth,n);return new ui(r.auth,"linkViaPopup",e,o,r).executeNotNull()}class ui extends ZN{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,ui.currentPopupAction&&ui.currentPopupAction.cancel(),ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){ro(this.filter.length===1,"Popup operations only handle one event");const e=Rf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TW.get())};e()}}ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW="pendingRedirect",up=new Map;class CW extends ZN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=up.get(this.auth._key());if(!e){try{const r=await jW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}up.set(this.auth._key(),e)}return this.bypassAuthState||up.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jW(t,e){const n=n$(e),r=t$(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}async function oI(t,e){return t$(t)._set(n$(e),"true")}function AW(){up.clear()}function iI(t,e){up.set(t._key(),e)}function t$(t){return Ir(t._redirectPersistence)}function n$(t){return mc(kW,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PW(t,e,n){return RW(t,e,n)}async function RW(t,e,n){if(At(t.app))return Promise.reject(pn(t));const r=Pt(t);iu(t,e,Di),await r._initializationPromise;const o=Kc(r,n);return await oI(o,r),o._openRedirect(r,e,"signInViaRedirect")}function DW(t,e,n){return NW(t,e,n)}async function NW(t,e,n){const r=de(t);if(iu(r.auth,e,Di),At(r.auth.app))return Promise.reject(pn(r.auth));await r.auth._initializationPromise;const o=Kc(r.auth,n);await oI(o,r.auth);const i=await r$(r);return o._openRedirect(r.auth,e,"reauthViaRedirect",i)}function $W(t,e,n){return OW(t,e,n)}async function OW(t,e,n){const r=de(t);iu(r.auth,e,Di),await r.auth._initializationPromise;const o=Kc(r.auth,n);await $x(!1,r,e.providerId),await oI(o,r.auth);const i=await r$(r);return o._openRedirect(r.auth,e,"linkViaRedirect",i)}async function FW(t,e){return await Pt(t)._initializationPromise,zx(t,e,!1)}async function zx(t,e,n=!1){if(At(t.app))return Promise.reject(pn(t));const r=Pt(t),o=Kc(r,e),a=await new CW(r,o,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}async function r$(t){const e=Rf(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW=10*60*1e3;class o${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!i$(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(rn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MW&&this.cachedEventUids.clear(),this.cachedEventUids.has(XC(e))}saveEventToCache(e){this.cachedEventUids.add(XC(e)),this.lastProcessedEventTime=Date.now()}}function XC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function i$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e={}){return $t(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zW=/^https?/;async function BW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s$(t);for(const n of e)try{if(UW(n))return}catch{}En(t,"unauthorized-domain")}function UW(t){const e=Wp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!zW.test(n))return!1;if(VW.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=new kf(3e4,6e4);function JC(){const t=Qt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WW(t){return new Promise((e,n)=>{var r,o,i;function a(){JC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JC(),n(rn(t,"network-request-failed"))},timeout:qW.get()})}if(!((o=(r=Qt().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=Qt().gapi)===null||i===void 0)&&i.load)a();else{const c=jN("iframefcb");return Qt()[c]=()=>{gapi.load?a():n(rn(t,"network-request-failed"))},HT(`${zU()}?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw Cv=null,e})}let Cv=null;function HW(t){return Cv=Cv||WW(t),Cv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=new kf(5e3,15e3),KW="__/auth/iframe",YW="emulator/auth/iframe",QW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function JW(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?WT(e,YW):`https://${t.config.authDomain}/${KW}`,r={apiKey:e.apiKey,appName:t.name,v:Pi},o=XW.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ru(r).slice(1)}`}async function ZW(t){const e=await HW(t),n=Qt().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:JW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QW,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const a=rn(t,"network-request-failed"),c=Qt().setTimeout(()=>{i(a)},GW.get());function l(){Qt().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tH=500,nH=600,rH="_blank",oH="http://localhost";class ZC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iH(t,e,n,r=tH,o=nH){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},eH),{width:r.toString(),height:o.toString(),top:i,left:a}),d=It().toLowerCase();n&&(c=EN(d)?rH:n),wN(d)&&(e=e||oH,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[v,x])=>`${f}${v}=${x},`,"");if(PU(d)&&c!=="_self")return sH(e||"",c),new ZC(null);const u=window.open(e||"",c,h);Q(u,t,"popup-blocked");try{u.focus()}catch{}return new ZC(u)}function sH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH="__/auth/handler",cH="emulator/auth/handler",lH=encodeURIComponent("fac");async function f_(t,e,n,r,o,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pi,eventId:o};if(e instanceof Di){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Vz(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,u]of Object.entries(i||{}))a[h]=u}if(e instanceof au){const h=e.getScopes().filter(u=>u!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const h of Object.keys(c))c[h]===void 0&&delete c[h];const l=await t._getAppCheckToken(),d=l?`#${lH}=${encodeURIComponent(l)}`:"";return`${dH(t)}?${ru(c).slice(1)}${d}`}function dH({config:t}){return t.emulator?WT(t,cH):`https://${t.authDomain}/${aH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class uH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sc,this._completeRedirectFn=zx,this._overrideRedirectResult=iI}async _openPopup(e,n,r,o){var i;ro((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await f_(e,n,r,Wp(),o);return iH(e,a,Rf())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await f_(e,n,r,Wp(),o);return Kq(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(ro(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ZW(e),r=new o$(e);return n.register("authEvent",o=>(Q(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vy,{type:Vy},o=>{var i;const a=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[Vy];a!==void 0&&n(!!a),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kN()||_N()||jf()}}const hH=uH;class pH{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ko("unexpected MultiFactorSessionType")}}}class sI extends pH{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new sI(e)}_finalizeEnroll(e,n,r){return zq(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return oW(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class a${constructor(){}static assertion(e){return sI._fromCredential(e)}}a$.FACTOR_ID="phone";var ej="@firebase/auth",tj="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gH(t){Nn(new Zt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Q(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CN(t)},d=new FU(r,o,i,l);return WU(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new Zt("auth-internal",e=>{const n=Pt(e.getProvider("auth").getImmediate());return(r=>new fH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hn(ej,tj,mH(t)),hn(ej,tj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=5*60;Pz("authIdTokenMaxAge");function xH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}MU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=rn("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",xH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gH("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=2e3;async function yH(t,e,n){var r;const{BuildInfo:o}=Cc();ro(e.sessionId,"AuthEvent did not contain a session ID");const i=await IH(e.sessionId),a={};return jf()?a.ibi=o.packageName:Cf()?a.apn=o.packageName:En(t,"operation-not-supported-in-this-environment"),o.displayName&&(a.appDisplayName=o.displayName),a.sessionId=i,f_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,a)}async function wH(t){const{BuildInfo:e}=Cc(),n={};jf()?n.iosBundleId=e.packageName:Cf()?n.androidPackageName=e.packageName:En(t,"operation-not-supported-in-this-environment"),await s$(t,n)}function _H(t){const{cordova:e}=Cc();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let o=null;r?e.plugins.browsertab.openUrl(t):o=e.InAppBrowser.open(t,AU()?"_blank":"_system","location=yes"),n(o)})})}async function EH(t,e,n){const{cordova:r}=Cc();let o=()=>{};try{await new Promise((i,a)=>{let c=null;function l(){var u;i();const f=(u=r.plugins.browsertab)===null||u===void 0?void 0:u.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){c||(c=window.setTimeout(()=>{a(rn(t,"redirect-cancelled-by-user"))},bH))}function h(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(l),document.addEventListener("resume",d,!1),Cf()&&document.addEventListener("visibilitychange",h,!1),o=()=>{e.removePassiveListener(l),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",h,!1),c&&window.clearTimeout(c)}})}finally{o()}}function TH(t){var e,n,r,o,i,a,c,l,d,h;const u=Cc();Q(typeof((e=u==null?void 0:u.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(typeof((n=u==null?void 0:u.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q(typeof((i=(o=(r=u==null?void 0:u.cordova)===null||r===void 0?void 0:r.plugins)===null||o===void 0?void 0:o.browsertab)===null||i===void 0?void 0:i.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((l=(c=(a=u==null?void 0:u.cordova)===null||a===void 0?void 0:a.plugins)===null||c===void 0?void 0:c.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q(typeof((h=(d=u==null?void 0:u.cordova)===null||d===void 0?void 0:d.InAppBrowser)===null||h===void 0?void 0:h.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function IH(t){const e=SH(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function SH(t){if(ro(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=20;class CH extends o${constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function jH(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:RH(),postBody:null,tenantId:t.tenantId,error:rn(t,"no-auth-event")}}function AH(t,e){return m_()._set(g_(t),e)}async function nj(t){const e=await m_()._get(g_(t));return e&&await m_()._remove(g_(t)),e}function PH(t,e){var n,r;const o=NH(e);if(o.includes("/__/auth/callback")){const i=jv(o),a=i.firebaseError?DH(decodeURIComponent(i.firebaseError)):null,c=(r=(n=a==null?void 0:a.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=c?rn(c):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:o,postBody:null}}return null}function RH(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<kH;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function m_(){return Ir(eI)}function g_(t){return mc("authEvent",t.config.apiKey,t.name)}function DH(t){try{return JSON.parse(t)}catch{return null}}function NH(t){const e=jv(t),n=e.link?decodeURIComponent(e.link):void 0,r=jv(n).link,o=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return jv(o).link||o||r||n||t}function jv(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Jl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=500;class OH{constructor(){this._redirectPersistence=Sc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zx,this._overrideRedirectResult=iI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new CH(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){En(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,o){TH(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),AW(),await this._originValidation(e);const a=jH(e,r,o);await AH(e,a);const c=await yH(e,a,n),l=await _H(c);return EH(e,i,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wH(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:o,BuildInfo:i}=Cc(),a=setTimeout(async()=>{await nj(e),n.onEvent(rj())},$H),c=async h=>{clearTimeout(a);const u=await nj(e);let f=null;u&&(h!=null&&h.url)&&(f=PH(u,h.url)),n.onEvent(f||rj())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);const l=o,d=`${i.packageName.toLowerCase()}://`;Cc().handleOpenURL=async h=>{if(h.toLowerCase().startsWith(d)&&c({url:h}),typeof l=="function")try{l(h)}catch(u){console.error(u)}}}}const FH=OH;function rj(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MH(t,e){Pt(t)._logFramework(e)}var LH="@firebase/auth-compat",VH="0.5.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=1e3;function hp(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function BH(){return hp()==="http:"||hp()==="https:"}function c$(t=It()){return!!((hp()==="file:"||hp()==="ionic:"||hp()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function UH(){return FT()||OT()}function qH(){return X4()&&(document==null?void 0:document.documentMode)===11}function WH(t=It()){return/Edge\/\d+/.test(t)}function HH(t=It()){return qH()||WH(t)}function l$(){try{const t=self.localStorage,e=Rf();if(t)return t.setItem(e,"1"),t.removeItem(e),HH()?Qs():!0}catch{return aI()&&Qs()}return!1}function aI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zy(){return(BH()||Q4()||c$())&&!UH()&&l$()&&!aI()}function d$(){return c$()&&typeof document<"u"}async function GH(){return d$()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},zH);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function KH(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={LOCAL:"local",NONE:"none",SESSION:"session"},Wu=Q,u$="persistence";function YH(t,e){if(Wu(Object.values(_r).includes(e),t,"invalid-persistence-type"),FT()){Wu(e!==_r.SESSION,t,"unsupported-persistence-type");return}if(OT()){Wu(e===_r.NONE,t,"unsupported-persistence-type");return}if(aI()){Wu(e===_r.NONE||e===_r.LOCAL&&Qs(),t,"unsupported-persistence-type");return}Wu(e===_r.NONE||l$(),t,"unsupported-persistence-type")}async function v_(t){await t._initializationPromise;const e=h$(),n=mc(u$,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function QH(t,e){const n=h$();if(!n)return[];const r=mc(u$,t,e);switch(n.getItem(r)){case _r.NONE:return[Cd];case _r.LOCAL:return[Yp,Sc];case _r.SESSION:return[Sc];default:return[]}}function h$(){var t;try{return((t=KH())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=Q;class Os{constructor(){this.browserResolver=Ir(hH),this.cordovaResolver=Ir(FH),this.underlyingResolver=null,this._redirectPersistence=Sc,this._completeRedirectFn=zx,this._overrideRedirectResult=iI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,o){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,o)}async _openRedirect(e,n,r,o){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,o)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return d$()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return XH(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await GH();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(t){return t.unwrap()}function JH(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(t){return f$(t)}function eG(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const o=e;o.resolver=new tG(t,Lq(t,e))}else if(r){const o=f$(e),i=e;o&&(i.credential=o,i.tenantId=r.tenantId||void 0,i.email=r.email||void 0,i.phoneNumber=r.phoneNumber||void 0)}}function f$(t){const{_tokenResponse:e}=t instanceof yn?t.customData:t;if(!e)return null;if(!(t instanceof yn)&&"temporaryProof"in e&&"phoneNumber"in e)return kc.credentialFromResult(t);const n=e.providerId;if(!n||n===qu.PASSWORD)return null;let r;switch(n){case qu.GOOGLE:r=wo;break;case qu.FACEBOOK:r=yo;break;case qu.GITHUB:r=_o;break;case qu.TWITTER:r=Eo;break;default:const{oauthIdToken:o,oauthAccessToken:i,oauthTokenSecret:a,pendingToken:c,nonce:l}=e;return!i&&!a&&!o&&!c?null:c?n.startsWith("saml.")?jd._create(n,c):Oo._fromParams({providerId:n,signInMethod:n,pendingToken:c,idToken:o,accessToken:i}):new ld(n).credential({idToken:o,accessToken:i,rawNonce:l})}return t instanceof yn?r.credentialFromError(t):r.credentialFromResult(t)}function sr(t,e){return e.catch(n=>{throw n instanceof yn&&eG(t,n),n}).then(n=>{const r=n.operationType,o=n.user;return{operationType:r,credential:ZH(n),additionalUserInfo:Oq(n),user:Bx.getOrCreate(o)}})}async function x_(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>sr(t,n.confirm(r))}}class tG{constructor(e,n){this.resolver=n,this.auth=JH(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return sr(p$(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bx=class Gh{constructor(e){this._delegate=e,this.multiFactor=Uq(e)}static getOrCreate(e){return Gh.USER_MAP.has(e)||Gh.USER_MAP.set(e,new Gh(e)),Gh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return sr(this.auth,FN(this._delegate,e))}async linkWithPhoneNumber(e,n){return x_(this.auth,xW(this._delegate,e,n))}async linkWithPopup(e){return sr(this.auth,SW(this._delegate,e,Os))}async linkWithRedirect(e){return await v_(Pt(this.auth)),$W(this._delegate,e,Os)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return sr(this.auth,MN(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return x_(this.auth,bW(this._delegate,e,n))}reauthenticateWithPopup(e){return sr(this.auth,IW(this._delegate,e,Os))}async reauthenticateWithRedirect(e){return await v_(Pt(this.auth)),DW(this._delegate,e,Os)}sendEmailVerification(e){return Sq(this._delegate,e)}async unlink(e){return await gq(this._delegate,e),this}updateEmail(e){return jq(this._delegate,e)}updatePassword(e){return Aq(this._delegate,e)}updatePhoneNumber(e){return yW(this._delegate,e)}updateProfile(e){return XT(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return kq(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Bx.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=Q;class b_{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Hu(r,"invalid-api-key",{appName:e.name}),Hu(r,"invalid-api-key",{appName:e.name});const o=typeof window<"u"?Os:void 0;this._delegate=n.initialize({options:{persistence:nG(r,e.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(dU),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bx.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){HU(this._delegate,e,n)}applyActionCode(e){return bq(this._delegate,e)}checkActionCode(e){return zN(this._delegate,e)}confirmPasswordReset(e,n){return xq(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return sr(this._delegate,BN(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Iq(this._delegate,e)}isSignInWithEmailLink(e){return _q(this._delegate,e)}async getRedirectResult(){Hu(zy(),this._delegate,"operation-not-supported-in-this-environment");const e=await FW(this._delegate,Os);return e?sr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){MH(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:o,error:i,complete:a}=oj(e,n,r);return this._delegate.onAuthStateChanged(o,i,a)}onIdTokenChanged(e,n,r){const{next:o,error:i,complete:a}=oj(e,n,r);return this._delegate.onIdTokenChanged(o,i,a)}sendSignInLinkToEmail(e,n){return wq(this._delegate,e,n)}sendPasswordResetEmail(e,n){return VN(this._delegate,e,n||void 0)}async setPersistence(e){YH(this._delegate,e);let n;switch(e){case _r.SESSION:n=Sc;break;case _r.LOCAL:n=await Ir(Yp)._isAvailable()?Yp:eI;break;case _r.NONE:n=Cd;break;default:return En("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return sr(this._delegate,mq(this._delegate))}signInWithCredential(e){return sr(this._delegate,Ox(this._delegate,e))}signInWithCustomToken(e){return sr(this._delegate,LN(this._delegate,e))}signInWithEmailAndPassword(e,n){return sr(this._delegate,UN(this._delegate,e,n))}signInWithEmailLink(e,n){return sr(this._delegate,Eq(this._delegate,e,n))}signInWithPhoneNumber(e,n){return x_(this._delegate,vW(this._delegate,e,n))}async signInWithPopup(e){return Hu(zy(),this._delegate,"operation-not-supported-in-this-environment"),sr(this._delegate,e$(this._delegate,e,Os))}async signInWithRedirect(e){return Hu(zy(),this._delegate,"operation-not-supported-in-this-environment"),await v_(this._delegate),PW(this._delegate,e,Os)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return yq(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}b_.Persistence=_r;function oj(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const o=r;return{next:a=>o(a&&Bx.getOrCreate(a)),error:e,complete:n}}function nG(t,e){const n=QH(t,e);if(typeof self<"u"&&!n.includes(Yp)&&n.push(Yp),typeof window<"u")for(const r of[eI,Sc])n.includes(r)||n.push(r);return n.includes(Cd)||n.push(Cd),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.providerId="phone",this._delegate=new kc(p$(nr.auth()))}static credential(e,n){return kc.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}cI.PHONE_SIGN_IN_METHOD=kc.PHONE_SIGN_IN_METHOD;cI.PROVIDER_ID=kc.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=Q;class oG{constructor(e,n,r=nr.app()){var o;rG((o=r.options)===null||o===void 0?void 0:o.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new mW(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG="auth-compat";function sG(t){t.INTERNAL.registerComponent(new Zt(iG,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new b_(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:dl.EMAIL_SIGNIN,PASSWORD_RESET:dl.PASSWORD_RESET,RECOVER_EMAIL:dl.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:dl.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:dl.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:dl.VERIFY_EMAIL}},EmailAuthProvider:ba,FacebookAuthProvider:yo,GithubAuthProvider:_o,GoogleAuthProvider:wo,OAuthProvider:ld,SAMLAuthProvider:A0,PhoneAuthProvider:cI,PhoneMultiFactorGenerator:a$,RecaptchaVerifier:oG,TwitterAuthProvider:Eo,Auth:b_,AuthCredential:su,Error:yn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(LH,VH)}sG(nr);var ij=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vc,m$;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function C(){}C.prototype=S.prototype,k.D=S.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(P,N,O){for(var R=Array(arguments.length-2),K=2;K<arguments.length;K++)R[K-2]=arguments[K];return S.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,S,C){C||(C=0);var P=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)P[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;16>N;++N)P[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=k.g[0],C=k.g[1],N=k.g[2];var O=k.g[3],R=S+(O^C&(N^O))+P[0]+3614090360&4294967295;S=C+(R<<7&4294967295|R>>>25),R=O+(N^S&(C^N))+P[1]+3905402710&4294967295,O=S+(R<<12&4294967295|R>>>20),R=N+(C^O&(S^C))+P[2]+606105819&4294967295,N=O+(R<<17&4294967295|R>>>15),R=C+(S^N&(O^S))+P[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(O^C&(N^O))+P[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=O+(N^S&(C^N))+P[5]+1200080426&4294967295,O=S+(R<<12&4294967295|R>>>20),R=N+(C^O&(S^C))+P[6]+2821735955&4294967295,N=O+(R<<17&4294967295|R>>>15),R=C+(S^N&(O^S))+P[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(O^C&(N^O))+P[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=O+(N^S&(C^N))+P[9]+2336552879&4294967295,O=S+(R<<12&4294967295|R>>>20),R=N+(C^O&(S^C))+P[10]+4294925233&4294967295,N=O+(R<<17&4294967295|R>>>15),R=C+(S^N&(O^S))+P[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(O^C&(N^O))+P[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=O+(N^S&(C^N))+P[13]+4254626195&4294967295,O=S+(R<<12&4294967295|R>>>20),R=N+(C^O&(S^C))+P[14]+2792965006&4294967295,N=O+(R<<17&4294967295|R>>>15),R=C+(S^N&(O^S))+P[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(N^O&(C^N))+P[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=O+(C^N&(S^C))+P[6]+3225465664&4294967295,O=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(O^S))+P[11]+643717713&4294967295,N=O+(R<<14&4294967295|R>>>18),R=C+(O^S&(N^O))+P[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^O&(C^N))+P[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=O+(C^N&(S^C))+P[10]+38016083&4294967295,O=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(O^S))+P[15]+3634488961&4294967295,N=O+(R<<14&4294967295|R>>>18),R=C+(O^S&(N^O))+P[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^O&(C^N))+P[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=O+(C^N&(S^C))+P[14]+3275163606&4294967295,O=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(O^S))+P[3]+4107603335&4294967295,N=O+(R<<14&4294967295|R>>>18),R=C+(O^S&(N^O))+P[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^O&(C^N))+P[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=O+(C^N&(S^C))+P[2]+4243563512&4294967295,O=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(O^S))+P[7]+1735328473&4294967295,N=O+(R<<14&4294967295|R>>>18),R=C+(O^S&(N^O))+P[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(C^N^O)+P[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=O+(S^C^N)+P[8]+2272392833&4294967295,O=S+(R<<11&4294967295|R>>>21),R=N+(O^S^C)+P[11]+1839030562&4294967295,N=O+(R<<16&4294967295|R>>>16),R=C+(N^O^S)+P[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^O)+P[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=O+(S^C^N)+P[4]+1272893353&4294967295,O=S+(R<<11&4294967295|R>>>21),R=N+(O^S^C)+P[7]+4139469664&4294967295,N=O+(R<<16&4294967295|R>>>16),R=C+(N^O^S)+P[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^O)+P[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=O+(S^C^N)+P[0]+3936430074&4294967295,O=S+(R<<11&4294967295|R>>>21),R=N+(O^S^C)+P[3]+3572445317&4294967295,N=O+(R<<16&4294967295|R>>>16),R=C+(N^O^S)+P[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^O)+P[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=O+(S^C^N)+P[12]+3873151461&4294967295,O=S+(R<<11&4294967295|R>>>21),R=N+(O^S^C)+P[15]+530742520&4294967295,N=O+(R<<16&4294967295|R>>>16),R=C+(N^O^S)+P[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(N^(C|~O))+P[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=O+(C^(S|~N))+P[7]+1126891415&4294967295,O=S+(R<<10&4294967295|R>>>22),R=N+(S^(O|~C))+P[14]+2878612391&4294967295,N=O+(R<<15&4294967295|R>>>17),R=C+(O^(N|~S))+P[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~O))+P[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=O+(C^(S|~N))+P[3]+2399980690&4294967295,O=S+(R<<10&4294967295|R>>>22),R=N+(S^(O|~C))+P[10]+4293915773&4294967295,N=O+(R<<15&4294967295|R>>>17),R=C+(O^(N|~S))+P[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~O))+P[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=O+(C^(S|~N))+P[15]+4264355552&4294967295,O=S+(R<<10&4294967295|R>>>22),R=N+(S^(O|~C))+P[6]+2734768916&4294967295,N=O+(R<<15&4294967295|R>>>17),R=C+(O^(N|~S))+P[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~O))+P[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=O+(C^(S|~N))+P[11]+3174756917&4294967295,O=S+(R<<10&4294967295|R>>>22),R=N+(S^(O|~C))+P[2]+718787259&4294967295,N=O+(R<<15&4294967295|R>>>17),R=C+(O^(N|~S))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+O&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var C=S-this.blockSize,P=this.B,N=this.h,O=0;O<S;){if(N==0)for(;O<=C;)o(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<S;)if(P[N++]=k.charCodeAt(O++),N==this.blockSize){o(this,P),N=0;break}}else for(;O<S;)if(P[N++]=k[O++],N==this.blockSize){o(this,P),N=0;break}}this.h=N,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var C=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=C&255,C/=256;for(this.u(k),k=Array(16),S=C=0;4>S;++S)for(var P=0;32>P;P+=8)k[C++]=this.g[S]>>>P&255;return k};function i(k,S){var C=c;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=S(k)}function a(k,S){this.h=S;for(var C=[],P=!0,N=k.length-1;0<=N;N--){var O=k[N]|0;P&&O==S||(C[N]=O,P=!1)}this.g=C}var c={};function l(k){return-128<=k&&128>k?i(k,function(S){return new a([S|0],0>S?-1:0)}):new a([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return u;if(0>k)return _(d(-k));for(var S=[],C=1,P=0;k>=C;P++)S[P]=k/C|0,C*=4294967296;return new a(S,0)}function h(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return _(h(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=d(Math.pow(S,8)),P=u,N=0;N<k.length;N+=8){var O=Math.min(8,k.length-N),R=parseInt(k.substring(N,N+O),S);8>O?(O=d(Math.pow(S,O)),P=P.j(O).add(d(R))):(P=P.j(C),P=P.add(d(R)))}return P}var u=l(0),f=l(1),v=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-_(this).m();for(var k=0,S=1,C=0;C<this.g.length;C++){var P=this.i(C);k+=(0<=P?P:4294967296+P)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(x(this))return"0";if(y(this))return"-"+_(this).toString(k);for(var S=d(Math.pow(k,6)),C=this,P="";;){var N=j(C,S).g;C=w(C,N.j(S));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=N,x(C))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function x(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function y(k){return k.h==-1}t.l=function(k){return k=w(this,k),y(k)?-1:x(k)?0:1};function _(k){for(var S=k.g.length,C=[],P=0;P<S;P++)C[P]=~k.g[P];return new a(C,~k.h).add(f)}t.abs=function(){return y(this)?_(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],P=0,N=0;N<=S;N++){var O=P+(this.i(N)&65535)+(k.i(N)&65535),R=(O>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);P=R>>>16,O&=65535,R&=65535,C[N]=R<<16|O}return new a(C,C[C.length-1]&-2147483648?-1:0)};function w(k,S){return k.add(_(S))}t.j=function(k){if(x(this)||x(k))return u;if(y(this))return y(k)?_(this).j(_(k)):_(_(this).j(k));if(y(k))return _(this.j(_(k)));if(0>this.l(v)&&0>k.l(v))return d(this.m()*k.m());for(var S=this.g.length+k.g.length,C=[],P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<k.g.length;N++){var O=this.i(P)>>>16,R=this.i(P)&65535,K=k.i(N)>>>16,re=k.i(N)&65535;C[2*P+2*N]+=R*re,E(C,2*P+2*N),C[2*P+2*N+1]+=O*re,E(C,2*P+2*N+1),C[2*P+2*N+1]+=R*K,E(C,2*P+2*N+1),C[2*P+2*N+2]+=O*K,E(C,2*P+2*N+2)}for(P=0;P<S;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=S;P<2*S;P++)C[P]=0;return new a(C,0)};function E(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function I(k,S){this.g=k,this.h=S}function j(k,S){if(x(S))throw Error("division by zero");if(x(k))return new I(u,u);if(y(k))return S=j(_(k),S),new I(_(S.g),_(S.h));if(y(S))return S=j(k,_(S)),new I(_(S.g),S.h);if(30<k.g.length){if(y(k)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var C=f,P=S;0>=P.l(k);)C=D(C),P=D(P);var N=$(C,1),O=$(P,1);for(P=$(P,2),C=$(C,2);!x(P);){var R=O.add(P);0>=R.l(k)&&(N=N.add(C),O=R),P=$(P,1),C=$(C,1)}return S=w(k,N.j(S)),new I(N,S)}for(N=u;0<=k.l(S);){for(C=Math.max(1,Math.floor(k.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=d(C),R=O.j(S);y(R)||0<R.l(k);)C-=P,O=d(C),R=O.j(S);x(O)&&(O=f),N=N.add(O),k=w(k,R)}return new I(N,k)}t.A=function(k){return j(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)&k.i(P);return new a(C,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)|k.i(P);return new a(C,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)^k.i(P);return new a(C,this.h^k.h)};function D(k){for(var S=k.g.length+1,C=[],P=0;P<S;P++)C[P]=k.i(P)<<1|k.i(P-1)>>>31;return new a(C,k.h)}function $(k,S){var C=S>>5;S%=32;for(var P=k.g.length-C,N=[],O=0;O<P;O++)N[O]=0<S?k.i(O+C)>>>S|k.i(O+C+1)<<32-S:k.i(O+C);return new a(N,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,m$=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,vc=a}).apply(typeof ij<"u"?ij:typeof self<"u"?self:typeof window<"u"?window:{});var Lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g$,Kh,v$,Av,y_,x$,b$,y$;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,T){return p==Array.prototype||p==Object.prototype||(p[b]=T.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lm=="object"&&Lm];for(var b=0;b<p.length;++b){var T=p[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function o(p,b){if(b)e:{var T=r;p=p.split(".");for(var A=0;A<p.length-1;A++){var F=p[A];if(!(F in T))break e;T=T[F]}p=p[p.length-1],A=T[p],b=b(A),b!=A&&b!=null&&e(T,p,{configurable:!0,writable:!0,value:b})}}function i(p,b){p instanceof String&&(p+="");var T=0,A=!1,F={next:function(){if(!A&&T<p.length){var z=T++;return{value:b(z,p[z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(p){return p||function(){return i(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function l(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function d(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function h(p,b,T){return p.call.apply(p.bind,arguments)}function u(p,b,T){if(!p)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),p.apply(b,F)}}return function(){return p.apply(b,arguments)}}function f(p,b,T){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:u,f.apply(null,arguments)}function v(p,b){var T=Array.prototype.slice.call(arguments,1);return function(){var A=T.slice();return A.push.apply(A,arguments),p.apply(this,A)}}function x(p,b){function T(){}T.prototype=b.prototype,p.aa=b.prototype,p.prototype=new T,p.prototype.constructor=p,p.Qb=function(A,F,z){for(var ee=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ee[tt-2]=arguments[tt];return b.prototype[F].apply(A,ee)}}function y(p){const b=p.length;if(0<b){const T=Array(b);for(let A=0;A<b;A++)T[A]=p[A];return T}return[]}function _(p,b){for(let T=1;T<arguments.length;T++){const A=arguments[T];if(l(A)){const F=p.length||0,z=A.length||0;p.length=F+z;for(let ee=0;ee<z;ee++)p[F+ee]=A[ee]}else p.push(A)}}class w{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function E(p){return/^[\s\xa0]*$/.test(p)}function I(){var p=c.navigator;return p&&(p=p.userAgent)?p:""}function j(p){return j[" "](p),p}j[" "]=function(){};var D=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function $(p,b,T){for(const A in p)b.call(T,p[A],A,p)}function k(p,b){for(const T in p)b.call(void 0,p[T],T,p)}function S(p){const b={};for(const T in p)b[T]=p[T];return b}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(p,b){let T,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(T in A)p[T]=A[T];for(let z=0;z<C.length;z++)T=C[z],Object.prototype.hasOwnProperty.call(A,T)&&(p[T]=A[T])}}function N(p){var b=1;p=p.split(":");const T=[];for(;0<b&&p.length;)T.push(p.shift()),b--;return p.length&&T.push(p.join(":")),T}function O(p){c.setTimeout(()=>{throw p},0)}function R(){var p=B;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class K{constructor(){this.h=this.g=null}add(b,T){const A=re.get();A.set(b,T),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new w(()=>new oe,p=>p.reset());class oe{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,W=!1,B=new K,J=()=>{const p=c.Promise.resolve(void 0);xe=()=>{p.then(ue)}};var ue=()=>{for(var p;p=R();){try{p.h.call(p.g)}catch(T){O(T)}var b=re;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}W=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return p}();function L(p,b){if(U.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var T=this.type=p.type,A=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(D){e:{try{j(b.nodeName);var F=!0;break e}catch{}F=!1}F||(b=null)}}else T=="mouseover"?b=p.fromElement:T=="mouseout"&&(b=p.toElement);this.relatedTarget=b,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:X[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&L.aa.h.call(this)}}x(L,U);var X={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),be=0;function Ie(p,b,T,A,F){this.listener=p,this.proxy=null,this.src=b,this.type=T,this.capture=!!A,this.ha=F,this.key=++be,this.da=this.fa=!1}function ke(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function me(p){this.src=p,this.g={},this.h=0}me.prototype.add=function(p,b,T,A,F){var z=p.toString();p=this.g[z],p||(p=this.g[z]=[],this.h++);var ee=fn(p,b,A,F);return-1<ee?(b=p[ee],T||(b.fa=!1)):(b=new Ie(b,this.src,z,!!A,F),b.fa=T,p.push(b)),b};function Ae(p,b){var T=b.type;if(T in p.g){var A=p.g[T],F=Array.prototype.indexOf.call(A,b,void 0),z;(z=0<=F)&&Array.prototype.splice.call(A,F,1),z&&(ke(b),p.g[T].length==0&&(delete p.g[T],p.h--))}}function fn(p,b,T,A){for(var F=0;F<p.length;++F){var z=p[F];if(!z.da&&z.listener==b&&z.capture==!!T&&z.ha==A)return F}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),vr={};function zo(p,b,T,A,F){if(Array.isArray(b)){for(var z=0;z<b.length;z++)zo(p,b[z],T,A,F);return null}return T=rt(T),p&&p[$e]?p.K(b,T,d(A)?!!A.capture:!!A,F):zi(p,b,T,!1,A,F)}function zi(p,b,T,A,F,z){if(!b)throw Error("Invalid event type");var ee=d(F)?!!F.capture:!!F,tt=Te(p);if(tt||(p[rr]=tt=new me(p)),T=tt.add(b,T,A,ee,z),T.proxy)return T;if(A=Bi(),T.proxy=A,A.src=p,A.listener=T,p.addEventListener)se||(F=ee),F===void 0&&(F=!1),p.addEventListener(b.toString(),A,F);else if(p.attachEvent)p.attachEvent(ge(b.toString()),A);else if(p.addListener&&p.removeListener)p.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Bi(){function p(T){return b.call(p.src,p.listener,T)}const b=pe;return p}function Bo(p,b,T,A,F){if(Array.isArray(b))for(var z=0;z<b.length;z++)Bo(p,b[z],T,A,F);else A=d(A)?!!A.capture:!!A,T=rt(T),p&&p[$e]?(p=p.i,b=String(b).toString(),b in p.g&&(z=p.g[b],T=fn(z,T,A,F),-1<T&&(ke(z[T]),Array.prototype.splice.call(z,T,1),z.length==0&&(delete p.g[b],p.h--)))):p&&(p=Te(p))&&(b=p.g[b.toString()],p=-1,b&&(p=fn(b,T,A,F)),(T=-1<p?b[p]:null)&&q(T))}function q(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[$e])Ae(b.i,p);else{var T=p.type,A=p.proxy;b.removeEventListener?b.removeEventListener(T,A,p.capture):b.detachEvent?b.detachEvent(ge(T),A):b.addListener&&b.removeListener&&b.removeListener(A),(T=Te(b))?(Ae(T,p),T.h==0&&(T.src=null,b[rr]=null)):ke(p)}}}function ge(p){return p in vr?vr[p]:vr[p]="on"+p}function pe(p,b){if(p.da)p=!0;else{b=new L(b,this);var T=p.listener,A=p.ha||p.src;p.fa&&q(p),p=T.call(A,b)}return p}function Te(p){return p=p[rr],p instanceof me?p:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function rt(p){return typeof p=="function"?p:(p[he]||(p[he]=function(b){return p.handleEvent(b)}),p[he])}function yt(){ce.call(this),this.i=new me(this),this.M=this,this.F=null}x(yt,ce),yt.prototype[$e]=!0,yt.prototype.removeEventListener=function(p,b,T,A){Bo(this,p,b,T,A)};function Ot(p,b){var T,A=p.F;if(A)for(T=[];A;A=A.F)T.push(A);if(p=p.M,A=b.type||b,typeof b=="string")b=new U(b,p);else if(b instanceof U)b.target=b.target||p;else{var F=b;b=new U(A,p),P(b,F)}if(F=!0,T)for(var z=T.length-1;0<=z;z--){var ee=b.g=T[z];F=Wr(ee,A,!0,b)&&F}if(ee=b.g=p,F=Wr(ee,A,!0,b)&&F,F=Wr(ee,A,!1,b)&&F,T)for(z=0;z<T.length;z++)ee=b.g=T[z],F=Wr(ee,A,!1,b)&&F}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var T=p.g[b],A=0;A<T.length;A++)ke(T[A]);delete p.g[b],p.h--}}this.F=null},yt.prototype.K=function(p,b,T,A){return this.i.add(String(p),b,!1,T,A)},yt.prototype.L=function(p,b,T,A){return this.i.add(String(p),b,!0,T,A)};function Wr(p,b,T,A){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var F=!0,z=0;z<b.length;++z){var ee=b[z];if(ee&&!ee.da&&ee.capture==T){var tt=ee.listener,mn=ee.ha||ee.src;ee.fa&&Ae(p.i,ee),F=tt.call(mn,A)!==!1&&F}}return F&&!A.defaultPrevented}function ol(p,b,T){if(typeof p=="function")T&&(p=f(p,T));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:c.setTimeout(p,b||0)}function Aa(p){p.g=ol(()=>{p.g=null,p.i&&(p.i=!1,Aa(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class om extends ce{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Aa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(p){ce.call(this),this.h=p,this.g={}}x(Pa,ce);var im=[];function b2(p){$(p.g,function(b,T){this.g.hasOwnProperty(T)&&q(b)},p),p.g={}}Pa.prototype.N=function(){Pa.aa.N.call(this),b2(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bb=c.JSON.stringify,jL=c.JSON.parse,AL=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Ub(){}Ub.prototype.h=null;function y2(p){return p.h||(p.h=p.i())}function w2(){}var Tu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qb(){U.call(this,"d")}x(qb,U);function Wb(){U.call(this,"c")}x(Wb,U);var Ra={},_2=null;function sm(){return _2=_2||new yt}Ra.La="serverreachability";function E2(p){U.call(this,Ra.La,p)}x(E2,U);function Iu(p){const b=sm();Ot(b,new E2(b))}Ra.STAT_EVENT="statevent";function T2(p,b){U.call(this,Ra.STAT_EVENT,p),this.stat=b}x(T2,U);function On(p){const b=sm();Ot(b,new T2(b,p))}Ra.Ma="timingevent";function I2(p,b){U.call(this,Ra.Ma,p),this.size=b}x(I2,U);function Su(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},b)}function ku(){this.g=!0}ku.prototype.xa=function(){this.g=!1};function PL(p,b,T,A,F,z){p.info(function(){if(p.g)if(z)for(var ee="",tt=z.split("&"),mn=0;mn<tt.length;mn++){var Ke=tt[mn].split("=");if(1<Ke.length){var In=Ke[0];Ke=Ke[1];var Sn=In.split("_");ee=2<=Sn.length&&Sn[1]=="type"?ee+(In+"="+Ke+"&"):ee+(In+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+b+`
`+T+`
`+ee})}function RL(p,b,T,A,F,z,ee){p.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+b+`
`+T+`
`+z+" "+ee})}function il(p,b,T,A){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+NL(p,T)+(A?" "+A:"")})}function DL(p,b){p.info(function(){return"TIMEOUT: "+b})}ku.prototype.info=function(){};function NL(p,b){if(!p.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(p=0;p<T.length;p++)if(Array.isArray(T[p])){var A=T[p];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var z=F[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<F.length;ee++)F[ee]=""}}}}return Bb(T)}catch{return b}}var am={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},S2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hb;function cm(){}x(cm,Ub),cm.prototype.g=function(){return new XMLHttpRequest},cm.prototype.i=function(){return{}},Hb=new cm;function Ui(p,b,T,A){this.j=p,this.i=b,this.l=T,this.R=A||1,this.U=new Pa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new k2}function k2(){this.i=null,this.g="",this.h=!1}var C2={},Gb={};function Kb(p,b,T){p.L=1,p.v=hm(Uo(b)),p.m=T,p.P=!0,j2(p,null)}function j2(p,b){p.F=Date.now(),lm(p),p.A=Uo(p.v);var T=p.A,A=p.R;Array.isArray(A)||(A=[String(A)]),U2(T.i,"t",A),p.C=0,T=p.j.J,p.h=new k2,p.g=ak(p.j,T?b:null,!p.m),0<p.O&&(p.M=new om(f(p.Y,p,p.g),p.O)),b=p.U,T=p.g,A=p.ca;var F="readystatechange";Array.isArray(F)||(F&&(im[0]=F.toString()),F=im);for(var z=0;z<F.length;z++){var ee=zo(T,F[z],A||b.handleEvent,!1,b.h||b);if(!ee)break;b.g[ee.key]=ee}b=p.H?S(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),Iu(),PL(p.i,p.u,p.A,p.l,p.R,p.m)}Ui.prototype.ca=function(p){p=p.target;const b=this.M;b&&qo(p)==3?b.j():this.Y(p)},Ui.prototype.Y=function(p){try{if(p==this.g)e:{const Sn=qo(this.g);var b=this.g.Ba();const cl=this.g.Z();if(!(3>Sn)&&(Sn!=3||this.g&&(this.h.h||this.g.oa()||Q2(this.g)))){this.J||Sn!=4||b==7||(b==8||0>=cl?Iu(3):Iu(2)),Yb(this);var T=this.g.Z();this.X=T;t:if(A2(this)){var A=Q2(this.g);p="";var F=A.length,z=qo(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Da(this),Cu(this);var ee="";break t}this.h.i=new c.TextDecoder}for(b=0;b<F;b++)this.h.h=!0,p+=this.h.i.decode(A[b],{stream:!(z&&b==F-1)});A.length=0,this.h.g+=p,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=T==200,RL(this.i,this.u,this.A,this.l,this.R,Sn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,mn=this.g;if((tt=mn.g?mn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(tt)){var Ke=tt;break t}}Ke=null}if(T=Ke)il(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qb(this,T);else{this.o=!1,this.s=3,On(12),Da(this),Cu(this);break e}}if(this.P){T=!0;let Hr;for(;!this.J&&this.C<ee.length;)if(Hr=$L(this,ee),Hr==Gb){Sn==4&&(this.s=4,On(14),T=!1),il(this.i,this.l,null,"[Incomplete Response]");break}else if(Hr==C2){this.s=4,On(15),il(this.i,this.l,ee,"[Invalid Chunk]"),T=!1;break}else il(this.i,this.l,Hr,null),Qb(this,Hr);if(A2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Sn!=4||ee.length!=0||this.h.h||(this.s=1,On(16),T=!1),this.o=this.o&&T,!T)il(this.i,this.l,ee,"[Invalid Chunked Response]"),Da(this),Cu(this);else if(0<ee.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ny(In),In.M=!0,On(11))}}else il(this.i,this.l,ee,null),Qb(this,ee);Sn==4&&Da(this),this.o&&!this.J&&(Sn==4?rk(this.j,this):(this.o=!1,lm(this)))}else JL(this.g),T==400&&0<ee.indexOf("Unknown SID")?(this.s=3,On(12)):(this.s=0,On(13)),Da(this),Cu(this)}}}catch{}finally{}};function A2(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function $L(p,b){var T=p.C,A=b.indexOf(`
`,T);return A==-1?Gb:(T=Number(b.substring(T,A)),isNaN(T)?C2:(A+=1,A+T>b.length?Gb:(b=b.slice(A,A+T),p.C=A+T,b)))}Ui.prototype.cancel=function(){this.J=!0,Da(this)};function lm(p){p.S=Date.now()+p.I,P2(p,p.I)}function P2(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Su(f(p.ba,p),b)}function Yb(p){p.B&&(c.clearTimeout(p.B),p.B=null)}Ui.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(DL(this.i,this.A),this.L!=2&&(Iu(),On(17)),Da(this),this.s=2,Cu(this)):P2(this,this.S-p)};function Cu(p){p.j.G==0||p.J||rk(p.j,p)}function Da(p){Yb(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,b2(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function Qb(p,b){try{var T=p.j;if(T.G!=0&&(T.g==p||Xb(T.h,p))){if(!p.K&&Xb(T.h,p)&&T.G==3){try{var A=T.Da.g.parse(b)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<p.F)xm(T),gm(T);else break e;ty(T),On(18)}}else T.za=F[1],0<T.za-T.T&&37500>F[2]&&T.F&&T.v==0&&!T.C&&(T.C=Su(f(T.Za,T),6e3));if(1>=N2(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else $a(T,11)}else if((p.K||T.g==p)&&xm(T),!E(b))for(F=T.Da.g.parse(b),b=0;b<F.length;b++){let Ke=F[b];if(T.T=Ke[0],Ke=Ke[1],T.G==2)if(Ke[0]=="c"){T.K=Ke[1],T.ia=Ke[2];const In=Ke[3];In!=null&&(T.la=In,T.j.info("VER="+T.la));const Sn=Ke[4];Sn!=null&&(T.Aa=Sn,T.j.info("SVER="+T.Aa));const cl=Ke[5];cl!=null&&typeof cl=="number"&&0<cl&&(A=1.5*cl,T.L=A,T.j.info("backChannelRequestTimeoutMs_="+A)),A=T;const Hr=p.g;if(Hr){const ym=Hr.g?Hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ym){var z=A.h;z.g||ym.indexOf("spdy")==-1&&ym.indexOf("quic")==-1&&ym.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(Jb(z,z.h),z.h=null))}if(A.D){const ry=Hr.g?Hr.g.getResponseHeader("X-HTTP-Session-Id"):null;ry&&(A.ya=ry,at(A.I,A.D,ry))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-p.F,T.j.info("Handshake RTT: "+T.R+"ms")),A=T;var ee=p;if(A.qa=sk(A,A.J?A.ia:null,A.W),ee.K){$2(A.h,ee);var tt=ee,mn=A.L;mn&&(tt.I=mn),tt.B&&(Yb(tt),lm(tt)),A.g=ee}else tk(A);0<T.i.length&&vm(T)}else Ke[0]!="stop"&&Ke[0]!="close"||$a(T,7);else T.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?$a(T,7):ey(T):Ke[0]!="noop"&&T.l&&T.l.ta(Ke),T.v=0)}}Iu(4)}catch{}}var OL=class{constructor(p,b){this.g=p,this.map=b}};function R2(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function D2(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function N2(p){return p.h?1:p.g?p.g.size:0}function Xb(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function Jb(p,b){p.g?p.g.add(b):p.h=b}function $2(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}R2.prototype.cancel=function(){if(this.i=O2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function O2(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const T of p.g.values())b=b.concat(T.D);return b}return y(p.i)}function FL(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var b=[],T=p.length,A=0;A<T;A++)b.push(p[A]);return b}b=[],T=0;for(A in p)b[T++]=p[A];return b}function ML(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var b=[];p=p.length;for(var T=0;T<p;T++)b.push(T);return b}b=[],T=0;for(const A in p)b[T++]=A;return b}}}function F2(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var T=ML(p),A=FL(p),F=A.length,z=0;z<F;z++)b.call(void 0,A[z],T&&T[z],p)}var M2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LL(p,b){if(p){p=p.split("&");for(var T=0;T<p.length;T++){var A=p[T].indexOf("="),F=null;if(0<=A){var z=p[T].substring(0,A);F=p[T].substring(A+1)}else z=p[T];b(z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Na(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Na){this.h=p.h,dm(this,p.j),this.o=p.o,this.g=p.g,um(this,p.s),this.l=p.l;var b=p.i,T=new Pu;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),L2(this,T),this.m=p.m}else p&&(b=String(p).match(M2))?(this.h=!1,dm(this,b[1]||"",!0),this.o=ju(b[2]||""),this.g=ju(b[3]||"",!0),um(this,b[4]),this.l=ju(b[5]||"",!0),L2(this,b[6]||"",!0),this.m=ju(b[7]||"")):(this.h=!1,this.i=new Pu(null,this.h))}Na.prototype.toString=function(){var p=[],b=this.j;b&&p.push(Au(b,V2,!0),":");var T=this.g;return(T||b=="file")&&(p.push("//"),(b=this.o)&&p.push(Au(b,V2,!0),"@"),p.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&p.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(Au(T,T.charAt(0)=="/"?BL:zL,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",Au(T,qL)),p.join("")};function Uo(p){return new Na(p)}function dm(p,b,T){p.j=T?ju(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function um(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function L2(p,b,T){b instanceof Pu?(p.i=b,WL(p.i,p.h)):(T||(b=Au(b,UL)),p.i=new Pu(b,p.h))}function at(p,b,T){p.i.set(b,T)}function hm(p){return at(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ju(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Au(p,b,T){return typeof p=="string"?(p=encodeURI(p).replace(b,VL),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function VL(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var V2=/[#\/\?@]/g,zL=/[#\?:]/g,BL=/[#\?]/g,UL=/[#\?@]/g,qL=/#/g;function Pu(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function qi(p){p.g||(p.g=new Map,p.h=0,p.i&&LL(p.i,function(b,T){p.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=Pu.prototype,t.add=function(p,b){qi(this),this.i=null,p=sl(this,p);var T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(b),this.h+=1,this};function z2(p,b){qi(p),b=sl(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function B2(p,b){return qi(p),b=sl(p,b),p.g.has(b)}t.forEach=function(p,b){qi(this),this.g.forEach(function(T,A){T.forEach(function(F){p.call(b,F,A,this)},this)},this)},t.na=function(){qi(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let A=0;A<b.length;A++){const F=p[A];for(let z=0;z<F.length;z++)T.push(b[A])}return T},t.V=function(p){qi(this);let b=[];if(typeof p=="string")B2(this,p)&&(b=b.concat(this.g.get(sl(this,p))));else{p=Array.from(this.g.values());for(let T=0;T<p.length;T++)b=b.concat(p[T])}return b},t.set=function(p,b){return qi(this),this.i=null,p=sl(this,p),B2(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},t.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function U2(p,b,T){z2(p,b),0<T.length&&(p.i=null,p.g.set(sl(p,b),y(T)),p.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var A=b[T];const z=encodeURIComponent(String(A)),ee=this.V(A);for(A=0;A<ee.length;A++){var F=z;ee[A]!==""&&(F+="="+encodeURIComponent(String(ee[A]))),p.push(F)}}return this.i=p.join("&")};function sl(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function WL(p,b){b&&!p.j&&(qi(p),p.i=null,p.g.forEach(function(T,A){var F=A.toLowerCase();A!=F&&(z2(this,A),U2(this,F,T))},p)),p.j=b}function HL(p,b){const T=new ku;if(c.Image){const A=new Image;A.onload=v(Wi,T,"TestLoadImage: loaded",!0,b,A),A.onerror=v(Wi,T,"TestLoadImage: error",!1,b,A),A.onabort=v(Wi,T,"TestLoadImage: abort",!1,b,A),A.ontimeout=v(Wi,T,"TestLoadImage: timeout",!1,b,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=p}else b(!1)}function GL(p,b){const T=new ku,A=new AbortController,F=setTimeout(()=>{A.abort(),Wi(T,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:A.signal}).then(z=>{clearTimeout(F),z.ok?Wi(T,"TestPingServer: ok",!0,b):Wi(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(F),Wi(T,"TestPingServer: error",!1,b)})}function Wi(p,b,T,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(T)}catch{}}function KL(){this.g=new AL}function YL(p,b,T){const A=T||"";try{F2(p,function(F,z){let ee=F;d(F)&&(ee=Bb(F)),b.push(A+z+"="+encodeURIComponent(ee))})}catch(F){throw b.push(A+"type="+encodeURIComponent("_badmap")),F}}function pm(p){this.l=p.Ub||null,this.j=p.eb||!1}x(pm,Ub),pm.prototype.g=function(){return new fm(this.l,this.j)},pm.prototype.i=function(p){return function(){return p}}({});function fm(p,b){yt.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(fm,yt),t=fm.prototype,t.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Du(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||c).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ru(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Du(this)),this.g&&(this.readyState=3,Du(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;q2(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function q2(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Ru(this):Du(this),this.readyState==3&&q2(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,Ru(this))},t.Qa=function(p){this.g&&(this.response=p,Ru(this))},t.ga=function(){this.g&&Ru(this)};function Ru(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Du(p)}t.setRequestHeader=function(p,b){this.u.append(p,b)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=b.next();return p.join(`\r
`)};function Du(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(fm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function W2(p){let b="";return $(p,function(T,A){b+=A,b+=":",b+=T,b+=`\r
`}),b}function Zb(p,b,T){e:{for(A in T){var A=!1;break e}A=!0}A||(T=W2(T),typeof p=="string"?T!=null&&encodeURIComponent(String(T)):at(p,b,T))}function kt(p){yt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(kt,yt);var QL=/^https?$/i,XL=["POST","PUT"];t=kt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,b,T,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hb.g(),this.v=this.o?y2(this.o):y2(Hb),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(z){H2(this,z);return}if(p=T||"",T=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)T.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const z of A.keys())T.set(z,A.get(z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(T.keys()).find(z=>z.toLowerCase()=="content-type"),F=c.FormData&&p instanceof c.FormData,!(0<=Array.prototype.indexOf.call(XL,b,void 0))||A||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of T)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Y2(this),this.u=!0,this.g.send(p),this.u=!1}catch(z){H2(this,z)}};function H2(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,G2(p),mm(p)}function G2(p){p.A||(p.A=!0,Ot(p,"complete"),Ot(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ot(this,"complete"),Ot(this,"abort"),mm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mm(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?K2(this):this.bb())},t.bb=function(){K2(this)};function K2(p){if(p.h&&typeof a<"u"&&(!p.v[1]||qo(p)!=4||p.Z()!=2)){if(p.u&&qo(p)==4)ol(p.Ea,0,p);else if(Ot(p,"readystatechange"),qo(p)==4){p.h=!1;try{const ee=p.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var A;if(A=ee===0){var F=String(p.D).match(M2)[1]||null;!F&&c.self&&c.self.location&&(F=c.self.location.protocol.slice(0,-1)),A=!QL.test(F?F.toLowerCase():"")}T=A}if(T)Ot(p,"complete"),Ot(p,"success");else{p.m=6;try{var z=2<qo(p)?p.g.statusText:""}catch{z=""}p.l=z+" ["+p.Z()+"]",G2(p)}}finally{mm(p)}}}}function mm(p,b){if(p.g){Y2(p);const T=p.g,A=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||Ot(p,"ready");try{T.onreadystatechange=A}catch{}}}function Y2(p){p.I&&(c.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function qo(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<qo(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),jL(b)}};function Q2(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function JL(p){const b={};p=(p.g&&2<=qo(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<p.length;A++){if(E(p[A]))continue;var T=N(p[A]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const z=b[F]||[];b[F]=z,z.push(T)}k(b,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nu(p,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||b}function X2(p){this.Aa=0,this.i=[],this.j=new ku,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nu("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nu("baseRetryDelayMs",5e3,p),this.cb=Nu("retryDelaySeedMs",1e4,p),this.Wa=Nu("forwardChannelMaxRetries",2,p),this.wa=Nu("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new R2(p&&p.concurrentRequestLimit),this.Da=new KL,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=X2.prototype,t.la=8,t.G=1,t.connect=function(p,b,T,A){On(0),this.W=p,this.H=b||{},T&&A!==void 0&&(this.H.OSID=T,this.H.OAID=A),this.F=this.X,this.I=sk(this,null,this.W),vm(this)};function ey(p){if(J2(p),p.G==3){var b=p.U++,T=Uo(p.I);if(at(T,"SID",p.K),at(T,"RID",b),at(T,"TYPE","terminate"),$u(p,T),b=new Ui(p,p.j,b),b.L=2,b.v=hm(Uo(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.v,T=!0),T||(b.g=ak(b.j,null),b.g.ea(b.v)),b.F=Date.now(),lm(b)}ik(p)}function gm(p){p.g&&(ny(p),p.g.cancel(),p.g=null)}function J2(p){gm(p),p.u&&(c.clearTimeout(p.u),p.u=null),xm(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&c.clearTimeout(p.s),p.s=null)}function vm(p){if(!D2(p.h)&&!p.s){p.s=!0;var b=p.Ga;xe||J(),W||(xe(),W=!0),B.add(b,p),p.B=0}}function ZL(p,b){return N2(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Su(f(p.Ga,p,b),ok(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const F=new Ui(this,this.j,p);let z=this.o;if(this.S&&(z?(z=S(z),P(z,this.S)):z=this.S),this.m!==null||this.O||(F.H=z,z=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var A=this.i[T];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(b+=A,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=ek(this,F,b),T=Uo(this.I),at(T,"RID",p),at(T,"CVER",22),this.D&&at(T,"X-HTTP-Session-Id",this.D),$u(this,T),z&&(this.O?b="headers="+encodeURIComponent(String(W2(z)))+"&"+b:this.m&&Zb(T,this.m,z)),Jb(this.h,F),this.Ua&&at(T,"TYPE","init"),this.P?(at(T,"$req",b),at(T,"SID","null"),F.T=!0,Kb(F,T,null)):Kb(F,T,b),this.G=2}}else this.G==3&&(p?Z2(this,p):this.i.length==0||D2(this.h)||Z2(this))};function Z2(p,b){var T;b?T=b.l:T=p.U++;const A=Uo(p.I);at(A,"SID",p.K),at(A,"RID",T),at(A,"AID",p.T),$u(p,A),p.m&&p.o&&Zb(A,p.m,p.o),T=new Ui(p,p.j,T,p.B+1),p.m===null&&(T.H=p.o),b&&(p.i=b.D.concat(p.i)),b=ek(p,T,1e3),T.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Jb(p.h,T),Kb(T,A,b)}function $u(p,b){p.H&&$(p.H,function(T,A){at(b,A,T)}),p.l&&F2({},function(T,A){at(b,A,T)})}function ek(p,b,T){T=Math.min(p.i.length,T);var A=p.l?f(p.l.Na,p.l,p):null;e:{var F=p.i;let z=-1;for(;;){const ee=["count="+T];z==-1?0<T?(z=F[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let tt=!0;for(let mn=0;mn<T;mn++){let Ke=F[mn].g;const In=F[mn].map;if(Ke-=z,0>Ke)z=Math.max(0,F[mn].g-100),tt=!1;else try{YL(In,ee,"req"+Ke+"_")}catch{A&&A(In)}}if(tt){A=ee.join("&");break e}}}return p=p.i.splice(0,T),b.D=p,A}function tk(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;xe||J(),W||(xe(),W=!0),B.add(b,p),p.v=0}}function ty(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Su(f(p.Fa,p),ok(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,nk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Su(f(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,On(10),gm(this),nk(this))};function ny(p){p.A!=null&&(c.clearTimeout(p.A),p.A=null)}function nk(p){p.g=new Ui(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=Uo(p.qa);at(b,"RID","rpc"),at(b,"SID",p.K),at(b,"AID",p.T),at(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&at(b,"TO",p.ja),at(b,"TYPE","xmlhttp"),$u(p,b),p.m&&p.o&&Zb(b,p.m,p.o),p.L&&(p.g.I=p.L);var T=p.g;p=p.ia,T.L=1,T.v=hm(Uo(b)),T.m=null,T.P=!0,j2(T,p)}t.Za=function(){this.C!=null&&(this.C=null,gm(this),ty(this),On(19))};function xm(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function rk(p,b){var T=null;if(p.g==b){xm(p),ny(p),p.g=null;var A=2}else if(Xb(p.h,b))T=b.D,$2(p.h,b),A=1;else return;if(p.G!=0){if(b.o)if(A==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var F=p.B;A=sm(),Ot(A,new I2(A,T)),vm(p)}else tk(p);else if(F=b.s,F==3||F==0&&0<b.X||!(A==1&&ZL(p,b)||A==2&&ty(p)))switch(T&&0<T.length&&(b=p.h,b.i=b.i.concat(T)),F){case 1:$a(p,5);break;case 4:$a(p,10);break;case 3:$a(p,6);break;default:$a(p,2)}}}function ok(p,b){let T=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(T*=2),T*b}function $a(p,b){if(p.j.info("Error code "+b),b==2){var T=f(p.fb,p),A=p.Xa;const F=!A;A=new Na(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||dm(A,"https"),hm(A),F?HL(A.toString(),T):GL(A.toString(),T)}else On(2);p.G=0,p.l&&p.l.sa(b),ik(p),J2(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),On(2)):(this.j.info("Failed to ping google.com"),On(1))};function ik(p){if(p.G=0,p.ka=[],p.l){const b=O2(p.h);(b.length!=0||p.i.length!=0)&&(_(p.ka,b),_(p.ka,p.i),p.h.i.length=0,y(p.i),p.i.length=0),p.l.ra()}}function sk(p,b,T){var A=T instanceof Na?Uo(T):new Na(T);if(A.g!="")b&&(A.g=b+"."+A.g),um(A,A.s);else{var F=c.location;A=F.protocol,b=b?b+"."+F.hostname:F.hostname,F=+F.port;var z=new Na(null);A&&dm(z,A),b&&(z.g=b),F&&um(z,F),T&&(z.l=T),A=z}return T=p.D,b=p.ya,T&&b&&at(A,T,b),at(A,"VER",p.la),$u(p,A),A}function ak(p,b,T){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new kt(new pm({eb:T})):new kt(p.pa),b.Ha(p.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ck(){}t=ck.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bm(){}bm.prototype.g=function(p,b){return new xr(p,b)};function xr(p,b){yt.call(this),this.g=new X2(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!E(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!E(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new al(this)}x(xr,yt),xr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xr.prototype.close=function(){ey(this.g)},xr.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.u&&(T={},T.__data__=Bb(p),p=T);b.i.push(new OL(b.Ya++,p)),b.G==3&&vm(b)},xr.prototype.N=function(){this.g.l=null,delete this.j,ey(this.g),delete this.g,xr.aa.N.call(this)};function lk(p){qb.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const T in b){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}x(lk,qb);function dk(){Wb.call(this),this.status=1}x(dk,Wb);function al(p){this.g=p}x(al,ck),al.prototype.ua=function(){Ot(this.g,"a")},al.prototype.ta=function(p){Ot(this.g,new lk(p))},al.prototype.sa=function(p){Ot(this.g,new dk)},al.prototype.ra=function(){Ot(this.g,"b")},bm.prototype.createWebChannel=bm.prototype.g,xr.prototype.send=xr.prototype.o,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,y$=function(){return new bm},b$=function(){return sm()},x$=Ra,y_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},am.NO_ERROR=0,am.TIMEOUT=8,am.HTTP_ERROR=6,Av=am,S2.COMPLETE="complete",v$=S2,w2.EventType=Tu,Tu.OPEN="a",Tu.CLOSE="b",Tu.ERROR="c",Tu.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Kh=w2,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,g$=kt}).apply(typeof Lm<"u"?Lm:typeof self<"u"?self:typeof window<"u"?window:{});const sj="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new If("@firebase/firestore");function Dl(){return Zs.logLevel}function aG(t){Zs.setLogLevel(t)}function G(t,...e){if(Zs.logLevel<=De.DEBUG){const n=e.map(lI);Zs.debug(`Firestore (${cu}): ${t}`,...n)}}function qt(t,...e){if(Zs.logLevel<=De.ERROR){const n=e.map(lI);Zs.error(`Firestore (${cu}): ${t}`,...n)}}function Fo(t,...e){if(Zs.logLevel<=De.WARN){const n=e.map(lI);Zs.warn(`Firestore (${cu}): ${t}`,...n)}}function lI(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: `+t;throw qt(e),new Error(e)}function fe(t,e){t||ae()}function cG(t,e){t||ae()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class dG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uG{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new wn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new wn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},c=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new wn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new w$(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new ln(e)}}class hG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fe(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?o(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new fG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=gG(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+=e.charAt(o[i]%e.length))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function Ad(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}function E$(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ie.fromMillis(Date.now())}static fromDate(e){return ie.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ie(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new ie(0,0))}static max(){return new ve(new ie(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qp.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=e.get(o),a=n.get(o);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Qp{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const vG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Qp{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return vG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(r.length===0)throw new H(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new H(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else c==="`"?(a=!a,o++):c!=="."||a?(r+=c,o++):(i(),o++)}if(i(),a)throw new H(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Fe.fromString(e))}static fromName(e){return new te(Fe.fromString(e).popFirst(5))}static empty(){return new te(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Fe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,r,o){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=o}}function w_(t){return t.fields.find(e=>e.kind===2)}function qa(t){return t.fields.filter(e=>e.kind!==2)}N0.UNKNOWN_ID=-1;class Pv{constructor(e,n){this.fieldPath=e,this.kind=n}}class Xp{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Xp(0,jr.min())}}function T$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ve.fromTimestamp(r===1e9?new ie(n+1,0):new ie(n,r));return new jr(o,te.empty(),e)}function I$(t){return new jr(t.readTime,t.key,-1)}class jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jr(ve.min(),te.empty(),-1)}static max(){return new jr(ve.max(),te.empty(),-1)}}function dI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==S$)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let o=0,i=0,a=!1;e.forEach(c=>{++o,c.next(()=>{++i,a&&i===o&&n()},l=>r(l))}),a=!0,i===o&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(o=>o?M.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,o)=>{const i=e.length,a=new Array(i);let c=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{a[d]=h,++c,c===i&&r(a)},h=>o(h))}})}static doWhile(e,n){return new M((r,o)=>{const i=()=>{e()===!0?n().next(()=>{i()},o):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new wn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new pp(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const o=uI(r.target.error);this.V.reject(new pp(e,o))}}static open(e,n,r,o){try{return new Ux(n,e.transaction(o,r))}catch(i){throw new pp(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new bG(n)}}class Ro{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ro.S(It())===12.2&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),Ga(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Qs())return!1;if(Ro.v())return!0;const e=It(),n=Ro.S(e),r=0<n&&n<10,o=C$(e),i=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=i=>{const a=i.target.result;n(a)},o.onblocked=()=>{r(new pp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=i=>{const a=i.target.error;a.name==="VersionError"?r(new H(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new H(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new pp(e,a))},o.onupgradeneeded=i=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.p.O(a,o.transaction,i.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,o){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const c=Ux.open(this.db,e,i?"readonly":"readwrite",r),l=o(c).next(d=>(c.g(),d)).catch(d=>(c.abort(d),M.reject(d))).toPromise();return l.catch(()=>{}),await c.m,l}catch(c){const l=c,d=l.name!=="FirebaseError"&&a<3;if(G("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),this.close(),!d)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function C$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class xG{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ga(this.B.delete())}}class pp extends H{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function wa(t){return t.name==="IndexedDbTransactionError"}class bG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ga(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),Ga(this.store.add(e))}get(e){return Ga(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),Ga(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),Ga(this.store.count())}U(e,n){const r=this.options(e,n),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const i=o.getAll(r.range);return new M((a,c)=>{i.onerror=l=>{c(l.target.error)},i.onsuccess=l=>{a(l.target.result)}})}{const i=this.cursor(r),a=[];return this.W(i,(c,l)=>{a.push(l)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((o,i)=>{r.onerror=a=>{i(a.target.error)},r.onsuccess=a=>{o(a.target.result)}})}j(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const o=this.cursor(r);return this.W(o,(i,a,c)=>c.delete())}J(e,n){let r;n?r=e:(r={},n=e);const o=this.cursor(r);return this.W(o,n)}Y(e){const n=this.cursor({});return new M((r,o)=>{n.onerror=i=>{const a=uI(i.target.error);o(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next(c=>{c?a.continue():r()}):r()}})}W(e,n){const r=[];return new M((o,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const c=a.target.result;if(!c)return void o();const l=new xG(c),d=n(c.primaryKey,c.value,l);if(d instanceof M){const h=d.catch(u=>(l.done(),M.reject(u)));r.push(h)}l.isDone?o():l.K===null?c.continue():c.continue(l.K)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ga(t){return new M((e,n)=>{t.onsuccess=r=>{const o=r.target.result;e(o)},t.onerror=r=>{const o=uI(r.target.error);n(o)}})}let aj=!1;function uI(t){const e=Ro.S(It());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new H("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aj||(aj=!0,setTimeout(()=>{throw r},0)),r}}return t}class yG{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){G("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{G("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){wa(n)?G("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await ya(n)}await this.X(6e4)})}}class wG{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let o=n,i=!0;return M.doWhile(()=>i===!0&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return G("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,o).next(c=>{o-=c,r.add(a)});i=!1})).next(()=>n-o)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(o=>this.localStore.localDocuments.getNextDocuments(e,n,o,r).next(i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(o,i)).next(c=>(G("IndexBackfiller",`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,n,c))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((o,i)=>{const a=I$(i);dI(a,r)>0&&(r=a)}),new jr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ur.oe=-1;function Nf(t){return t==null}function Jp(t){return t===0&&1/t==-1/0}function j$(t){return typeof t=="number"&&Number.isInteger(t)&&!Jp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cj(e)),e=_G(t.get(n),e);return cj(e)}function _G(t,e){let n=e;const r=t.length;for(let o=0;o<r;o++){const i=t.charAt(o);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function cj(t){return t+""}function Co(t){const e=t.length;if(fe(e>=2),e===2)return fe(t.charAt(0)===""&&t.charAt(1)===""),Fe.emptyPath();const n=e-2,r=[];let o="";for(let i=0;i<e;){const a=t.indexOf("",i);switch((a<0||a>n)&&ae(),t.charAt(a+1)){case"":const c=t.substring(i,a);let l;o.length===0?l=c:(o+=c,l=o,o=""),r.push(l);break;case"":o+=t.substring(i,a),o+="\0";break;case"":o+=t.substring(i,a+1);break;default:ae()}i=a+2}return new Fe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){return[t,Yn(e)]}function A$(t,e,n){return[t,Yn(e),n]}const EG={},TG=["prefixPath","collectionGroup","readTime","documentId"],IG=["prefixPath","collectionGroup","documentId"],SG=["collectionGroup","readTime","prefixPath","documentId"],kG=["canonicalId","targetId"],CG=["targetId","path"],jG=["path","targetId"],AG=["collectionId","parent"],PG=["indexId","uid"],RG=["uid","sequenceNumber"],DG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NG=["indexId","uid","orderedDocumentKey"],$G=["userId","collectionPath","documentId"],OG=["userId","collectionPath","largestBatchId"],FG=["userId","collectionGroup","largestBatchId"],P$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],MG=[...P$,"documentOverlays"],R$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],D$=R$,hI=[...D$,"indexConfiguration","indexState","indexEntries"],LG=hI,VG=[...hI,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends k${constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function on(t,e){const n=ne(t);return Ro.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vm(this.root,e,this.comparator,!0)}}class Vm{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r??vn.RED,this.left=o??vn.EMPTY,this.right=i??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new vn(e??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):i===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,o,i){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uj(this.data.getIterator())}getIteratorFrom(e){return new uj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class uj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ul(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new hr([])}unionWith(e){let n=new et(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ad(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $$("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(o){let i="";for(let a=0;a<o.length;++a)i+=String.fromCharCode(o[a]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const BG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(fe(!!t),typeof t=="string"){let e=0;const n=BG.exec(t);if(fe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ea(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pI(t){const e=t.mapValue.fields.__previous_value__;return qx(e)?pI(e):e}function Zp(t){const e=Ii(t.mapValue.fields.__local_write_time__.timestampValue);return new ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n,r,o,i,a,c,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d}}class ta{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ta("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ta&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dv={nullValue:"NULL_VALUE"};function jc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qx(t)?4:O$(t)?9007199254740991:Wx(t)?10:11:ae()}function Mo(t,e){if(t===e)return!0;const n=jc(t);if(n!==jc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zp(t).isEqual(Zp(e));case 3:return function(o,i){if(typeof o.timestampValue=="string"&&typeof i.timestampValue=="string"&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const a=Ii(o.timestampValue),c=Ii(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,i){return ea(o.bytesValue).isEqual(ea(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,i){return mt(o.geoPointValue.latitude)===mt(i.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(i.geoPointValue.longitude)}(t,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return mt(o.integerValue)===mt(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const a=mt(o.doubleValue),c=mt(i.doubleValue);return a===c?Jp(a)===Jp(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Ad(t.arrayValue.values||[],e.arrayValue.values||[],Mo);case 10:case 11:return function(o,i){const a=o.mapValue.fields||{},c=i.mapValue.fields||{};if(dj(a)!==dj(c))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(c[l]===void 0||!Mo(a[l],c[l])))return!1;return!0}(t,e);default:return ae()}}function ef(t,e){return(t.values||[]).find(n=>Mo(n,e))!==void 0}function na(t,e){if(t===e)return 0;const n=jc(t),r=jc(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,a){const c=mt(i.integerValue||i.doubleValue),l=mt(a.integerValue||a.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return hj(t.timestampValue,e.timestampValue);case 4:return hj(Zp(t),Zp(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(i,a){const c=ea(i),l=ea(a);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),l=a.split("/");for(let d=0;d<c.length&&d<l.length;d++){const h=Ce(c[d],l[d]);if(h!==0)return h}return Ce(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Ce(mt(i.latitude),mt(a.latitude));return c!==0?c:Ce(mt(i.longitude),mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pj(t.arrayValue,e.arrayValue);case 10:return function(i,a){var c,l,d,h;const u=i.fields||{},f=a.fields||{},v=(c=u.value)===null||c===void 0?void 0:c.arrayValue,x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=Ce(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:pj(v,x)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Fs.mapValue&&a===Fs.mapValue)return 0;if(i===Fs.mapValue)return 1;if(a===Fs.mapValue)return-1;const c=i.fields||{},l=Object.keys(c),d=a.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let u=0;u<l.length&&u<h.length;++u){const f=Ce(l[u],h[u]);if(f!==0)return f;const v=na(c[l[u]],d[h[u]]);if(v!==0)return v}return Ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ae()}}function hj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Ii(t),r=Ii(e),o=Ce(n.seconds,r.seconds);return o!==0?o:Ce(n.nanos,r.nanos)}function pj(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const i=na(n[o],r[o]);if(i)return i}return Ce(n.length,r.length)}function Pd(t){return E_(t)}function E_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ea(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const i of n.values||[])o?o=!1:r+=",",r+=E_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",i=!0;for(const a of r)i?i=!1:o+=",",o+=`${a}:${E_(n.fields[a])}`;return o+"}"}(t.mapValue):ae()}function Ac(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T_(t){return!!t&&"integerValue"in t}function tf(t){return!!t&&"arrayValue"in t}function fj(t){return!!t&&"nullValue"in t}function mj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nv(t){return!!t&&"mapValue"in t}function Wx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function O$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const F$={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function qG(t){return"nullValue"in t?Dv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Ac(ta.empty(),te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Wx(t)?F$:{mapValue:{}}:ae()}function WG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Ac(ta.empty(),te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?F$:"mapValue"in t?Wx(t)?{mapValue:{}}:Fs:ae()}function gj(t,e){const n=na(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function vj(t,e){const n=na(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fp(n)}setAll(e){let n=vt.emptyPath(),r={},o=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=c.popLast()}a?r[c.lastSegment()]=fp(a):o.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());Nv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Nv(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Yc(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new xn(fp(this.value))}}function M$(t){const e=[];return Yc(t.fields,(n,r)=>{const o=new vt([n]);if(Nv(r)){const i=M$(r.mapValue).fields;if(i.length===0)e.push(o);else for(const a of i)e.push(o.child(a))}else e.push(o)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n,r,o,i,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new ut(e,0,ve.min(),ve.min(),ve.min(),xn.empty(),0)}static newFoundDocument(e,n,r,o){return new ut(e,1,n,ve.min(),r,o,0)}static newNoDocument(e,n){return new ut(e,2,n,ve.min(),ve.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new ut(e,3,n,ve.min(),ve.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.position=e,this.inclusive=n}}function xj(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],a=t.position[o];if(i.field.isKeyField()?r=te.comparator(te.fromName(a.referenceValue),n.key):r=na(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function bj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n="asc"){this.field=e,this.dir=n}}function HG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${}class Me extends L${constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GG(e,n,r):n==="array-contains"?new QG(e,r):n==="in"?new W$(e,r):n==="not-in"?new XG(e,r):n==="array-contains-any"?new JG(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KG(e,r):new YG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(na(n,this.value)):n!==null&&jc(this.value)===jc(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Je extends L${constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Je(e,n)}matches(e){return Rd(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Rd(t){return t.op==="and"}function I_(t){return t.op==="or"}function fI(t){return V$(t)&&Rd(t)}function V$(t){for(const e of t.filters)if(e instanceof Je)return!1;return!0}function S_(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+Pd(t.value);if(fI(t))return t.filters.map(e=>S_(e)).join(",");{const e=t.filters.map(n=>S_(n)).join(",");return`${t.op}(${e})`}}function z$(t,e){return t instanceof Me?function(r,o){return o instanceof Me&&r.op===o.op&&r.field.isEqual(o.field)&&Mo(r.value,o.value)}(t,e):t instanceof Je?function(r,o){return o instanceof Je&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((i,a,c)=>i&&z$(a,o.filters[c]),!0):!1}(t,e):void ae()}function B$(t,e){const n=t.filters.concat(e);return Je.create(n,t.op)}function U$(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${Pd(n.value)}`}(t):t instanceof Je?function(n){return n.op.toString()+" {"+n.getFilters().map(U$).join(" ,")+"}"}(t):"Filter"}class GG extends Me{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class KG extends Me{constructor(e,n){super(e,"in",n),this.keys=q$("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YG extends Me{constructor(e,n){super(e,"not-in",n),this.keys=q$("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function q$(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class QG extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tf(n)&&ef(n.arrayValue,this.value)}}class W$ extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ef(this.value.arrayValue,n)}}class XG extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(ef(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ef(this.value.arrayValue,n)}}class JG extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ef(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n=null,r=[],o=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=a,this.endAt=c,this.ue=null}}function k_(t,e=null,n=[],r=[],o=null,i=null,a=null){return new ZG(t,e,n,r,o,i,a)}function Pc(t){const e=ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>S_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Pd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Pd(r)).join(",")),e.ue=n}return e.ue}function $f(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z$(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bj(t.startAt,e.startAt)&&bj(t.endAt,e.endAt)}function $0(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function O0(t,e){return t.filters.filter(n=>n instanceof Me&&n.field.isEqual(e))}function yj(t,e,n){let r=Dv,o=!0;for(const i of O0(t,e)){let a=Dv,c=!0;switch(i.op){case"<":case"<=":a=qG(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,c=!1;break;case"!=":case"not-in":a=Dv}gj({value:r,inclusive:o},{value:a,inclusive:c})<0&&(r=a,o=c)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];gj({value:r,inclusive:o},{value:a,inclusive:n.inclusive})<0&&(r=a,o=n.inclusive);break}}return{value:r,inclusive:o}}function wj(t,e,n){let r=Fs,o=!0;for(const i of O0(t,e)){let a=Fs,c=!0;switch(i.op){case">=":case">":a=WG(i.value),c=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,c=!1;break;case"!=":case"not-in":a=Fs}vj({value:r,inclusive:o},{value:a,inclusive:c})>0&&(r=a,o=c)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];vj({value:r,inclusive:o},{value:a,inclusive:n.inclusive})>0&&(r=a,o=n.inclusive);break}}return{value:r,inclusive:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n=null,r=[],o=[],i=null,a="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function H$(t,e,n,r,o,i,a,c){return new Ni(t,e,n,r,o,i,a,c)}function lu(t){return new Ni(t)}function _j(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mI(t){return t.collectionGroup!==null}function ud(t){const e=ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new et(vt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new nf(i,r))}),n.has(vt.keyField().canonicalString())||e.ce.push(new nf(vt.keyField(),r))}return e.ce}function Qn(t){const e=ne(t);return e.le||(e.le=eK(e,ud(t))),e.le}function eK(t,e){if(t.limitType==="F")return k_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const i=o.dir==="desc"?"asc":"desc";return new nf(o.field,i)});const n=t.endAt?new ra(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ra(t.startAt.position,t.startAt.inclusive):null;return k_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function C_(t,e){const n=t.filters.concat([e]);return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function F0(t,e,n){return new Ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Of(t,e){return $f(Qn(t),Qn(e))&&t.limitType===e.limitType}function G$(t){return`${Pc(Qn(t))}|lt:${t.limitType}`}function Nl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>U$(o)).join(", ")}]`),Nf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Pd(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Pd(o)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&function(r,o){const i=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,o){for(const i of ud(r))if(!i.field.isKeyField()&&o.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const i of r.filters)if(!i.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(a,c,l){const d=xj(a,c,l);return a.inclusive?d<=0:d<0}(r.startAt,ud(r),o)||r.endAt&&!function(a,c,l){const d=xj(a,c,l);return a.inclusive?d>=0:d>0}(r.endAt,ud(r),o))}(t,e)}function K$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y$(t){return(e,n)=>{let r=!1;for(const o of ud(t)){const i=tK(o,e,n);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function tK(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,a,c){const l=a.data.field(i),d=c.data.field(i);return l!==null&&d!==null?na(l,d):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yc(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return N$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=new st(te.comparator);function pr(){return nK}const Q$=new st(te.comparator);function Yh(...t){let e=Q$;for(const n of t)e=e.insert(n.key,n);return e}function X$(t){let e=Q$;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jo(){return mp()}function J$(){return mp()}function mp(){return new _a(t=>t.toString(),(t,e)=>t.isEqual(e))}const rK=new st(te.comparator),oK=new et(te.comparator);function je(...t){let e=oK;for(const n of t)e=e.add(n);return e}const iK=new et(Ce);function gI(){return iK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jp(e)?"-0":e}}function Z$(t){return{integerValue:""+t}}function e3(t,e){return j$(e)?Z$(e):vI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this._=void 0}}function sK(t,e,n){return t instanceof Dd?function(o,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&qx(i)&&(i=pI(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Rc?n3(t,e):t instanceof Dc?r3(t,e):function(o,i){const a=t3(o,i),c=Ej(a)+Ej(o.Pe);return T_(a)&&T_(o.Pe)?Z$(c):vI(o.serializer,c)}(t,e)}function aK(t,e,n){return t instanceof Rc?n3(t,e):t instanceof Dc?r3(t,e):n}function t3(t,e){return t instanceof Nd?function(r){return T_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Dd extends Hx{}class Rc extends Hx{constructor(e){super(),this.elements=e}}function n3(t,e){const n=o3(e);for(const r of t.elements)n.some(o=>Mo(o,r))||n.push(r);return{arrayValue:{values:n}}}class Dc extends Hx{constructor(e){super(),this.elements=e}}function r3(t,e){let n=o3(e);for(const r of t.elements)n=n.filter(o=>!Mo(o,r));return{arrayValue:{values:n}}}class Nd extends Hx{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ej(t){return mt(t.integerValue||t.doubleValue)}function o3(t){return tf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.field=e,this.transform=n}}function cK(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof Rc&&o instanceof Rc||r instanceof Dc&&o instanceof Dc?Ad(r.elements,o.elements,Mo):r instanceof Nd&&o instanceof Nd?Mo(r.Pe,o.Pe):r instanceof Dd&&o instanceof Dd}(t.transform,e.transform)}class lK{constructor(e,n){this.version=e,this.transformResults=n}}class xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xt}static exists(e){return new xt(void 0,e)}static updateTime(e){return new xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $v(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gx{}function i3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uu(t.key,xt.none()):new du(t.key,t.data,xt.none());{const n=t.data,r=xn.empty();let o=new et(vt.comparator);for(let i of e.fields)if(!o.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),o=o.add(i)}return new $i(t.key,r,new hr(o.toArray()),xt.none())}}function dK(t,e,n){t instanceof du?function(o,i,a){const c=o.value.clone(),l=Ij(o.fieldTransforms,i,a.transformResults);c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(o,i,a){if(!$v(o.precondition,i))return void i.convertToUnknownDocument(a.version);const c=Ij(o.fieldTransforms,i,a.transformResults),l=i.data;l.setAll(s3(o)),l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(o,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function gp(t,e,n,r){return t instanceof du?function(i,a,c,l){if(!$v(i.precondition,a))return c;const d=i.value.clone(),h=Sj(i.fieldTransforms,l,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof $i?function(i,a,c,l){if(!$v(i.precondition,a))return c;const d=Sj(i.fieldTransforms,l,a),h=a.data;return h.setAll(s3(i)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(i,a,c){return $v(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function uK(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),i=t3(r.transform,o||null);i!=null&&(n===null&&(n=xn.empty()),n.set(r.field,i))}return n||null}function Tj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ad(r,o,(i,a)=>cK(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends Gx{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $i extends Gx{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function s3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ij(t,e,n){const r=new Map;fe(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],a=i.transform,c=e.data.field(i.field);r.set(i.field,aK(a,c,n[o]))}return r}function Sj(t,e,n){const r=new Map;for(const o of t){const i=o.transform,a=n.data.field(o.field);r.set(o.field,sK(i,a,e))}return r}class uu extends Gx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xI extends Gx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&dK(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J$();return this.mutations.forEach(o=>{const i=e.get(o.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=n.has(o.key)?null:c;const l=i3(a,c);l!==null&&r.set(o.key,l),a.isValidDocument()||a.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&Ad(this.mutations,e.mutations,(n,r)=>Tj(n,r))&&Ad(this.baseMutations,e.baseMutations,(n,r)=>Tj(n,r))}}class yI{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){fe(e.mutations.length===r.length);let o=function(){return rK}();const i=e.mutations;for(let a=0;a<i.length;a++)o=o.insert(i[a].key,r[a].version);return new yI(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,ze;function a3(t){switch(t){default:return ae();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function c3(t){if(t===void 0)return qt("GRPC error has no .code"),V.UNKNOWN;switch(t){case Yt.OK:return V.OK;case Yt.CANCELLED:return V.CANCELLED;case Yt.UNKNOWN:return V.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return V.INTERNAL;case Yt.UNAVAILABLE:return V.UNAVAILABLE;case Yt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Yt.NOT_FOUND:return V.NOT_FOUND;case Yt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Yt.ABORTED:return V.ABORTED;case Yt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Yt.DATA_LOSS:return V.DATA_LOSS;default:return ae()}}(ze=Yt||(Yt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=new vc([4294967295,4294967295],0);function kj(t){const e=l3().encode(t),n=new m$;return n.update(e),new Uint8Array(n.digest())}function Cj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vc([n,r],0),new vc([o,i],0)]}class _I{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qh(`Invalid padding: ${n}`);if(r<0)throw new Qh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=vc.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(vc.fromNumber(r)));return o.compare(pK)===1&&(o=new vc([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=kj(e),[r,o]=Cj(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,o,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new _I(i,o,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Ie===0)return;const n=kj(e),[r,o]=Cj(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,o,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Vf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lf(ve.min(),o,new st(Ce),pr(),je())}}class Vf{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vf(r,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class d3{constructor(e,n){this.targetId=e,this.me=n}}class u3{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class jj{constructor(){this.fe=0,this.ge=Pj(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=je(),n=je(),r=je();return this.ge.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ae()}}),new Vf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Pj()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fK{constructor(e){this.Le=e,this.Be=new Map,this.ke=pr(),this.qe=Aj(),this.Qe=new st(Ce)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const i=o.target;if($0(i))if(r===0){const a=new te(i.path);this.Ue(n,a,ut.newNoDocument(a,ve.min()))}else fe(r===1);else{const a=this.Ye(n);if(a!==r){const c=this.Ze(e),l=c?this.Xe(c,e,a):1;if(l!==0){this.je(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=n;let a,c;try{a=ea(r).toUint8Array()}catch(l){if(l instanceof $$)return Fo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new _I(a,o,i)}catch(l){return Fo(l instanceof Qh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(i=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,i,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const c=this.Je(a);if(c){if(i.current&&$0(c.target)){const l=new te(c.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,ut.newNoDocument(l,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=je();this.qe.forEach((i,a)=>{let c=!0;a.forEachWhile(l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const o=new Lf(e,n,this.Qe,this.ke,r);return this.ke=pr(),this.qe=Aj(),this.Qe=new st(Ce),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new jj,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new et(Ce),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new jj),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Aj(){return new st(te.comparator)}function Pj(){return new st(te.comparator)}const mK={asc:"ASCENDING",desc:"DESCENDING"},gK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vK={and:"AND",or:"OR"};class xK{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function j_(t,e){return t.useProto3Json||Nf(e)?e:{value:e}}function $d(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bK(t,e){return $d(t,e.toTimestamp())}function Ht(t){return fe(!!t),ve.fromTimestamp(function(n){const r=Ii(n);return new ie(r.seconds,r.nanos)}(t))}function EI(t,e){return A_(t,e).canonicalString()}function A_(t,e){const n=function(o){return new Fe(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function p3(t){const e=Fe.fromString(t);return fe(E3(e)),e}function rf(t,e){return EI(t.databaseId,e.path)}function Do(t,e){const n=p3(e);if(n.get(1)!==t.databaseId.projectId)throw new H(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(g3(n))}function f3(t,e){return EI(t.databaseId,e)}function m3(t){const e=p3(t);return e.length===4?Fe.emptyPath():g3(e)}function P_(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g3(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rj(t,e,n){return{name:rf(t,e),fields:n.value.mapValue.fields}}function v3(t,e,n){const r=Do(t,e.name),o=Ht(e.updateTime),i=e.createTime?Ht(e.createTime):ve.min(),a=new xn({mapValue:{fields:e.fields}}),c=ut.newFoundDocument(r,o,i,a);return n&&c.setHasCommittedMutations(),n?c.setHasCommittedMutations():c}function yK(t,e){return"found"in e?function(r,o){fe(!!o.found),o.found.name,o.found.updateTime;const i=Do(r,o.found.name),a=Ht(o.found.updateTime),c=o.found.createTime?Ht(o.found.createTime):ve.min(),l=new xn({mapValue:{fields:o.found.fields}});return ut.newFoundDocument(i,a,c,l)}(t,e):"missing"in e?function(r,o){fe(!!o.missing),fe(!!o.readTime);const i=Do(r,o.missing),a=Ht(o.readTime);return ut.newNoDocument(i,a)}(t,e):ae()}function wK(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(fe(h===void 0||typeof h=="string"),Rt.fromBase64String(h||"")):(fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const h=d.code===void 0?V.UNKNOWN:c3(d.code);return new H(h,d.message||"")}(a);n=new u3(r,o,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Do(t,r.document.name),i=Ht(r.document.updateTime),a=r.document.createTime?Ht(r.document.createTime):ve.min(),c=new xn({mapValue:{fields:r.document.fields}}),l=ut.newFoundDocument(o,i,a,c),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Ov(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Do(t,r.document),i=r.readTime?Ht(r.readTime):ve.min(),a=ut.newNoDocument(o,i),c=r.removedTargetIds||[];n=new Ov([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Do(t,r.document),i=r.removedTargetIds||[];n=new Ov([],i,o,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:i}=r,a=new hK(o,i),c=r.targetId;n=new d3(c,a)}}return n}function of(t,e){let n;if(e instanceof du)n={update:Rj(t,e.key,e.value)};else if(e instanceof uu)n={delete:rf(t,e.key)};else if(e instanceof $i)n={update:Rj(t,e.key,e.data),updateMask:kK(e.fieldMask)};else{if(!(e instanceof xI))return ae();n={verify:rf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Dd)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rc)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Dc)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nd)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,i){return i.updateTime!==void 0?{updateTime:bK(o,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function R_(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?xt.updateTime(Ht(i.updateTime)):i.exists!==void 0?xt.exists(i.exists):xt.none()}(e.currentDocument):xt.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(a,c){let l=null;if("setToServerValue"in c)fe(c.setToServerValue==="REQUEST_TIME"),l=new Dd;else if("appendMissingElements"in c){const h=c.appendMissingElements.values||[];l=new Rc(h)}else if("removeAllFromArray"in c){const h=c.removeAllFromArray.values||[];l=new Dc(h)}else"increment"in c?l=new Nd(a,c.increment):ae();const d=vt.fromServerFormat(c.fieldPath);return new Mf(d,l)}(t,o)):[];if(e.update){e.update.name;const o=Do(t,e.update.name),i=new xn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const d=l.fieldPaths||[];return new hr(d.map(h=>vt.fromServerFormat(h)))}(e.updateMask);return new $i(o,i,a,n,r)}return new du(o,i,n,r)}if(e.delete){const o=Do(t,e.delete);return new uu(o,n)}if(e.verify){const o=Do(t,e.verify);return new xI(o,n)}return ae()}function _K(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(o,i){let a=o.updateTime?Ht(o.updateTime):Ht(i);return a.isEqual(ve.min())&&(a=Ht(i)),new lK(a,o.transformResults||[])}(n,e))):[]}function x3(t,e){return{documents:[f3(t,e.path)]}}function b3(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=f3(t,o);const i=function(d){if(d.length!==0)return _3(Je.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(h=>function(f){return{field:$l(f.field),direction:TK(f.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=j_(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:o}}function y3(t){let e=m3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){fe(r===1);const h=n.from[0];h.allDescendants?o=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(u){const f=w3(u);return f instanceof Je&&fI(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(u){return u.map(f=>function(x){return new nf(Ol(x.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(n.orderBy));let c=null;n.limit&&(c=function(u){let f;return f=typeof u=="object"?u.value:u,Nf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(u){const f=!!u.before,v=u.values||[];return new ra(v,f)}(n.startAt));let d=null;return n.endAt&&(d=function(u){const f=!u.before,v=u.values||[];return new ra(v,f)}(n.endAt)),H$(e,o,a,i,c,"F",l,d)}function EK(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function w3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ol(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ol(n.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ol(n.unaryFilter.field);return Me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ol(n.unaryFilter.field);return Me.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return Me.create(Ol(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Je.create(n.compositeFilter.filters.map(r=>w3(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function TK(t){return mK[t]}function IK(t){return gK[t]}function SK(t){return vK[t]}function $l(t){return{fieldPath:t.canonicalString()}}function Ol(t){return vt.fromServerFormat(t.fieldPath)}function _3(t){return t instanceof Me?function(n){if(n.op==="=="){if(mj(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NAN"}};if(fj(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mj(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NAN"}};if(fj(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(n.field),op:IK(n.op),value:n.value}}}(t):t instanceof Je?function(n){const r=n.getFilters().map(o=>_3(o));return r.length===1?r[0]:{compositeFilter:{op:SK(n.op),filters:r}}}(t):ae()}function kK(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function E3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,r,o,i=ve.min(),a=ve.min(),c=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.ct=e}}function CK(t,e){let n;if(e.document)n=v3(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),o=$c(e.noDocument.readTime);n=ut.newNoDocument(r,o),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ae();{const r=te.fromSegments(e.unknownDocument.path),o=$c(e.unknownDocument.version);n=ut.newUnknownDocument(r,o)}}return e.readTime&&n.setReadTime(function(o){const i=new ie(o[0],o[1]);return ve.fromTimestamp(i)}(e.readTime)),n}function Dj(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:M0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,a){return{name:rf(i,a.key),fields:a.data.value.mapValue.fields,updateTime:$d(i,a.version.toTimestamp()),createTime:$d(i,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Nc(e.version)};else{if(!e.isUnknownDocument())return ae();r.unknownDocument={path:n.path.toArray(),version:Nc(e.version)}}return r}function M0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Nc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $c(t){const e=new ie(t.seconds,t.nanoseconds);return ve.fromTimestamp(e)}function Ka(t,e){const n=(e.baseMutations||[]).map(i=>R_(t.ct,i));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const c=e.mutations[i+1];a.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>R_(t.ct,i)),o=ie.fromMillis(e.localWriteTimeMs);return new bI(e.batchId,o,n,r)}function Xh(t){const e=$c(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?$c(t.lastLimboFreeSnapshotVersion):ve.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){return fe(i.documents.length===1),Qn(lu(m3(i.documents[0])))}(t.query):function(i){return Qn(y3(i))}(t.query),new hi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Rt.fromBase64String(t.resumeToken))}function I3(t,e){const n=Nc(e.snapshotVersion),r=Nc(e.lastLimboFreeSnapshotVersion);let o;o=$0(e.target)?x3(t.ct,e.target):b3(t.ct,e.target)._t;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Pc(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function TI(t){const e=y3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?F0(e,e.limit,"L"):e}function By(t,e){return new wI(e.largestBatchId,R_(t.ct,e.overlayMutation))}function Nj(t,e){const n=e.path.lastSegment();return[t,Yn(e.path.popLast()),n]}function $j(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Nc(r.readTime),documentKey:Yn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{getBundleMetadata(e,n){return Oj(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:$c(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return Oj(e).put(function(o){return{bundleId:o.id,createTime:Nc(Ht(o.createTime)),version:o.version}}(n))}getNamedQuery(e,n){return Fj(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:TI(i.bundledQuery),readTime:$c(i.readTime)}}(r)})}saveNamedQuery(e,n){return Fj(e).put(function(o){return{name:o.name,readTime:Nc(Ht(o.readTime)),bundledQuery:o.bundledQuery}}(n))}}function Oj(t){return on(t,"bundles")}function Fj(t){return on(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Kx(e,r)}getOverlay(e,n){return Gu(e).get(Nj(this.userId,n)).next(r=>r?By(this.serializer,r):null)}getOverlays(e,n){const r=jo();return M.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){const o=[];return r.forEach((i,a)=>{const c=new wI(n,a);o.push(this.ht(e,c))}),M.waitFor(o)}removeOverlaysForBatchId(e,n,r){const o=new Set;n.forEach(a=>o.add(Yn(a.getCollectionPath())));const i=[];return o.forEach(a=>{const c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);i.push(Gu(e).j("collectionPathOverlayIndex",c))}),M.waitFor(i)}getOverlaysForCollection(e,n,r){const o=jo(),i=Yn(n),a=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Gu(e).U("collectionPathOverlayIndex",a).next(c=>{for(const l of c){const d=By(this.serializer,l);o.set(d.getKey(),d)}return o})}getOverlaysForCollectionGroup(e,n,r,o){const i=jo();let a;const c=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Gu(e).J({index:"collectionGroupOverlayIndex",range:c},(l,d,h)=>{const u=By(this.serializer,d);i.size()<o||u.largestBatchId===a?(i.set(u.getKey(),u),a=u.largestBatchId):h.done()}).next(()=>i)}ht(e,n){return Gu(e).put(function(o,i,a){const[c,l,d]=Nj(i,a.mutation.key);return{userId:i,collectionPath:l,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:of(o.ct,a.mutation)}}(this.serializer,this.userId,n))}}function Gu(t){return on(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AK{Pt(e){return on(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Rt.fromUint8Array(r):Rt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(mt(e.integerValue));else if("doubleValue"in e){const r=mt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Jp(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ii(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ea(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?O$(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Wx(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ae()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const o of Object.keys(r))this.Vt(o,n),this.Tt(r[o],n)}wt(e,n){var r,o;const i=e.fields||{};this.dt(n,53);const a="value",c=((o=(r=i[a].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.length)||0;this.dt(n,15),n.At(mt(c)),this.Vt(a,n),this.Tt(i[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const o of r)this.Tt(o,n)}yt(e,n){this.dt(n,37),te.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Ya.vt=new Ya;function PK(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function Mj(t){const e=64-function(r){let o=0;for(let i=0;i<8;++i){const a=PK(255&r[i]);if(o+=a,a!==8)break}return o}(t);return Math.ceil(e/8)}class RK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const o=n.codePointAt(0);this.Ft(240|o>>>18),this.Ft(128|63&o>>>12),this.Ft(128|63&o>>>6),this.Ft(128|63&o)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const o=n.codePointAt(0);this.Ot(240|o>>>18),this.Ot(128|63&o>>>12),this.Ot(128|63&o>>>6),this.Ot(128|63&o)}}this.Nt()}kt(e){const n=this.qt(e),r=Mj(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=255&n[o]}Kt(e){const n=this.qt(e),r=Mj(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let o=n.length-r;o<n.length;++o)this.buffer[this.position++]=~(255&n[o])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let o=1;o<n.length;++o)n[o]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class DK{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class NK{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Ku{constructor(){this.jt=new RK,this.Ht=new DK(this.jt),this.Jt=new NK(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,o){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=o}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Qa(this.indexId,this.documentKey,this.arrayValue,r)}}function Ki(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Lj(t.arrayValue,e.arrayValue),n!==0?n:(n=Lj(t.directionalValue,e.directionalValue),n!==0?n:te.comparator(t.documentKey,e.documentKey)))}function Lj(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.Xt=new et((n,r)=>vt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(fe(e.collectionGroup===this.collectionId),this.nn)return!1;const n=w_(e);if(n!==void 0&&!this.sn(n))return!1;const r=qa(e);let o=new Set,i=0,a=0;for(;i<r.length&&this.sn(r[i]);++i)o=o.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.Xt.size>0){const c=this.Xt.getIterator().getNext();if(!o.has(c.field.canonicalString())){const l=r[i];if(!this.on(c,l)||!this._n(this.en[a++],l))return!1}++i}for(;i<r.length;++i){const c=r[i];if(a>=this.en.length||!this._n(this.en[a++],c))return!1}return!0}an(){if(this.nn)return null;let e=new et(vt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Pv(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Pv(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Pv(r.field,r.dir==="asc"?0:1)));return new N0(N0.UNKNOWN_ID,this.collectionId,n,Xp.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t){var e,n;if(fe(t instanceof Me||t instanceof Je),t instanceof Me){if(t instanceof W$){const o=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(i=>Me.create(t.field,"==",i)))||[];return Je.create(o,"or")}return t}const r=t.filters.map(o=>S3(o));return Je.create(r,t.op)}function $K(t){if(t.getFilters().length===0)return[];const e=$_(S3(t));return fe(k3(e)),D_(e)||N_(e)?[e]:e.getFilters()}function D_(t){return t instanceof Me}function N_(t){return t instanceof Je&&fI(t)}function k3(t){return D_(t)||N_(t)||function(n){if(n instanceof Je&&I_(n)){for(const r of n.getFilters())if(!D_(r)&&!N_(r))return!1;return!0}return!1}(t)}function $_(t){if(fe(t instanceof Me||t instanceof Je),t instanceof Me)return t;if(t.filters.length===1)return $_(t.filters[0]);const e=t.filters.map(r=>$_(r));let n=Je.create(e,t.op);return n=L0(n),k3(n)?n:(fe(n instanceof Je),fe(Rd(n)),fe(n.filters.length>1),n.filters.reduce((r,o)=>II(r,o)))}function II(t,e){let n;return fe(t instanceof Me||t instanceof Je),fe(e instanceof Me||e instanceof Je),n=t instanceof Me?e instanceof Me?function(o,i){return Je.create([o,i],"and")}(t,e):zj(t,e):e instanceof Me?zj(e,t):function(o,i){if(fe(o.filters.length>0&&i.filters.length>0),Rd(o)&&Rd(i))return B$(o,i.getFilters());const a=I_(o)?o:i,c=I_(o)?i:o,l=a.filters.map(d=>II(d,c));return Je.create(l,"or")}(t,e),L0(n)}function zj(t,e){if(Rd(e))return B$(e,t.getFilters());{const n=e.filters.map(r=>II(t,r));return Je.create(n,"or")}}function L0(t){if(fe(t instanceof Me||t instanceof Je),t instanceof Me)return t;const e=t.getFilters();if(e.length===1)return L0(e[0]);if(V$(t))return t;const n=e.map(o=>L0(o)),r=[];return n.forEach(o=>{o instanceof Me?r.push(o):o instanceof Je&&(o.op===t.op?r.push(...o.filters):r.push(o))}),r.length===1?r[0]:Je.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(){this.un=new SI}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(jr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class SI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new et(Fe.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new et(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=new Uint8Array(0);class FK{constructor(e,n){this.databaseId=n,this.cn=new SI,this.ln=new _a(r=>Pc(r),(r,o)=>$f(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),o=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const i={collectionId:r,parent:Yn(o)};return Bj(e).put(i)}return M.resolve()}getCollectionParents(e,n){const r=[],o=IDBKeyRange.bound([n,""],[E$(n),""],!1,!0);return Bj(e).U(o).next(i=>{for(const a of i){if(a.collectionId!==n)break;r.push(Co(a.parent))}return r})}addFieldIndex(e,n){const r=Yu(e),o=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete o.indexId;const i=r.add(o);if(n.indexState){const a=pl(e);return i.next(c=>{a.put($j(c,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=Yu(e),o=pl(e),i=hl(e);return r.delete(n.indexId).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Yu(e),r=hl(e),o=pl(e);return n.j().next(()=>r.j()).next(()=>o.j())}createTargetIndexes(e,n){return M.forEach(this.hn(n),r=>this.getIndexType(e,r).next(o=>{if(o===0||o===1){const i=new Vj(r).an();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=hl(e);let o=!0;const i=new Map;return M.forEach(this.hn(n),a=>this.Pn(e,a).next(c=>{o&&(o=!!c),i.set(a,c)})).next(()=>{if(o){let a=je();const c=[];return M.forEach(i,(l,d)=>{G("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(j=>`${j.fieldPath}:${j.kind}`).join(",")}`}(l)} to execute ${Pc(n)}`);const h=function(I,j){const D=w_(j);if(D===void 0)return null;for(const $ of O0(I,D.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null}(d,l),u=function(I,j){const D=new Map;for(const $ of qa(j))for(const k of O0(I,$.fieldPath))switch(k.op){case"==":case"in":D.set($.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return D.set($.fieldPath.canonicalString(),k.value),Array.from(D.values())}return null}(d,l),f=function(I,j){const D=[];let $=!0;for(const k of qa(j)){const S=k.kind===0?yj(I,k.fieldPath,I.startAt):wj(I,k.fieldPath,I.startAt);D.push(S.value),$&&($=S.inclusive)}return new ra(D,$)}(d,l),v=function(I,j){const D=[];let $=!0;for(const k of qa(j)){const S=k.kind===0?wj(I,k.fieldPath,I.endAt):yj(I,k.fieldPath,I.endAt);D.push(S.value),$&&($=S.inclusive)}return new ra(D,$)}(d,l),x=this.In(l,d,f),y=this.In(l,d,v),_=this.Tn(l,d,u),w=this.En(l.indexId,h,x,f.inclusive,y,v.inclusive,_);return M.forEach(w,E=>r.G(E,n.limit).next(I=>{I.forEach(j=>{const D=te.fromSegments(j.documentKey);a.has(D)||(a=a.add(D),c.push(D))})}))}).next(()=>c)}return M.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=$K(Je.create(e.filters,"and")).map(r=>k_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,o,i,a,c){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),d=l/(n!=null?n.length:1),h=[];for(let u=0;u<l;++u){const f=n?this.dn(n[u/d]):zm,v=this.An(e,f,r[u%d],o),x=this.Rn(e,f,i[u%d],a),y=c.map(_=>this.An(e,f,_,!0));h.push(...this.createRange(v,x,y))}return h}An(e,n,r,o){const i=new Qa(e,te.empty(),n,r);return o?i:i.Zt()}Rn(e,n,r,o){const i=new Qa(e,te.empty(),n,r);return o?i.Zt():i}Pn(e,n){const r=new Vj(n),o=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,o).next(i=>{let a=null;for(const c of i)r.rn(c)&&(!a||c.fields.length>a.fields.length)&&(a=c);return a})}getIndexType(e,n){let r=2;const o=this.hn(n);return M.forEach(o,i=>this.Pn(e,i).next(a=>{a?r!==0&&a.fields.length<function(l){let d=new et(vt.comparator),h=!1;for(const u of l.filters)for(const f of u.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?h=!0:d=d.add(f.field));for(const u of l.orderBy)u.field.isKeyField()||(d=d.add(u.field));return d.size+(h?1:0)}(i)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&o.length>1&&r===2?1:r)}Vn(e,n){const r=new Ku;for(const o of qa(e)){const i=n.data.field(o.fieldPath);if(i==null)return null;const a=r.Yt(o.kind);Ya.vt.It(i,a)}return r.zt()}dn(e){const n=new Ku;return Ya.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Ku;return Ya.vt.It(Ac(this.databaseId,n),r.Yt(function(i){const a=qa(i);return a.length===0?0:a[a.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let o=[];o.push(new Ku);let i=0;for(const a of qa(e)){const c=r[i++];for(const l of o)if(this.fn(n,a.fieldPath)&&tf(c))o=this.gn(o,a,c);else{const d=l.Yt(a.kind);Ya.vt.It(c,d)}}return this.pn(o)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const o=[...e],i=[];for(const a of r.arrayValue.values||[])for(const c of o){const l=new Ku;l.seed(c.zt()),Ya.vt.It(a,l.Yt(n.kind)),i.push(l)}return i}fn(e,n){return!!e.filters.find(r=>r instanceof Me&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Yu(e),o=pl(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(i=>{const a=[];return M.forEach(i,c=>o.get([c.indexId,this.uid]).next(l=>{a.push(function(h,u){const f=u?new Xp(u.sequenceNumber,new jr($c(u.readTime),new te(Co(u.documentKey)),u.largestBatchId)):Xp.empty(),v=h.fields.map(([x,y])=>new Pv(vt.fromServerFormat(x),y));return new N0(h.indexId,h.collectionGroup,v,f)}(c,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,o)=>{const i=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return i!==0?i:Ce(r.collectionGroup,o.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const o=Yu(e),i=pl(e);return this.yn(e).next(a=>o.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(c=>M.forEach(c,l=>i.put($j(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return M.forEach(n,(o,i)=>{const a=r.get(o.collectionGroup);return(a?M.resolve(a):this.getFieldIndexes(e,o.collectionGroup)).next(c=>(r.set(o.collectionGroup,c),M.forEach(c,l=>this.wn(e,o,l).next(d=>{const h=this.Sn(i,l);return d.isEqual(h)?M.resolve():this.bn(e,i,l,d,h)}))))})}Dn(e,n,r,o){return hl(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,o){return hl(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const o=hl(e);let i=new et(Ki);return o.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(a,c)=>{i=i.add(new Qa(r.indexId,n,c.arrayValue,c.directionalValue))}).next(()=>i)}Sn(e,n){let r=new et(Ki);const o=this.Vn(n,e);if(o==null)return r;const i=w_(n);if(i!=null){const a=e.data.field(i.fieldPath);if(tf(a))for(const c of a.arrayValue.values||[])r=r.add(new Qa(n.indexId,e.key,this.dn(c),o))}else r=r.add(new Qa(n.indexId,e.key,zm,o));return r}bn(e,n,r,o,i){G("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(l,d,h,u,f){const v=l.getIterator(),x=d.getIterator();let y=ul(v),_=ul(x);for(;y||_;){let w=!1,E=!1;if(y&&_){const I=h(y,_);I<0?E=!0:I>0&&(w=!0)}else y!=null?E=!0:w=!0;w?(u(_),_=ul(x)):E?(f(y),y=ul(v)):(y=ul(v),_=ul(x))}}(o,i,Ki,c=>{a.push(this.Dn(e,n,r,c))},c=>{a.push(this.vn(e,n,r,c))}),M.waitFor(a)}yn(e){let n=1;return pl(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,i)=>{i.done(),n=o.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,c)=>Ki(a,c)).filter((a,c,l)=>!c||Ki(a,l[c-1])!==0);const o=[];o.push(e);for(const a of r){const c=Ki(a,e),l=Ki(a,n);if(c===0)o[0]=e.Zt();else if(c>0&&l<0)o.push(a),o.push(a.Zt());else if(l>0)break}o.push(n);const i=[];for(let a=0;a<o.length;a+=2){if(this.Cn(o[a],o[a+1]))return[];const c=[o[a].indexId,this.uid,o[a].arrayValue,o[a].directionalValue,zm,[]],l=[o[a+1].indexId,this.uid,o[a+1].arrayValue,o[a+1].directionalValue,zm,[]];i.push(IDBKeyRange.bound(c,l))}return i}Cn(e,n){return Ki(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Uj)}getMinOffset(e,n){return M.mapArray(this.hn(n),r=>this.Pn(e,r).next(o=>o||ae())).next(Uj)}}function Bj(t){return on(t,"collectionParents")}function hl(t){return on(t,"indexEntries")}function Yu(t){return on(t,"indexConfiguration")}function pl(t){return on(t,"indexState")}function Uj(t){fe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const o=t[r].indexState.offset;dI(o,e)<0&&(e=o),n<o.largestBatchId&&(n=o.largestBatchId)}return new jr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ar{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ar(e,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t,e,n){const r=t.store("mutations"),o=t.store("documentMutations"),i=[],a=IDBKeyRange.only(n.batchId);let c=0;const l=r.J({range:a},(h,u,f)=>(c++,f.delete()));i.push(l.next(()=>{fe(c===1)}));const d=[];for(const h of n.mutations){const u=A$(e,h.key.path,n.batchId);i.push(o.delete(u)),d.push(h.key)}return M.waitFor(i).next(()=>d)}function V0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ae();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar.DEFAULT_COLLECTION_PERCENTILE=10,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ar.DEFAULT=new ar(41943040,ar.DEFAULT_COLLECTION_PERCENTILE,ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ar.DISABLED=new ar(-1,0,0);class Yx{constructor(e,n,r,o){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=o,this.Fn={}}static lt(e,n,r,o){fe(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new Yx(i,n,r,o)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Yi(e).J({index:"userMutationsIndex",range:r},(o,i,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,o){const i=Fl(e),a=Yi(e);return a.add({}).next(c=>{fe(typeof c=="number");const l=new bI(c,n,r,o),d=function(v,x,y){const _=y.baseMutations.map(E=>of(v.ct,E)),w=y.mutations.map(E=>of(v.ct,E));return{userId:x,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:_,mutations:w}}(this.serializer,this.userId,l),h=[];let u=new et((f,v)=>Ce(f.canonicalString(),v.canonicalString()));for(const f of o){const v=A$(this.userId,f.key.path,c);u=u.add(f.key.path.popLast()),h.push(a.put(d)),h.push(i.put(v,EG))}return u.forEach(f=>{h.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Fn[c]=l.keys()}),M.waitFor(h).next(()=>l)})}lookupMutationBatch(e,n){return Yi(e).get(n).next(r=>r?(fe(r.userId===this.userId),Ka(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?M.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const o=r.keys();return this.Fn[n]=o,o}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Yi(e).J({index:"userMutationsIndex",range:o},(a,c,l)=>{c.userId===this.userId&&(fe(c.batchId>=r),i=Ka(this.serializer,c)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Yi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(o,i,a)=>{r=i.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Yi(e).U("userMutationsIndex",n).next(r=>r.map(o=>Ka(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Rv(this.userId,n.path),o=IDBKeyRange.lowerBound(r),i=[];return Fl(e).J({range:o},(a,c,l)=>{const[d,h,u]=a,f=Co(h);if(d===this.userId&&n.path.isEqual(f))return Yi(e).get(u).next(v=>{if(!v)throw ae();fe(v.userId===this.userId),i.push(Ka(this.serializer,v))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(Ce);const o=[];return n.forEach(i=>{const a=Rv(this.userId,i.path),c=IDBKeyRange.lowerBound(a),l=Fl(e).J({range:c},(d,h,u)=>{const[f,v,x]=d,y=Co(v);f===this.userId&&i.path.isEqual(y)?r=r.add(x):u.done()});o.push(l)}),M.waitFor(o).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1,i=Rv(this.userId,r),a=IDBKeyRange.lowerBound(i);let c=new et(Ce);return Fl(e).J({range:a},(l,d,h)=>{const[u,f,v]=l,x=Co(f);u===this.userId&&r.isPrefixOf(x)?x.length===o&&(c=c.add(v)):h.done()}).next(()=>this.xn(e,c))}xn(e,n){const r=[],o=[];return n.forEach(i=>{o.push(Yi(e).get(i).next(a=>{if(a===null)throw ae();fe(a.userId===this.userId),r.push(Ka(this.serializer,a))}))}),M.waitFor(o).next(()=>r)}removeMutationBatch(e,n){return C3(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),M.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),o=[];return Fl(e).J({range:r},(i,a,c)=>{if(i[0]===this.userId){const l=Co(i[1]);o.push(l)}else c.done()}).next(()=>{fe(o.length===0)})})}containsKey(e,n){return j3(e,this.userId,n)}Nn(e){return A3(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function j3(t,e,n){const r=Rv(e,n.path),o=r[1],i=IDBKeyRange.lowerBound(r);let a=!1;return Fl(t).J({range:i,H:!0},(c,l,d)=>{const[h,u,f]=c;h===e&&u===o&&(a=!0),d.done()}).next(()=>a)}function Yi(t){return on(t,"mutations")}function Fl(t){return on(t,"documentMutations")}function A3(t){return on(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Oc(0)}static kn(){return new Oc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new Oc(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>ve.fromTimestamp(new ie(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(o=>(o.highestListenSequenceNumber=n,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.Qn(e,o)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>fl(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(fe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let o=0;const i=[];return fl(e).J((a,c)=>{const l=Xh(c);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(o++,i.push(this.removeTargetData(e,l)))}).next(()=>M.waitFor(i)).next(()=>o)}forEachTarget(e,n){return fl(e).J((r,o)=>{const i=Xh(o);n(i)})}qn(e){return Wj(e).get("targetGlobalKey").next(n=>(fe(n!==null),n))}Qn(e,n){return Wj(e).put("targetGlobalKey",n)}Kn(e,n){return fl(e).put(I3(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Pc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return fl(e).J({range:o,index:"queryTargetsIndex"},(a,c,l)=>{const d=Xh(c);$f(n,d.target)&&(i=d,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const o=[],i=As(e);return n.forEach(a=>{const c=Yn(a.path);o.push(i.put({targetId:r,path:c})),o.push(this.referenceDelegate.addReference(e,r,a))}),M.waitFor(o)}removeMatchingKeys(e,n,r){const o=As(e);return M.forEach(n,i=>{const a=Yn(i.path);return M.waitFor([o.delete([r,a]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=As(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),o=As(e);let i=je();return o.J({range:r,H:!0},(a,c,l)=>{const d=Co(a[1]),h=new te(d);i=i.add(h)}).next(()=>i)}containsKey(e,n){const r=Yn(n.path),o=IDBKeyRange.bound([r],[E$(r)],!1,!0);let i=0;return As(e).J({index:"documentTargetsIndex",H:!0,range:o},([a,c],l,d)=>{a!==0&&(i++,d.done())}).next(()=>i>0)}ot(e,n){return fl(e).get(n).next(r=>r?Xh(r):null)}}function fl(t){return on(t,"targets")}function Wj(t){return on(t,"targetGlobal")}function As(t){return on(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj([t,e],[n,r]){const o=Ce(t,n);return o===0?Ce(e,r):o}class LK{constructor(e){this.Un=e,this.buffer=new et(Hj),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Hj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VK{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){G("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wa(n)?G("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ya(n)}await this.Hn(3e5)})}}class zK{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(ur.oe);const r=new LK(n);return this.Jn.forEachTarget(e,o=>r.zn(o.sequenceNumber)).next(()=>this.Jn.Zn(e,o=>r.zn(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(qj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qj):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,o,i,a,c,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(u=>(u>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${u}`),o=this.params.maximumSequenceNumbersToCollect):o=u,a=Date.now(),this.nthSequenceNumber(e,o))).next(u=>(r=u,c=Date.now(),this.removeTargets(e,r,n))).next(u=>(i=u,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(u=>(d=Date.now(),Dl()<=De.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${o} in `+(c-a)+`ms
	Removed ${i} targets in `+(l-c)+`ms
	Removed ${u} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:i,documentsRemoved:u})))}}function BK(t,e){return new zK(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(e,n){this.db=e,this.garbageCollector=BK(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,o)=>n(o))}addReference(e,n,r){return Bm(e,r)}removeReference(e,n,r){return Bm(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Bm(e,n)}nr(e,n){return function(o,i){let a=!1;return A3(o).Y(c=>j3(o,c,i).next(l=>(l&&(a=!0),M.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let i=0;return this.tr(e,(a,c)=>{if(c<=n){const l=this.nr(e,a).next(d=>{if(!d)return i++,r.getEntry(e,a).next(()=>(r.removeEntry(a,ve.min()),As(e).delete(function(u){return[0,Yn(u.path)]}(a))))});o.push(l)}}).next(()=>M.waitFor(o)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Bm(e,n)}tr(e,n){const r=As(e);let o,i=ur.oe;return r.J({index:"documentTargetsIndex"},([a,c],{path:l,sequenceNumber:d})=>{a===0?(i!==ur.oe&&n(new te(Co(o)),i),i=d,o=l):i=ur.oe}).next(()=>{i!==ur.oe&&n(new te(Co(o)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bm(t,e){return As(t).put(function(r,o){return{targetId:0,path:Yn(r.path),sequenceNumber:o}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.changes=new _a(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Oa(e).put(r)}removeEntry(e,n,r){return Oa(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],M0(a),c[c.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=ut.newInvalidDocument(n);return Oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qu(n))},(o,i)=>{r=this.ir(n,i)}).next(()=>r)}sr(e,n){let r={size:0,document:ut.newInvalidDocument(n)};return Oa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Qu(n))},(o,i)=>{r={document:this.ir(n,i),size:V0(i)}}).next(()=>r)}getEntries(e,n){let r=pr();return this._r(e,n,(o,i)=>{const a=this.ir(o,i);r=r.insert(o,a)}).next(()=>r)}ar(e,n){let r=pr(),o=new st(te.comparator);return this._r(e,n,(i,a)=>{const c=this.ir(i,a);r=r.insert(i,c),o=o.insert(i,V0(a))}).next(()=>({documents:r,ur:o}))}_r(e,n,r){if(n.isEmpty())return M.resolve();let o=new et(Yj);n.forEach(l=>o=o.add(l));const i=IDBKeyRange.bound(Qu(o.first()),Qu(o.last())),a=o.getIterator();let c=a.getNext();return Oa(e).J({index:"documentKeyIndex",range:i},(l,d,h)=>{const u=te.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;c&&Yj(c,u)<0;)r(c,null),c=a.getNext();c&&c.isEqual(u)&&(r(c,d),c=a.hasNext()?a.getNext():null),c?h.$(Qu(c)):h.done()}).next(()=>{for(;c;)r(c,null),c=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,o,i){const a=n.path,c=[a.popLast().toArray(),a.lastSegment(),M0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oa(e).U(IDBKeyRange.bound(c,l,!0)).next(d=>{i==null||i.incrementDocumentReadCount(d.length);let h=pr();for(const u of d){const f=this.ir(te.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);f.isFoundDocument()&&(Ff(n,f)||o.has(f.key))&&(h=h.insert(f.key,f))}return h})}getAllFromCollectionGroup(e,n,r,o){let i=pr();const a=Kj(n,r),c=Kj(n,jr.max());return Oa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,c,!0)},(l,d,h)=>{const u=this.ir(te.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);i=i.insert(u.key,u),i.size===o&&h.done()}).next(()=>i)}newChangeBuffer(e){return new WK(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Gj(e).get("remoteDocumentGlobalKey").next(n=>(fe(!!n),n))}rr(e,n){return Gj(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=CK(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ve.min())))return r}return ut.newInvalidDocument(e)}}function R3(t){return new qK(t)}class WK extends P3{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new _a(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const n=[];let r=0,o=new et((i,a)=>Ce(i.canonicalString(),a.canonicalString()));return this.changes.forEach((i,a)=>{const c=this.lr.get(i);if(n.push(this.cr.removeEntry(e,i,c.readTime)),a.isValidDocument()){const l=Dj(this.cr.serializer,a);o=o.add(i.path.popLast());const d=V0(l);r+=d-c.size,n.push(this.cr.addEntry(e,i,l))}else if(r-=c.size,this.trackRemovals){const l=Dj(this.cr.serializer,a.convertToNoDocument(ve.min()));n.push(this.cr.addEntry(e,i,l))}}),o.forEach(i=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.cr.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:o})=>(o.forEach((i,a)=>{this.lr.set(i,{size:a,readTime:r.get(i).readTime})}),r))}}function Gj(t){return on(t,"remoteDocumentGlobal")}function Oa(t){return on(t,"remoteDocumentsV14")}function Qu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Kj(t,e){const n=e.documentKey.path.toArray();return[t,M0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Yj(t,e){const n=t.path.toArray(),r=e.path.toArray();let o=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(o=Ce(n[i],r[i]),o)return o;return o=Ce(n.length,r.length),o||(o=Ce(n[n.length-2],r[r.length-2]),o||Ce(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HK{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&gp(r.mutation,o,hr.empty(),ie.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=je()){const o=jo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let a=Yh();return i.forEach((c,l)=>{a=a.insert(c,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=jo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,je()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,o){let i=pr();const a=mp(),c=function(){return mp()}();return n.forEach((l,d)=>{const h=r.get(d.key);o.has(d.key)&&(h===void 0||h.mutation instanceof $i)?i=i.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),gp(h.mutation,d,h.mutation.getFieldMask(),ie.now())):a.set(d.key,hr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>{var u;return c.set(d,new HK(h,(u=a.get(d))!==null&&u!==void 0?u:null))}),c))}recalculateAndSaveOverlays(e,n){const r=mp();let o=new st((a,c)=>a-c),i=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||hr.empty();h=c.applyToLocalView(d,h),r.set(l,h);const u=(o.get(c.batchId)||je()).add(l);o=o.insert(c.batchId,u)})}).next(()=>{const a=[],c=o.getReverseIterator();for(;c.hasNext();){const l=c.getNext(),d=l.key,h=l.value,u=J$();h.forEach(f=>{if(!i.has(f)){const v=i3(n.get(f),r.get(f));v!==null&&u.set(f,v),i=i.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,u))}return M.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(a){return te.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const a=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):M.resolve(jo());let c=-1,l=i;return a.next(d=>M.forEach(d,(h,u)=>(c<u.largestBatchId&&(c=u.largestBatchId),i.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,je())).next(h=>({batchId:c,changes:X$(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let o=Yh();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const i=n.collectionGroup;let a=Yh();return this.indexManager.getCollectionParents(e,i).next(c=>M.forEach(c,l=>{const d=function(u,f){return new Ni(f,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,o).next(h=>{h.forEach((u,f)=>{a=a.insert(u,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,o))).next(a=>{i.forEach((l,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,ut.newInvalidDocument(h)))});let c=Yh();return a.forEach((l,d)=>{const h=i.get(l);h!==void 0&&gp(h.mutation,d,hr.empty(),ie.now()),Ff(n,d)&&(c=c.insert(l,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ht(o.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:TI(o.bundledQuery),readTime:Ht(o.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(){this.overlays=new st(te.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jo();return M.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.ht(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const o=jo(),i=n.length+1,a=new te(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const l=c.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&o.set(l.getKey(),l)}return M.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new st((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=jo(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const c=jo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>c.set(d,h)),!(c.size()>=o)););return M.resolve(c)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const a=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new wI(n,r));let i=this.Ir.get(n);i===void 0&&(i=je(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.Tr=new et(an.Er),this.dr=new et(an.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new an(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new an(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new te(new Fe([])),r=new an(n,e),o=new an(n,e+1),i=[];return this.dr.forEachInRange([r,o],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new te(new Fe([])),r=new an(n,e),o=new an(n,e+1);let i=je();return this.dr.forEachInRange([r,o],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new an(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||Ce(e.wr,n.wr)}static Ar(e,n){return Ce(e.wr,n.wr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new et(an.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new bI(i,n,r,o);this.mutationQueue.push(a);for(const c of o)this.br=this.br.add(new an(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(a)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),i=o<0?0:o;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),o=new an(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,o],a=>{const c=this.Dr(a.wr);i.push(c)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(Ce);return n.forEach(o=>{const i=new an(o,0),a=new an(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],c=>{r=r.add(c.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const a=new an(new te(i),0);let c=new et(Ce);return this.br.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(c=c.add(l.wr)),!0)},a),M.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(r=>{const o=this.Dr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,o=>{const i=new an(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new an(n,0),o=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e){this.Mr=e,this.docs=function(){return new st(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ut.newInvalidDocument(n))}getEntries(e,n){let r=pr();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():ut.newInvalidDocument(o))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let i=pr();const a=n.path,c=new te(a.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||dI(I$(h),r)<=0||(o.has(h.key)||Ff(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,o){ae()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JK(this)}getSize(e){return M.resolve(this.size)}}class JK extends P3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e){this.persistence=e,this.Nr=new _a(n=>Pc(n),$f),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kI,this.targetCount=0,this.kr=Oc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,o)=>n(o)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Oc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),M.waitFor(i).next(()=>o)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(a=>{i.push(o.markPotentiallyOrphaned(e,a))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ur(0),this.Kr=!1,this.Kr=!0,this.$r=new YK,this.referenceDelegate=e(this),this.Ur=new ZK(this),this.indexManager=new OK,this.remoteDocumentCache=function(o){return new XK(o)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new T3(n),this.Gr=new GK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KK,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new QK(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const o=new eY(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(i=>this.referenceDelegate.jr(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class eY extends k${constructor(e){super(),this.currentSequenceNumber=e}}class Qx{constructor(e){this.persistence=e,this.Jr=new kI,this.Yr=null}static Zr(e){return new Qx(e)}get Xr(){if(this.Yr)return this.Yr;throw ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const o=te.fromPath(r);return this.ei(e,o).next(i=>{i||n.removeEntry(o,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(e){this.serializer=e}O(e,n,r,o){const i=new Ux("createOrUpgrade",n);r<1&&o>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lj,{unique:!0}),l.createObjectStore("documentMutations")}(e),Qj(e),function(l){l.createObjectStore("remoteDocuments")}(e));let a=M.resolve();return r<3&&o>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),Qj(e)),a=a.next(()=>function(l){const d=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ve.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(i))),r<4&&o>=4&&(r!==0&&(a=a.next(()=>function(l,d){return d.store("mutations").U().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",lj,{unique:!0});const u=d.store("mutations"),f=h.map(v=>u.put(v));return M.waitFor(f)})}(e,i))),a=a.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&o>=5&&(a=a.next(()=>this.ni(i))),r<6&&o>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i)))),r<7&&o>=7&&(a=a.next(()=>this.ii(i))),r<8&&o>=8&&(a=a.next(()=>this.si(e,i))),r<9&&o>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&o>=10&&(a=a.next(()=>this.oi(i))),r<11&&o>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(a=a.next(()=>{(function(l){const d=l.createObjectStore("documentOverlays",{keyPath:$G});d.createIndex("collectionPathOverlayIndex",OG,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",FG,{unique:!1})})(e)})),r<13&&o>=13&&(a=a.next(()=>function(l){const d=l.createObjectStore("remoteDocumentsV14",{keyPath:TG});d.createIndex("documentKeyIndex",IG),d.createIndex("collectionGroupIndex",SG)}(e)).next(()=>this._i(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(a=a.next(()=>this.ai(e,i))),r<15&&o>=15&&(a=a.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:PG}).createIndex("sequenceNumberIndex",RG,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:DG}).createIndex("documentKeyIndex",NG,{unique:!1})}(e))),r<16&&o>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&o>=17&&(a=a.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let n=0;return e.store("remoteDocuments").J((r,o)=>{n+=V0(o)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(o=>M.forEach(o,i=>{const a=IDBKeyRange.bound([i.userId,-1],[i.userId,i.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(c=>M.forEach(c,l=>{fe(l.userId===i.userId);const d=Ka(this.serializer,l);return C3(e,i.userId,d).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const i=[];return r.J((a,c)=>{const l=new Fe(a),d=function(u){return[0,Yn(u)]}(l);i.push(n.get(d).next(h=>h?M.resolve():(u=>n.put({targetId:0,path:Yn(u),sequenceNumber:o.highestListenSequenceNumber}))(l)))}).next(()=>M.waitFor(i))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:AG});const r=n.store("collectionParents"),o=new SI,i=a=>{if(o.add(a)){const c=a.lastSegment(),l=a.popLast();return r.put({collectionId:c,parent:Yn(l)})}};return n.store("remoteDocuments").J({H:!0},(a,c)=>{const l=new Fe(a);return i(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,c,l],d)=>{const h=Co(c);return i(h.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,o)=>{const i=Xh(o),a=I3(this.serializer,i);return n.put(a)})}_i(e,n){const r=n.store("remoteDocuments"),o=[];return r.J((i,a)=>{const c=n.store("remoteDocumentsV14"),l=function(u){return u.document?new te(Fe.fromString(u.document.name).popFirst(5)):u.noDocument?te.fromSegments(u.noDocument.path):u.unknownDocument?te.fromSegments(u.unknownDocument.path):ae()}(a).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};o.push(c.put(d))}).next(()=>M.waitFor(o))}ai(e,n){const r=n.store("mutations"),o=R3(this.serializer),i=new N3(Qx.Zr,this.serializer.ct);return r.U().next(a=>{const c=new Map;return a.forEach(l=>{var d;let h=(d=c.get(l.userId))!==null&&d!==void 0?d:je();Ka(this.serializer,l).keys().forEach(u=>h=h.add(u)),c.set(l.userId,h)}),M.forEach(c,(l,d)=>{const h=new ln(d),u=Kx.lt(this.serializer,h),f=i.getIndexManager(h),v=Yx.lt(h,this.serializer,f,i.referenceDelegate);return new D3(o,v,u,f).recalculateAndSaveOverlaysForDocumentKeys(new __(n,ur.oe),l).next()})})}}function Qj(t){t.createObjectStore("targetDocuments",{keyPath:CG}).createIndex("documentTargetsIndex",jG,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kG,{unique:!0}),t.createObjectStore("targetGlobal")}const Uy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CI{constructor(e,n,r,o,i,a,c,l,d,h,u=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=i,this.window=a,this.document=c,this.ci=d,this.li=h,this.hi=u,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=f=>Promise.resolve(),!CI.D())throw new H(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UK(this,o),this.Ai=n+"main",this.serializer=new T3(l),this.Ri=new Ro(this.Ai,this.hi,new tY(this.serializer)),this.$r=new AK,this.Ur=new MK(this.referenceDelegate,this.serializer),this.remoteDocumentCache=R3(this.serializer),this.Gr=new jK,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,h===!1&&qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new H(V.FAILED_PRECONDITION,Uy);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new ur(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Um(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(wa(e))return G("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return G("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Xu(e).get("owner").next(n=>M.resolve(this.vi(n)))}Ci(e){return Um(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=on(n,"clientMetadata");return r.U().next(o=>{const i=this.xi(o,18e5),a=o.filter(c=>i.indexOf(c)===-1);return M.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?M.resolve(!0):Xu(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new H(V.FAILED_PRECONDITION,Uy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Um(e).U().next(r=>this.xi(r,5e3).find(o=>{if(this.clientId!==o.clientId){const i=!this.networkEnabled&&o.networkEnabled,a=!this.inForeground&&o.inForeground,c=this.networkEnabled===o.networkEnabled;if(i||a&&c)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&G("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new __(e,ur.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Um(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return Yx.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FK(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Kx.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("IndexedDbPersistence","Starting transaction:",e);const o=n==="readonly"?"readonly":"readwrite",i=function(l){return l===17?VG:l===16?LG:l===15?hI:l===14?D$:l===13?R$:l===12?MG:l===11?P$:void ae()}(this.hi);let a;return this.Ri.runTransaction(e,o,i,c=>(a=new __(c,this.Qr?this.Qr.next():ur.oe),n==="readwrite-primary"?this.wi(a).next(l=>!!l||this.Si(a)).next(l=>{if(!l)throw qt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new H(V.FAILED_PRECONDITION,S$);return r(a)}).next(l=>this.Di(a).next(()=>l)):this.Ki(a).next(()=>r(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Ki(e){return Xu(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new H(V.FAILED_PRECONDITION,Uy)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xu(e).put("owner",n)}static D(){return Ro.D()}bi(e){const n=Xu(e);return n.get("owner").next(r=>this.vi(r)?(G("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(qt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;J4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return G("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return qt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){qt("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xu(t){return on(t,"owner")}function Um(t){return on(t,"clientMetadata")}function jI(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=je(),o=je();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new AI(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return J4()?8:C$(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,o,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new nY;return this.Xi(e,n,a).next(c=>{if(i.result=c,this.zi)return this.es(e,n,a,c.size)})}).next(()=>i.result)}es(e,n,r,o){return r.documentReadCount<this.ji?(Dl()<=De.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(Dl()<=De.DEBUG&&G("QueryEngine","Query:",Nl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Dl()<=De.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):M.resolve())}Yi(e,n){if(_j(n))return M.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=F0(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=je(...i);return this.Ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.ts(n,c);return this.ns(n,d,a,l.readTime)?this.Yi(e,F0(n,null,"F")):this.rs(e,d,n,l)}))})))}Zi(e,n,r,o){return _j(n)||o.isEqual(ve.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,o)?M.resolve(null):(Dl()<=De.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Nl(n)),this.rs(e,a,n,T$(o,-1)).next(c=>c))})}ts(e,n){let r=new et(Y$(e));return n.forEach((o,i)=>{Ff(e,i)&&(r=r.add(i))}),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Xi(e,n,r){return Dl()<=De.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Nl(n)),this.Ji.getDocumentsMatchingQuery(e,n,jr.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new st(Ce),this._s=new _a(i=>Pc(i),$f),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function O3(t,e,n,r){return new rY(t,e,n,r)}async function F3(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],c=[];let l=je();for(const d of o){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){c.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:c}))})})}function oY(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,d,h){const u=d.batch,f=u.keys();let v=M.resolve();return f.forEach(x=>{v=v.next(()=>h.getEntry(l,x)).next(y=>{const _=d.docVersions.get(x);fe(_!==null),y.version.compareTo(_)<0&&(u.applyToRemoteDocument(y,d),y.isValidDocument()&&(y.setReadTime(d.commitVersion),h.addEntry(y)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(l,u))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=je();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function M3(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function iY(t,e){const n=ne(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const c=[];e.targetChanges.forEach((h,u)=>{const f=o.get(u);if(!f)return;c.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,u).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,u)));let v=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(u)!==null?v=v.withResumeToken(Rt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),o=o.insert(u,v),function(y,_,w){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,v,h)&&c.push(n.Ur.updateTargetData(i,v))});let l=pr(),d=je();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),c.push(L3(i,a,e.documentUpdates).next(h=>{l=h.Ps,d=h.Is})),!r.isEqual(ve.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(u=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(h)}return M.waitFor(c).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.os=o,i))}function L3(t,e,n){let r=je(),o=je();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=pr();return n.forEach((c,l)=>{const d=i.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(c)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(c,l.readTime),a=a.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),a=a.insert(c,l)):G("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{Ps:a,Is:o}})}function sY(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Od(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ur.getTargetData(r,e).next(i=>i?(o=i,M.resolve(o)):n.Ur.allocateTargetId(r).next(a=>(o=new hi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Fd(t,e,n){const r=ne(t),o=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,o))}catch(a){if(!wa(a))throw a;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function z0(t,e,n){const r=ne(t);let o=ve.min(),i=je();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,d,h){const u=ne(l),f=u._s.get(h);return f!==void 0?M.resolve(u.os.get(f)):u.Ur.getTargetData(d,h)}(r,a,Qn(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,c.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?o:ve.min(),n?i:je())).next(c=>(B3(r,K$(e),c),{documents:c,Ts:i})))}function V3(t,e){const n=ne(t),r=ne(n.Ur),o=n.os.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",i=>r.ot(i,e).next(a=>a?a.target:null))}function z3(t,e){const n=ne(t),r=n.us.get(e)||ve.min();return n.persistence.runTransaction("Get new document changes","readonly",o=>n.cs.getAllFromCollectionGroup(o,e,T$(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(B3(n,e,o),o))}function B3(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}async function aY(t,e,n,r){const o=ne(t);let i=je(),a=pr();for(const d of n){const h=e.Es(d.metadata.name);d.document&&(i=i.add(h));const u=e.ds(d);u.setReadTime(e.As(d.metadata.readTime)),a=a.insert(h,u)}const c=o.cs.newChangeBuffer({trackRemovals:!0}),l=await Od(o,function(h){return Qn(lu(Fe.fromString(`__bundle__/docs/${h}`)))}(r));return o.persistence.runTransaction("Apply bundle documents","readwrite",d=>L3(d,c,a).next(h=>(c.apply(d),h)).next(h=>o.Ur.removeMatchingKeysForTargetId(d,l.targetId).next(()=>o.Ur.addMatchingKeys(d,i,l.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(d,h.Ps,h.Is)).next(()=>h.Ps)))}async function cY(t,e,n=je()){const r=await Od(t,Qn(TI(e.bundledQuery))),o=ne(t);return o.persistence.runTransaction("Save named query","readwrite",i=>{const a=Ht(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return o.Gr.saveNamedQuery(i,e);const c=r.withResumeToken(Rt.EMPTY_BYTE_STRING,a);return o.os=o.os.insert(c.targetId,c),o.Ur.updateTargetData(i,c).next(()=>o.Ur.removeMatchingKeysForTargetId(i,r.targetId)).next(()=>o.Ur.addMatchingKeys(i,n,r.targetId)).next(()=>o.Gr.saveNamedQuery(i,e))})}function Xj(t,e){return`firestore_clients_${t}_${e}`}function Jj(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qy(t,e){return`firestore_targets_${t}_${e}`}class B0{constructor(e,n,r,o){this.user=e,this.batchId=n,this.state=r,this.error=o}static Rs(e,n,r){const o=JSON.parse(r);let i,a=typeof o=="object"&&["pending","acknowledged","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return a&&o.error&&(a=typeof o.error.message=="string"&&typeof o.error.code=="string",a&&(i=new H(o.error.code,o.error.message))),a?new B0(e,n,o.state,i):(qt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vp{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let o,i=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return i&&r.error&&(i=typeof r.error.message=="string"&&typeof r.error.code=="string",i&&(o=new H(r.error.code,r.error.message))),i?new vp(e,r.state,o):(qt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class U0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let o=typeof r=="object"&&r.activeTargetIds instanceof Array,i=gI();for(let a=0;o&&a<r.activeTargetIds.length;++a)o=j$(r.activeTargetIds[a]),i=i.add(r.activeTargetIds[a]);return o?new U0(e,i):(qt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class PI{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new PI(n.clientId,n.onlineState):(qt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class O_{constructor(){this.activeTargetIds=gI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wy{constructor(e,n,r,o,i){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new st(Ce),this.started=!1,this.bs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ds=Xj(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new O_),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const o=this.getItem(Xj(this.persistenceKey,r));if(o){const i=U0.Rs(r,o);i&&(this.Ss=this.Ss.insert(i.clientId,i))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,o)=>{o.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(qy(this.persistenceKey,e));if(o){const i=vp.Rs(e,o);i&&(r=i.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qy(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(o=>{this.Qs(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return G("SharedClientState","READ",e,n),n}setItem(e,n){G("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){G("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(G("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(i){let a=ur.oe;if(i!=null)try{const c=JSON.parse(i);fe(typeof c=="number"),a=c}catch(c){qt("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(n.newValue);r!==ur.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(o=>this.syncEngine.eo(o)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const o=new B0(this.currentUser,e,n,r),i=Jj(this.persistenceKey,this.currentUser,e);this.setItem(i,o.Vs())}Qs(e){const n=Jj(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const o=qy(this.persistenceKey,e),i=new vp(e,n,r);this.setItem(o,i.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return U0.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),o=Number(r[1]),i=r[2]!==void 0?r[2]:null;return B0.Rs(new ln(i),o,n)}Ys(e,n){const r=this.Ms.exec(e),o=Number(r[1]);return vp.Rs(o,n)}Ls(e){return PI.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);G("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),o=this.ks(this.Ss),i=this.ks(r),a=[],c=[];return i.forEach(l=>{o.has(l)||a.push(l)}),o.forEach(l=>{i.has(l)||c.push(l)}),this.syncEngine.io(a,c).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=gI();return e.forEach((r,o)=>{n=n.unionWith(o.activeTargetIds)}),n}}class U3{constructor(){this.so=new O_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new O_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm=null;function Hy(){return qm===null?qm=function(){return 268435456+Math.round(2147483648*Math.random())}():qm++,"0x"+qm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class hY extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${i}`}get Fo(){return!1}Mo(n,r,o,i,a){const c=Hy(),l=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${c}:`,l,o);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,l,d,o).then(h=>(G("RestConnection",`Received RPC '${n}' ${c}: `,h),h),h=>{throw Fo("RestConnection",`RPC '${n}' ${c} failed with error: `,h,"url: ",l,"request:",o),h})}Lo(n,r,o,i,a,c){return this.Mo(n,r,o,i,a)}Oo(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),o&&o.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const o=dY[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const i=Hy();return new Promise((a,c)=>{const l=new g$;l.setWithCredentials(!0),l.listenOnce(v$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Av.NO_ERROR:const h=l.getResponseJson();G(jn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),a(h);break;case Av.TIMEOUT:G(jn,`RPC '${e}' ${i} timed out`),c(new H(V.DEADLINE_EXCEEDED,"Request time out"));break;case Av.HTTP_ERROR:const u=l.getStatus();if(G(jn,`RPC '${e}' ${i} failed with status:`,u,"response text:",l.getResponseText()),u>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f==null?void 0:f.error;if(v&&v.status&&v.message){const x=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(w)>=0?w:V.UNKNOWN}(v.status);c(new H(x,v.message))}else c(new H(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new H(V.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{G(jn,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(o);G(jn,`RPC '${e}' ${i} sending request:`,o),l.send(n,"POST",d,r,15)})}Bo(e,n,r){const o=Hy(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=y$(),c=b$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");G(jn,`Creating RPC '${e}' stream ${o}: ${h}`,l);const u=a.createWebChannel(h,l);let f=!1,v=!1;const x=new uY({Io:_=>{v?G(jn,`Not sending because RPC '${e}' stream ${o} is closed:`,_):(f||(G(jn,`Opening RPC '${e}' stream ${o} transport.`),u.open(),f=!0),G(jn,`RPC '${e}' stream ${o} sending:`,_),u.send(_))},To:()=>u.close()}),y=(_,w,E)=>{_.listen(w,I=>{try{E(I)}catch(j){setTimeout(()=>{throw j},0)}})};return y(u,Kh.EventType.OPEN,()=>{v||(G(jn,`RPC '${e}' stream ${o} transport opened.`),x.yo())}),y(u,Kh.EventType.CLOSE,()=>{v||(v=!0,G(jn,`RPC '${e}' stream ${o} transport closed`),x.So())}),y(u,Kh.EventType.ERROR,_=>{v||(v=!0,Fo(jn,`RPC '${e}' stream ${o} transport errored:`,_),x.So(new H(V.UNAVAILABLE,"The operation could not be completed")))}),y(u,Kh.EventType.MESSAGE,_=>{var w;if(!v){const E=_.data[0];fe(!!E);const I=E,j=I.error||((w=I[0])===null||w===void 0?void 0:w.error);if(j){G(jn,`RPC '${e}' stream ${o} received error:`,j);const D=j.status;let $=function(C){const P=Yt[C];if(P!==void 0)return c3(P)}(D),k=j.message;$===void 0&&($=V.INTERNAL,k="Unknown error status: "+D+" with message "+j.message),v=!0,x.So(new H($,k)),u.close()}else G(jn,`RPC '${e}' stream ${o} received:`,E),x.bo(E)}}),y(c,x$.STAT_EVENT,_=>{_.stat===y_.PROXY?G(jn,`RPC '${e}' stream ${o} detected buffering proxy`):_.stat===y_.NOPROXY&&G(jn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(){return typeof window<"u"?window:null}function Fv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){return new xK(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r=1e3,o=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&G("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n,r,o,i,a,c,l){this.ui=e,this.Ho=r,this.Jo=o,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(qt(n.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===n&&this.P_(r,o)},r=>{e(()=>{const o=new H(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pY extends W3{constructor(e,n,r,o,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=wK(this.serializer,e),r=function(i){if(!("targetChange"in i))return ve.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ve.min():a.readTime?Ht(a.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=P_(this.serializer),n.addTarget=function(i,a){let c;const l=a.target;if(c=$0(l)?{documents:x3(i,l)}:{query:b3(i,l)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=h3(i,a.resumeToken);const d=j_(i,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(ve.min())>0){c.readTime=$d(i,a.snapshotVersion.toTimestamp());const d=j_(i,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=EK(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=P_(this.serializer),n.removeTarget=e,this.a_(n)}}class fY extends W3{constructor(e,n,r,o,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_K(e.writeResults,e.commitTime),r=Ht(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=P_(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>of(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new H(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,A_(n,r),o,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(V.UNKNOWN,i.toString())})}Lo(e,n,r,o,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(e,A_(n,r),o,a,c,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new H(V.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qt(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e,n,r,o,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{Ea(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const d=ne(l);d.L_.add(4),await hu(d),d.q_.set("Unknown"),d.L_.delete(4),await Bf(d)}(this))})}),this.q_=new gY(r,o)}}async function Bf(t){if(Ea(t))for(const e of t.B_)await e(!0)}async function hu(t){for(const e of t.B_)await e(!1)}function Xx(t,e){const n=ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),$I(n)?NI(n):fu(n).r_()&&DI(n,e))}function Md(t,e){const n=ne(t),r=fu(n);n.N_.delete(e),r.r_()&&H3(n,e),n.N_.size===0&&(r.r_()?r.o_():Ea(n)&&n.q_.set("Unknown"))}function DI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fu(t).A_(e)}function H3(t,e){t.Q_.xe(e),fu(t).R_(e)}function NI(t){t.Q_=new fK({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),fu(t).start(),t.q_.v_()}function $I(t){return Ea(t)&&!fu(t).n_()&&t.N_.size>0}function Ea(t){return ne(t).L_.size===0}function G3(t){t.Q_=void 0}async function xY(t){t.q_.set("Online")}async function bY(t){t.N_.forEach((e,n)=>{DI(t,e)})}async function yY(t,e){G3(t),$I(t)?(t.q_.M_(e),NI(t)):t.q_.set("Unknown")}async function wY(t,e,n){if(t.q_.set("Online"),e instanceof u3&&e.state===2&&e.cause)try{await async function(o,i){const a=i.cause;for(const c of i.targetIds)o.N_.has(c)&&(await o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await q0(t,r)}else if(e instanceof Ov?t.Q_.Ke(e):e instanceof d3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await M3(t.localStore);n.compareTo(r)>=0&&await function(i,a){const c=i.Q_.rt(a);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(l.resumeToken,a))}}),c.targetMismatches.forEach((l,d)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),H3(i,l);const u=new hi(h.target,l,d,h.sequenceNumber);DI(i,u)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await q0(t,r)}}async function q0(t,e,n){if(!wa(e))throw e;t.L_.add(1),await hu(t),t.q_.set("Offline"),n||(n=()=>M3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Bf(t)})}function K3(t,e){return e().catch(n=>q0(t,n,e))}async function pu(t){const e=ne(t),n=oa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_Y(e);)try{const o=await sY(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,EY(e,o)}catch(o){await q0(e,o)}Y3(e)&&Q3(e)}function _Y(t){return Ea(t)&&t.O_.length<10}function EY(t,e){t.O_.push(e);const n=oa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Y3(t){return Ea(t)&&!oa(t).n_()&&t.O_.length>0}function Q3(t){oa(t).start()}async function TY(t){oa(t).p_()}async function IY(t){const e=oa(t);for(const n of t.O_)e.m_(n.mutations)}async function SY(t,e,n){const r=t.O_.shift(),o=yI.from(r,e,n);await K3(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await pu(t)}async function kY(t,e){e&&oa(t).V_&&await async function(r,o){if(function(a){return a3(a)&&a!==V.ABORTED}(o.code)){const i=r.O_.shift();oa(r).s_(),await K3(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,o)),await pu(r)}}(t,e),Y3(t)&&Q3(t)}async function eA(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Ea(n);n.L_.add(3),await hu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Bf(n)}async function F_(t,e){const n=ne(t);e?(n.L_.delete(2),await Bf(n)):e||(n.L_.add(2),await hu(n),n.q_.set("Unknown"))}function fu(t){return t.K_||(t.K_=function(n,r,o){const i=ne(n);return i.w_(),new pY(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Eo:xY.bind(null,t),Ro:bY.bind(null,t),mo:yY.bind(null,t),d_:wY.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),$I(t)?NI(t):t.q_.set("Unknown")):(await t.K_.stop(),G3(t))})),t.K_}function oa(t){return t.U_||(t.U_=function(n,r,o){const i=ne(n);return i.w_(),new fY(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:TY.bind(null,t),mo:kY.bind(null,t),f_:IY.bind(null,t),g_:SY.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await pu(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,i){const a=Date.now()+r,c=new OI(e,n,a,o,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mu(t,e){if(qt("AsyncQueue",`${e}: ${t}`),wa(t))return new H(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Yh(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new hd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.W_=new st(te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ld{constructor(e,n,r,o,i,a,c,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,o,i){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new Ld(e,n,hd.emptySet(n),a,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class jY{constructor(){this.queries=nA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=ne(n),i=o.queries;o.queries=nA(),i.forEach((a,c)=>{for(const l of c.j_)l.onError(r)})})(this,new H(V.ABORTED,"Firestore shutting down"))}}function nA(){return new _a(t=>G$(t),Of)}async function FI(t,e){const n=ne(t);let r=3;const o=e.query;let i=n.queries.get(o);i?!i.H_()&&e.J_()&&(r=2):(i=new CY,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(o,!0);break;case 1:i.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(a){const c=mu(a,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(c)}n.queries.set(o,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&LI(n)}async function MI(t,e){const n=ne(t),r=e.query;let o=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?o=e.J_()?0:1:!i.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function AY(t,e){const n=ne(t);let r=!1;for(const o of e){const i=o.query,a=n.queries.get(i);if(a){for(const c of a.j_)c.X_(o)&&(r=!0);a.z_=o}}r&&LI(n)}function PY(t,e,n){const r=ne(t),o=r.queries.get(e);if(o)for(const i of o.j_)i.onError(n);r.queries.delete(e)}function LI(t){t.Y_.forEach(e=>{e.next()})}var M_,rA;(rA=M_||(M_={})).ea="default",rA.Cache="cache";class VI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ld(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ld.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==M_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.serializer=e}Es(e){return Do(this.serializer,e)}ds(e){return e.metadata.exists?v3(this.serializer,e.document,!1):ut.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ht(e)}}class DY{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=X3(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=Fe.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new oA(this.serializer);for(const o of e)if(o.metadata.queries){const i=r.Es(o.metadata.name);for(const a of o.metadata.queries){const c=(n.get(a)||je()).add(i);n.set(a,c)}}return n}async complete(){const e=await aY(this.localStore,new oA(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await cY(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function X3(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e){this.key=e}}class Z3{constructor(e){this.key=e}}class eO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=je(),this.mutatedKeys=je(),this.Aa=Y$(e),this.Ra=new hd(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new tA,o=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=o,c=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((h,u)=>{const f=o.get(h),v=Ff(this.query,u)?u:null,x=!!f&&this.mutatedKeys.has(f.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;f&&v?f.data.isEqual(v.data)?x!==y&&(r.track({type:3,doc:v}),_=!0):this.ga(f,v)||(r.track({type:2,doc:v}),_=!0,(l&&this.Aa(v,l)>0||d&&this.Aa(v,d)<0)&&(c=!0)):!f&&v?(r.track({type:0,doc:v}),_=!0):f&&!v&&(r.track({type:1,doc:f}),_=!0,(l||d)&&(c=!0)),_&&(v?(a=a.add(v),i=y?i.add(h):i.delete(h)):(a=a.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:a,fa:r,ns:c,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,u)=>function(v,x){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return y(v)-y(x)}(h.type,u.type)||this.Aa(h.doc,u.doc)),this.pa(r),o=o!=null&&o;const c=n&&!o?this.ya():[],l=this.da.size===0&&this.current&&!o?1:0,d=l!==this.Ea;return this.Ea=l,a.length!==0||d?{snapshot:new Ld(this.query,e.Ra,i,a,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new tA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=je(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Z3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new J3(r))}),n}ba(e){this.Ta=e.Ts,this.da=je();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ld.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $Y{constructor(e){this.key=e,this.va=!1}}class OY{constructor(e,n,r,o,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new _a(c=>G$(c),Of),this.Ma=new Map,this.xa=new Set,this.Oa=new st(te.comparator),this.Na=new Map,this.La=new kI,this.Ba={},this.ka=new Map,this.qa=Oc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function FY(t,e,n=!0){const r=Jx(t);let o;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Da()):o=await tO(r,e,n,!0),o}async function MY(t,e){const n=Jx(t);await tO(n,e,!0,!1)}async function tO(t,e,n,r){const o=await Od(t.localStore,Qn(e)),i=o.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await zI(t,e,i,a==="current",o.resumeToken)),t.isPrimaryClient&&n&&Xx(t.remoteStore,o),c}async function zI(t,e,n,r,o){t.Ka=(u,f,v)=>async function(y,_,w,E){let I=_.view.ma(w);I.ns&&(I=await z0(y.localStore,_.query,!1).then(({documents:k})=>_.view.ma(k,I)));const j=E&&E.targetChanges.get(_.targetId),D=E&&E.targetMismatches.get(_.targetId)!=null,$=_.view.applyChanges(I,y.isPrimaryClient,j,D);return L_(y,_.targetId,$.wa),$.snapshot}(t,u,f,v);const i=await z0(t.localStore,e,!0),a=new eO(e,i.Ts),c=a.ma(i.documents),l=Vf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),d=a.applyChanges(c,t.isPrimaryClient,l);L_(t,n,d.wa);const h=new NY(e,n,a);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function LY(t,e,n){const r=ne(t),o=r.Fa.get(e),i=r.Ma.get(o.targetId);if(i.length>1)return r.Ma.set(o.targetId,i.filter(a=>!Of(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Fd(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Md(r.remoteStore,o.targetId),Vd(r,o.targetId)}).catch(ya)):(Vd(r,o.targetId),await Fd(r.localStore,o.targetId,!0))}async function VY(t,e){const n=ne(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Md(n.remoteStore,r.targetId))}async function zY(t,e,n){const r=WI(t);try{const o=await function(a,c){const l=ne(a),d=ie.now(),h=c.reduce((v,x)=>v.add(x.key),je());let u,f;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=pr(),y=je();return l.cs.getEntries(v,h).next(_=>{x=_,x.forEach((w,E)=>{E.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,x)).next(_=>{u=_;const w=[];for(const E of c){const I=uK(E,u.get(E.key).overlayedDocument);I!=null&&w.push(new $i(E.key,I,M$(I.value.mapValue),xt.exists(!0)))}return l.mutationQueue.addMutationBatch(v,d,w,c)}).next(_=>{f=_;const w=_.applyToLocalDocumentSet(u,y);return l.documentOverlayCache.saveOverlays(v,_.batchId,w)})}).then(()=>({batchId:f.batchId,changes:X$(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(a,c,l){let d=a.Ba[a.currentUser.toKey()];d||(d=new st(Ce)),d=d.insert(c,l),a.Ba[a.currentUser.toKey()]=d}(r,o.batchId,n),await Oi(r,o.changes),await pu(r.remoteStore)}catch(o){const i=mu(o,"Failed to persist write");n.reject(i)}}async function nO(t,e){const n=ne(t);try{const r=await iY(n.localStore,e);e.targetChanges.forEach((o,i)=>{const a=n.Na.get(i);a&&(fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?a.va=!0:o.modifiedDocuments.size>0?fe(a.va):o.removedDocuments.size>0&&(fe(a.va),a.va=!1))}),await Oi(n,r,e)}catch(r){await ya(r)}}function iA(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach((i,a)=>{const c=a.view.Z_(e);c.snapshot&&o.push(c.snapshot)}),function(a,c){const l=ne(a);l.onlineState=c;let d=!1;l.queries.forEach((h,u)=>{for(const f of u.j_)f.Z_(c)&&(d=!0)}),d&&LI(l)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BY(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),i=o&&o.key;if(i){let a=new st(te.comparator);a=a.insert(i,ut.newNoDocument(i,ve.min()));const c=je().add(i),l=new Lf(ve.min(),new Map,new st(Ce),a,c);await nO(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),qI(r)}else await Fd(r.localStore,e,!1).then(()=>Vd(r,e,n)).catch(ya)}async function UY(t,e){const n=ne(t),r=e.batch.batchId;try{const o=await oY(n.localStore,e);UI(n,r,null),BI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oi(n,o)}catch(o){await ya(o)}}async function qY(t,e,n){const r=ne(t);try{const o=await function(a,c){const l=ne(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,c).next(u=>(fe(u!==null),h=u.keys(),l.mutationQueue.removeMutationBatch(d,u))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);UI(r,e,n),BI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oi(r,o)}catch(o){await ya(o)}}async function WY(t,e){const n=ne(t);Ea(n.remoteStore)||G("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(a){const c=ne(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>c.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const o=n.ka.get(r)||[];o.push(e),n.ka.set(r,o)}catch(r){const o=mu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}function BI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UI(t,e,n){const r=ne(t);let o=r.Ba[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Vd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||rO(t,r)})}function rO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Md(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),qI(t))}function L_(t,e,n){for(const r of n)r instanceof J3?(t.La.addReference(r.key,e),HY(t,r)):r instanceof Z3?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||rO(t,r.key)):ae()}function HY(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),qI(t))}function qI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new te(Fe.fromString(e)),r=t.qa.next();t.Na.set(r,new $Y(n)),t.Oa=t.Oa.insert(n,r),Xx(t.remoteStore,new hi(Qn(lu(n.path)),r,"TargetPurposeLimboResolution",ur.oe))}}async function Oi(t,e,n){const r=ne(t),o=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((c,l)=>{a.push(r.Ka(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const u=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(d){o.push(d);const u=AI.Wi(l.targetId,d);i.push(u)}}))}),await Promise.all(a),r.Ca.d_(o),await async function(l,d){const h=ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>M.forEach(d,f=>M.forEach(f.$i,v=>h.persistence.referenceDelegate.addReference(u,f.targetId,v)).next(()=>M.forEach(f.Ui,v=>h.persistence.referenceDelegate.removeReference(u,f.targetId,v)))))}catch(u){if(!wa(u))throw u;G("LocalStore","Failed to update sequence numbers: "+u)}for(const u of d){const f=u.targetId;if(!u.fromCache){const v=h.os.get(f),x=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(f,y)}}}(r.localStore,i))}async function GY(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await F3(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(c=>{c.forEach(l=>{l.reject(new H(V.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oi(n,r.hs)}}function KY(t,e){const n=ne(t),r=n.Na.get(e);if(r&&r.va)return je().add(r.key);{let o=je();const i=n.Ma.get(e);if(!i)return o;for(const a of i){const c=n.Fa.get(a);o=o.unionWith(c.view.Va)}return o}}async function YY(t,e){const n=ne(t),r=await z0(n.localStore,e.query,!0),o=e.view.ba(r);return n.isPrimaryClient&&L_(n,e.targetId,o.wa),o}async function QY(t,e){const n=ne(t);return z3(n.localStore,e).then(r=>Oi(n,r))}async function XY(t,e,n,r){const o=ne(t),i=await function(c,l){const d=ne(c),h=ne(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",u=>h.Mn(u,l).next(f=>f?d.localDocuments.getDocuments(u,f):M.resolve(null)))}(o.localStore,e);i!==null?(n==="pending"?await pu(o.remoteStore):n==="acknowledged"||n==="rejected"?(UI(o,e,r||null),BI(o,e),function(c,l){ne(ne(c).mutationQueue).On(l)}(o.localStore,e)):ae(),await Oi(o,i)):G("SyncEngine","Cannot apply mutation batch with id: "+e)}async function JY(t,e){const n=ne(t);if(Jx(n),WI(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),o=await sA(n,r.toArray());n.Qa=!0,await F_(n.remoteStore,!0);for(const i of o)Xx(n.remoteStore,i)}else if(e===!1&&n.Qa!==!1){const r=[];let o=Promise.resolve();n.Ma.forEach((i,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):o=o.then(()=>(Vd(n,a),Fd(n.localStore,a,!0))),Md(n.remoteStore,a)}),await o,await sA(n,r),function(a){const c=ne(a);c.Na.forEach((l,d)=>{Md(c.remoteStore,d)}),c.La.pr(),c.Na=new Map,c.Oa=new st(te.comparator)}(n),n.Qa=!1,await F_(n.remoteStore,!1)}}async function sA(t,e,n){const r=ne(t),o=[],i=[];for(const a of e){let c;const l=r.Ma.get(a);if(l&&l.length!==0){c=await Od(r.localStore,Qn(l[0]));for(const d of l){const h=r.Fa.get(d),u=await YY(r,h);u.snapshot&&i.push(u.snapshot)}}else{const d=await V3(r.localStore,a);c=await Od(r.localStore,d),await zI(r,oO(d),a,!1,c.resumeToken)}o.push(c)}return r.Ca.d_(i),o}function oO(t){return H$(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ZY(t){return function(n){return ne(ne(n).persistence).Qi()}(ne(t).localStore)}async function eQ(t,e,n,r){const o=ne(t);if(o.Qa)return void G("SyncEngine","Ignoring unexpected query state notification.");const i=o.Ma.get(e);if(i&&i.length>0)switch(n){case"current":case"not-current":{const a=await z3(o.localStore,K$(i[0])),c=Lf.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Rt.EMPTY_BYTE_STRING);await Oi(o,a,c);break}case"rejected":await Fd(o.localStore,e,!0),Vd(o,e,r);break;default:ae()}}async function tQ(t,e,n){const r=Jx(t);if(r.Qa){for(const o of e){if(r.Ma.has(o)&&r.sharedClientState.isActiveQueryTarget(o)){G("SyncEngine","Adding an already active target "+o);continue}const i=await V3(r.localStore,o),a=await Od(r.localStore,i);await zI(r,oO(i),a.targetId,!1,a.resumeToken),Xx(r.remoteStore,a)}for(const o of n)r.Ma.has(o)&&await Fd(r.localStore,o,!1).then(()=>{Md(r.remoteStore,o),Vd(r,o)}).catch(ya)}}function Jx(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BY.bind(null,e),e.Ca.d_=AY.bind(null,e.eventManager),e.Ca.$a=PY.bind(null,e.eventManager),e}function WI(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qY.bind(null,e),e}function nQ(t,e,n){const r=ne(t);(async function(i,a,c){try{const l=await a.getMetadata();if(await function(v,x){const y=ne(v),_=Ht(x.createTime);return y.persistence.runTransaction("hasNewerBundle","readonly",w=>y.Gr.getBundleMetadata(w,x.id)).then(w=>!!w&&w.createTime.compareTo(_)>=0)}(i.localStore,l))return await a.close(),c._completeWith(function(v){return{taskState:"Success",documentsLoaded:v.totalDocuments,bytesLoaded:v.totalBytes,totalDocuments:v.totalDocuments,totalBytes:v.totalBytes}}(l)),Promise.resolve(new Set);c._updateProgress(X3(l));const d=new DY(l,i.localStore,a.serializer);let h=await a.Ua();for(;h;){const f=await d.la(h);f&&c._updateProgress(f),h=await a.Ua()}const u=await d.complete();return await Oi(i,u.Ia,void 0),await function(v,x){const y=ne(v);return y.persistence.runTransaction("Save bundle","readwrite",_=>y.Gr.saveBundleMetadata(_,x))}(i.localStore,l),c._completeWith(u.progress),Promise.resolve(u.Pa)}catch(l){return Fo("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return O3(this.persistence,new $3,e.initialUser,this.serializer)}Ga(e){return new N3(Qx.Zr,this.serializer)}Wa(e){return new U3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class iO extends sf{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await WI(this.Ja.syncEngine),await pu(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return O3(this.persistence,new $3,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new VK(r,e.asyncQueue,n)}Ha(e,n){const r=new wG(n,this.persistence);return new yG(e.asyncQueue,r)}Ga(e){const n=jI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?ar.withCacheSize(this.cacheSizeBytes):ar.DEFAULT;return new CI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,q3(),Fv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new U3}}class rQ extends iO{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof Wy&&(this.sharedClientState.syncEngine={no:XY.bind(null,n),ro:eQ.bind(null,n),io:tQ.bind(null,n),Qi:ZY.bind(null,n),eo:QY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await JY(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=q3();if(!Wy.D(n))throw new H(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=jI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class af{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GY.bind(null,this.syncEngine),await F_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jY}()}createDatastore(e){const n=zf(e.databaseInfo.databaseId),r=function(i){return new hY(i)}(e.databaseInfo);return function(i,a,c,l){return new mY(i,a,c,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,i,a,c){return new vY(r,o,i,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>iA(this.syncEngine,n,0),function(){return Zj.D()?new Zj:new lY}())}createSyncEngine(e,n){return function(o,i,a,c,l,d,h){const u=new OY(o,i,a,c,l,d);return h&&(u.Qa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const i=ne(o);G("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await hu(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}af.provider={build:()=>new af};function aA(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qt("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,n){this.Xa=e,this.serializer=n,this.metadata=new wn,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const n=this.eu.decode(e),r=Number(n);isNaN(r)&&this.ru(`length string (${n}) is not valid number`);const o=await this.iu(r);return new RY(JSON.parse(o),e.length+r)}su(){return this.buffer.findIndex(e=>e===123)}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const n=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new H(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(o,i){const a=ne(o),c={documents:i.map(u=>rf(a.serializer,u))},l=await a.Lo("BatchGetDocuments",a.serializer.databaseId,Fe.emptyPath(),c,i.length),d=new Map;l.forEach(u=>{const f=yK(a.serializer,u);d.set(f.key.toString(),f)});const h=[];return i.forEach(u=>{const f=d.get(u.toString());fe(!!f),h.push(f)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new uu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const o=te.fromPath(r);this.mutations.push(new xI(o,this.precondition(o)))}),await async function(r,o){const i=ne(r),a={writes:o.map(c=>of(i.serializer,c))};await i.Mo("Commit",i.serializer.databaseId,Fe.emptyPath(),a)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ae();n=ve.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new H(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ve.min())?xt.exists(!1):xt.updateTime(n):xt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ve.min()))throw new H(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xt.updateTime(n)}return xt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,n,r,o,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=o,this.deferred=i,this._u=r.maxAttempts,this.t_=new RI(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new iQ(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(o=>{this.lu(o)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Nf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!a3(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e,n,r,o,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=_$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{G("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(G("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=mu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gy(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await F3(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HI(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>eA(e.remoteStore,o)),t._onlineComponents=e}async function HI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===V.FAILED_PRECONDITION||o.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Gy(t,new sf)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Gy(t,new sf);return t._offlineComponents}async function eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await cA(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await cA(t,new af))),t._onlineComponents}function sO(t){return HI(t).then(e=>e.persistence)}function GI(t){return HI(t).then(e=>e.localStore)}function aO(t){return eb(t).then(e=>e.remoteStore)}function KI(t){return eb(t).then(e=>e.syncEngine)}function cQ(t){return eb(t).then(e=>e.datastore)}async function zd(t){const e=await eb(t),n=e.eventManager;return n.onListen=FY.bind(null,e.syncEngine),n.onUnlisten=LY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VY.bind(null,e.syncEngine),n}function lQ(t){return t.asyncQueue.enqueue(async()=>{const e=await sO(t),n=await aO(t);return e.setNetworkEnabled(!0),function(o){const i=ne(o);return i.L_.delete(0),Bf(i)}(n)})}function dQ(t){return t.asyncQueue.enqueue(async()=>{const e=await sO(t),n=await aO(t);return e.setNetworkEnabled(!1),async function(o){const i=ne(o);i.L_.add(0),await hu(i),i.q_.set("Offline")}(n)})}function uQ(t,e){const n=new wn;return t.asyncQueue.enqueueAndForget(async()=>async function(o,i,a){try{const c=await function(d,h){const u=ne(d);return u.persistence.runTransaction("read document","readonly",f=>u.localDocuments.getDocument(f,h))}(o,i);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new H(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=mu(c,`Failed to get document '${i} from cache`);a.reject(l)}}(await GI(t),e,n)),n.promise}function cO(t,e,n={}){const r=new wn;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,c,l,d){const h=new Zx({next:f=>{h.Za(),a.enqueueAndForget(()=>MI(i,u));const v=f.docs.has(c);!v&&f.fromCache?d.reject(new H(V.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&l&&l.source==="server"?d.reject(new H(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),u=new VI(lu(c.path),h,{includeMetadataChanges:!0,_a:!0});return FI(i,u)}(await zd(t),t.asyncQueue,e,n,r)),r.promise}function hQ(t,e){const n=new wn;return t.asyncQueue.enqueueAndForget(async()=>async function(o,i,a){try{const c=await z0(o,i,!0),l=new eO(i,c.Ts),d=l.ma(c.documents),h=l.applyChanges(d,!1);a.resolve(h.snapshot)}catch(c){const l=mu(c,`Failed to execute query '${i} against cache`);a.reject(l)}}(await GI(t),e,n)),n.promise}function lO(t,e,n={}){const r=new wn;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,c,l,d){const h=new Zx({next:f=>{h.Za(),a.enqueueAndForget(()=>MI(i,u)),f.fromCache&&l.source==="server"?d.reject(new H(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),u=new VI(c,h,{includeMetadataChanges:!0,_a:!0});return FI(i,u)}(await zd(t),t.asyncQueue,e,n,r)),r.promise}function pQ(t,e){const n=new Zx(e);return t.asyncQueue.enqueueAndForget(async()=>function(o,i){ne(o).Y_.add(i),i.next()}(await zd(t),n)),()=>{n.Za(),t.asyncQueue.enqueueAndForget(async()=>function(o,i){ne(o).Y_.delete(i)}(await zd(t),n))}}function fQ(t,e,n,r){const o=function(a,c){let l;return l=typeof a=="string"?l3().encode(a):a,function(h,u){return new oQ(h,u)}(function(h,u){if(h instanceof Uint8Array)return aA(h,u);if(h instanceof ArrayBuffer)return aA(new Uint8Array(h),u);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),c)}(n,zf(e));t.asyncQueue.enqueueAndForget(async()=>{nQ(await KI(t),o,r)})}function mQ(t,e){return t.asyncQueue.enqueue(async()=>function(r,o){const i=ne(r);return i.persistence.runTransaction("Get named query","readonly",a=>i.Gr.getNamedQuery(a,o))}(await GI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t,e,n){if(!n)throw new H(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uO(t,e,n,r){if(e===!0&&r===!0)throw new H(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dA(t){if(!te.isDocumentKey(t))throw new H(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uA(t){if(te.isDocumentKey(t))throw new H(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function He(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tb(t);throw new H(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hO(t,e){if(e<=0)throw new H(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lG;switch(r.type){case"firstParty":return new pG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lA.get(n);r&&(G("ComponentProvider","Removing Datastore"),lA.delete(n),r.terminate())}(this),Promise.resolve()}}function gQ(t,e,n,r={}){var o;const i=(t=He(t,Uf))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=ln.MOCK_USER;else{c=K4(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ln(d)}t._authCredentials=new dG(new w$(c,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jn=class pO{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pO(this.firestore,e,this._query)}},Et=class fO{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fO(this.firestore,e,this._key)}},Gs=class mO extends Jn{constructor(e,n,r){super(e,n,lu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new te(e))}withConverter(e){return new mO(this.firestore,e,this._path)}};function cr(t,e,...n){if(t=de(t),YI("collection","path",e),t instanceof Uf){const r=Fe.fromString(e,...n);return uA(r),new Gs(t,null,r)}{if(!(t instanceof Et||t instanceof Gs))throw new H(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return uA(r),new Gs(t.firestore,null,r)}}function vQ(t,e){if(t=He(t,Uf),YI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new H(V.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jn(t,null,function(r){return new Ni(Fe.emptyPath(),r)}(e))}function qe(t,e,...n){if(t=de(t),arguments.length===1&&(e=_$.newId()),YI("doc","path",e),t instanceof Uf){const r=Fe.fromString(e,...n);return dA(r),new Et(t,null,new te(r))}{if(!(t instanceof Et||t instanceof Gs))throw new H(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return dA(r),new Et(t.firestore,t instanceof Gs?t.converter:null,new te(r))}}function gO(t,e){return t=de(t),e=de(e),(t instanceof Et||t instanceof Gs)&&(e instanceof Et||e instanceof Gs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function vO(t,e){return t=de(t),e=de(e),t instanceof Jn&&e instanceof Jn&&t.firestore===e.firestore&&Of(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RI(this,"async_queue_retry"),this.Vu=()=>{const r=Fv();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Fv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Fv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new wn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wa(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const o=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw qt("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=OI.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(o),o}fu(){this.Eu&&ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function V_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const i of r)if(i in o&&typeof o[i]=="function")return!0;return!1}(t,["next","error","complete"])}class xQ{constructor(){this._progressObserver={},this._taskCompletionResolver=new wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ=-1;let Dt=class extends Uf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new pA,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pA(e),this._firestoreClient=void 0,await e}}};function Tn(t){if(t._terminated)throw new H(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xO(t),t._firestoreClient}function xO(t){var e,n,r;const o=t._freezeSettings(),i=function(c,l,d,h){return new UG(c,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dO(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new aQ(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const l=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(l),_online:l}}(t._componentsProvider))}function yQ(t,e){Fo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return bO(t,af.provider,{build:r=>new iO(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function wQ(t){Fo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();bO(t,af.provider,{build:n=>new rQ(n,e.cacheSizeBytes)})}function bO(t,e,n){if((t=He(t,Dt))._firestoreClient||t._terminated)throw new H(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new H(V.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},xO(t)}function _Q(t){if(t._initialized&&!t._terminated)throw new H(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wn;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Ro.D())return Promise.resolve();const o=r+"main";await Ro.delete(o)}(jI(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function EQ(t){return function(n){const r=new wn;return n.asyncQueue.enqueueAndForget(async()=>WY(await KI(n),r)),r.promise}(Tn(t=He(t,Dt)))}function TQ(t){return lQ(Tn(t=He(t,Dt)))}function IQ(t){return dQ(Tn(t=He(t,Dt)))}function SQ(t,e){const n=Tn(t=He(t,Dt)),r=new xQ;return fQ(n,t._databaseId,e,r),r}function kQ(t,e){return mQ(Tn(t=He(t,Dt)),e).then(n=>n?new Jn(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lo(Rt.fromBase64String(e))}catch(n){throw new H(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lo(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==o[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ=/^__.*__$/;class jQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class yO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class rb{constructor(e,n,r,o,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new rb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return W0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(wO(this.Cu)&&CQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zf(e)}Qu(e,n,r,o=!1){return new rb({Cu:e,methodName:n,qu:r,path:vt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(t){const e=t._freezeSettings(),n=zf(t._databaseId);return new AQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ob(t,e,n,r,o,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,o);rS("Data must be an object, but it was:",a,r);const c=TO(r,a);let l,d;if(i.merge)l=new hr(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const h=[];for(const u of i.mergeFields){const f=z_(e,u,n);if(!a.contains(f))throw new H(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);SO(h,f)||h.push(f)}l=new hr(h),d=a.fieldTransforms.filter(u=>l.covers(u.field))}else l=null,d=a.fieldTransforms;return new jQ(new xn(c),l,d)}class qf extends Qc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qf}}function _O(t,e,n){return new rb({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class XI extends Qc{_toFieldTransform(e){return new Mf(e.path,new Dd)}isEqual(e){return e instanceof XI}}class JI extends Qc{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=_O(this,e,!0),r=this.Ku.map(i=>Jc(i,n)),o=new Rc(r);return new Mf(e.path,o)}isEqual(e){return e instanceof JI&&Bp(this.Ku,e.Ku)}}class ZI extends Qc{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=_O(this,e,!0),r=this.Ku.map(i=>Jc(i,n)),o=new Dc(r);return new Mf(e.path,o)}isEqual(e){return e instanceof ZI&&Bp(this.Ku,e.Ku)}}class eS extends Qc{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Nd(e.serializer,e3(e.serializer,this.$u));return new Mf(e.path,n)}isEqual(e){return e instanceof eS&&this.$u===e.$u}}function tS(t,e,n,r){const o=t.Qu(1,e,n);rS("Data must be an object, but it was:",o,r);const i=[],a=xn.empty();Yc(r,(l,d)=>{const h=oS(e,l,n);d=de(d);const u=o.Nu(h);if(d instanceof qf)i.push(h);else{const f=Jc(d,u);f!=null&&(i.push(h),a.set(h,f))}});const c=new hr(i);return new yO(a,c,o.fieldTransforms)}function nS(t,e,n,r,o,i){const a=t.Qu(1,e,n),c=[z_(e,r,n)],l=[o];if(i.length%2!=0)throw new H(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)c.push(z_(e,i[f])),l.push(i[f+1]);const d=[],h=xn.empty();for(let f=c.length-1;f>=0;--f)if(!SO(d,c[f])){const v=c[f];let x=l[f];x=de(x);const y=a.Nu(v);if(x instanceof qf)d.push(v);else{const _=Jc(x,y);_!=null&&(d.push(v),h.set(v,_))}}const u=new hr(d);return new yO(h,u,a.fieldTransforms)}function EO(t,e,n,r=!1){return Jc(n,t.Qu(r?4:3,e))}function Jc(t,e){if(IO(t=de(t)))return rS("Unsupported field value:",e,t),TO(t,e);if(t instanceof Qc)return function(r,o){if(!wO(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,o){const i=[];let a=0;for(const c of r){let l=Jc(c,o.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,o){if((r=de(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e3(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ie.fromDate(r);return{timestampValue:$d(o.serializer,i)}}if(r instanceof ie){const i=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$d(o.serializer,i)}}if(r instanceof nb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lo)return{bytesValue:h3(o.serializer,r._byteString)};if(r instanceof Et){const i=o.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw o.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:EI(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof QI)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return vI(c.serializer,l)})}}}}}}(r,o);throw o.Bu(`Unsupported field value: ${tb(r)}`)}(t,e)}function TO(t,e){const n={};return N$(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yc(t,(r,o)=>{const i=Jc(o,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function IO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ie||t instanceof nb||t instanceof Lo||t instanceof Et||t instanceof Qc||t instanceof QI)}function rS(t,e,n){if(!IO(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=tb(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function z_(t,e,n){if((e=de(e))instanceof ia)return e._internalPath;if(typeof e=="string")return oS(t,e);throw W0("Field path arguments must be of type string or ",t,!1,void 0,n)}const PQ=new RegExp("[~\\*/\\[\\]]");function oS(t,e,n){if(e.search(PQ)>=0)throw W0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ia(...e.split("."))._internalPath}catch{throw W0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function W0(t,e,n,r,o){const i=r&&!r.isEmpty(),a=o!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${o}`),l+=")"),new H(V.INVALID_ARGUMENT,c+t+l)}function SO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ib("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RQ extends cf{data(){return super.data()}}function ib(t,e){return typeof e=="string"?oS(t,e):e instanceof ia?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iS{}class Wf extends iS{}function Wn(t,e,...n){let r=[];e instanceof iS&&r.push(e),r=r.concat(n),function(i){const a=i.filter(l=>l instanceof sS).length,c=i.filter(l=>l instanceof sb).length;if(a>1||a>0&&c>0)throw new H(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class sb extends Wf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sb(e,n,r)}_apply(e){const n=this._parse(e);return jO(e._query,n),new Jn(e.firestore,e.converter,C_(e._query,n))}_parse(e){const n=Xc(e.firestore);return function(i,a,c,l,d,h,u){let f;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){mA(u,h);const v=[];for(const x of u)v.push(fA(l,i,x));f={arrayValue:{values:v}}}else f=fA(l,i,u)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||mA(u,h),f=EO(c,a,u,h==="in"||h==="not-in");return Me.create(d,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ac(t,e,n){const r=e,o=ib("where",t);return sb._create(o,r,n)}class sS extends iS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Je.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,i){let a=o;const c=i.getFlattenedFilters();for(const l of c)jO(a,l),a=C_(a,l)}(e._query,n),new Jn(e.firestore,e.converter,C_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class aS extends Wf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new aS(e,n)}_apply(e){const n=function(o,i,a){if(o.startAt!==null)throw new H(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new H(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nf(i,a)}(e._query,this._field,this._direction);return new Jn(e.firestore,e.converter,function(o,i){const a=o.explicitOrderBy.concat([i]);return new Ni(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function lf(t,e="asc"){const n=e,r=ib("orderBy",t);return aS._create(r,n)}class ab extends Wf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ab(e,n,r)}_apply(e){return new Jn(e.firestore,e.converter,F0(e._query,this._limit,this._limitType))}}function B_(t){return hO("limit",t),ab._create("limit",t,"F")}function DQ(t){return hO("limitToLast",t),ab._create("limitToLast",t,"L")}class cb extends Wf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cb(e,n,r)}_apply(e){const n=CO(e,this.type,this._docOrFields,this._inclusive);return new Jn(e.firestore,e.converter,function(o,i){return new Ni(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,i,o.endAt)}(e._query,n))}}function NQ(...t){return cb._create("startAt",t,!0)}function $Q(...t){return cb._create("startAfter",t,!1)}class lb extends Wf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new lb(e,n,r)}_apply(e){const n=CO(e,this.type,this._docOrFields,this._inclusive);return new Jn(e.firestore,e.converter,function(o,i){return new Ni(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,i)}(e._query,n))}}function OQ(...t){return lb._create("endBefore",t,!1)}function FQ(...t){return lb._create("endAt",t,!0)}function CO(t,e,n,r){if(n[0]=de(n[0]),n[0]instanceof cf)return function(i,a,c,l,d){if(!l)throw new H(V.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const h=[];for(const u of ud(i))if(u.field.isKeyField())h.push(Ac(a,l.key));else{const f=l.data.field(u.field);if(qx(f))throw new H(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const v=u.field.canonicalString();throw new H(V.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}h.push(f)}return new ra(h,d)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=Xc(t.firestore);return function(a,c,l,d,h,u){const f=a.explicitOrderBy;if(h.length>f.length)throw new H(V.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let x=0;x<h.length;x++){const y=h[x];if(f[x].field.isKeyField()){if(typeof y!="string")throw new H(V.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof y}`);if(!mI(a)&&y.indexOf("/")!==-1)throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${y}' contains a slash.`);const _=a.path.child(Fe.fromString(y));if(!te.isDocumentKey(_))throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const w=new te(_);v.push(Ac(c,w))}else{const _=EO(l,d,y);v.push(_)}}return new ra(v,u)}(t._query,t.firestore._databaseId,o,e,n,r)}}function fA(t,e,n){if(typeof(n=de(n))=="string"){if(n==="")throw new H(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mI(e)&&n.indexOf("/")!==-1)throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!te.isDocumentKey(r))throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ac(t,new te(r))}if(n instanceof Et)return Ac(t,n._key);throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tb(n)}.`)}function mA(t,e){if(!Array.isArray(t)||t.length===0)throw new H(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jO(t,e){const n=function(o,i){for(const a of o)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class cS{convertValue(e,n="none"){switch(jc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yc(e,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,o;const i=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(a=>mt(a.doubleValue));return new QI(i)}convertGeoPoint(e){return new nb(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zp(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new ie(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);fe(E3(r));const o=new ta(r.get(1),r.get(3)),i=new te(r.popFirst(5));return o.isEqual(n)||qt(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class MQ extends cS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Si=class extends cf{constructor(e,n,r,o,i,a){super(e,n,r,o,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ib("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},xp=class extends Si{data(e={}){return super.data(e)}},sa=class{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new cc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xp(this._firestore,this._userDataWriter,r.key,r,new cc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let a=0;return o._snapshot.docChanges.map(c=>{const l=new xp(o._firestore,o._userDataWriter,c.doc.key,c.doc,new cc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const l=new xp(o._firestore,o._userDataWriter,c.doc.key,c.doc,new cc(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,h=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),h=a.indexOf(c.doc.key)),{type:LQ(c.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function LQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}function AO(t,e){return t instanceof Si&&e instanceof Si?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof sa&&e instanceof sa&&t._firestore===e._firestore&&vO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){t=He(t,Et);const e=He(t.firestore,Dt);return cO(Tn(e),t._key).then(n=>lS(e,t,n))}class Zc extends cS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function VQ(t){t=He(t,Et);const e=He(t.firestore,Dt),n=Tn(e),r=new Zc(e);return uQ(n,t._key).then(o=>new Si(e,r,t._key,o,new cc(o!==null&&o.hasLocalMutations,!0),t.converter))}function zQ(t){t=He(t,Et);const e=He(t.firestore,Dt);return cO(Tn(e),t._key,{source:"server"}).then(n=>lS(e,t,n))}function Jh(t){t=He(t,Jn);const e=He(t.firestore,Dt),n=Tn(e),r=new Zc(e);return kO(t._query),lO(n,t._query).then(o=>new sa(e,r,t,o))}function BQ(t){t=He(t,Jn);const e=He(t.firestore,Dt),n=Tn(e),r=new Zc(e);return hQ(n,t._query).then(o=>new sa(e,r,t,o))}function UQ(t){t=He(t,Jn);const e=He(t.firestore,Dt),n=Tn(e),r=new Zc(e);return lO(n,t._query,{source:"server"}).then(o=>new sa(e,r,t,o))}function vi(t,e,n){t=He(t,Et);const r=He(t.firestore,Dt),o=db(t.converter,e,n);return vu(r,[ob(Xc(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,xt.none())])}function oo(t,e,n,...r){t=He(t,Et);const o=He(t.firestore,Dt),i=Xc(o);let a;return a=typeof(e=de(e))=="string"||e instanceof ia?nS(i,"updateDoc",t._key,e,n,r):tS(i,"updateDoc",t._key,e),vu(o,[a.toMutation(t._key,xt.exists(!0))])}function U_(t){return vu(He(t.firestore,Dt),[new uu(t._key,xt.none())])}function H0(t,e){const n=He(t.firestore,Dt),r=qe(t),o=db(t.converter,e);return vu(n,[ob(Xc(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,xt.exists(!1))]).then(()=>r)}function gu(t,...e){var n,r,o;t=de(t);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||V_(e[a])||(i=e[a],a++);const c={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(V_(e[a])){const u=e[a];e[a]=(n=u.next)===null||n===void 0?void 0:n.bind(u),e[a+1]=(r=u.error)===null||r===void 0?void 0:r.bind(u),e[a+2]=(o=u.complete)===null||o===void 0?void 0:o.bind(u)}let l,d,h;if(t instanceof Et)d=He(t.firestore,Dt),h=lu(t._key.path),l={next:u=>{e[a]&&e[a](lS(d,t,u))},error:e[a+1],complete:e[a+2]};else{const u=He(t,Jn);d=He(u.firestore,Dt),h=u._query;const f=new Zc(d);l={next:v=>{e[a]&&e[a](new sa(d,f,u,v))},error:e[a+1],complete:e[a+2]},kO(t._query)}return function(f,v,x,y){const _=new Zx(y),w=new VI(v,_,x);return f.asyncQueue.enqueueAndForget(async()=>FI(await zd(f),w)),()=>{_.Za(),f.asyncQueue.enqueueAndForget(async()=>MI(await zd(f),w))}}(Tn(d),h,c,l)}function qQ(t,e){return pQ(Tn(t=He(t,Dt)),V_(e)?e:{next:e})}function vu(t,e){return function(r,o){const i=new wn;return r.asyncQueue.enqueueAndForget(async()=>zY(await KI(r),o,i)),i.promise}(Tn(t),e)}function lS(t,e,n){const r=n.docs.get(e._key),o=new Zc(t);return new Si(t,o,e._key,r,new cc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PO=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xc(e)}set(e,n,r){this._verifyNotCommitted();const o=Ps(e,this._firestore),i=db(o.converter,n,r),a=ob(this._dataReader,"WriteBatch.set",o._key,i,o.converter!==null,r);return this._mutations.push(a.toMutation(o._key,xt.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const i=Ps(e,this._firestore);let a;return a=typeof(n=de(n))=="string"||n instanceof ia?nS(this._dataReader,"WriteBatch.update",i._key,n,r,o):tS(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(a.toMutation(i._key,xt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ps(e,this._firestore);return this._mutations=this._mutations.concat(new uu(n._key,xt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ps(t,e){if((t=de(t)).firestore!==e)throw new H(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HQ=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Xc(n)}get(n){const r=Ps(n,this._firestore),o=new MQ(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return ae();const a=i[0];if(a.isFoundDocument())return new cf(this._firestore,o,a.key,a,r.converter);if(a.isNoDocument())return new cf(this._firestore,o,r._key,null,r.converter);throw ae()})}set(n,r,o){const i=Ps(n,this._firestore),a=db(i.converter,r,o),c=ob(this._dataReader,"Transaction.set",i._key,a,i.converter!==null,o);return this._transaction.set(i._key,c),this}update(n,r,o,...i){const a=Ps(n,this._firestore);let c;return c=typeof(r=de(r))=="string"||r instanceof ia?nS(this._dataReader,"Transaction.update",a._key,r,o,i):tS(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,c),this}delete(n){const r=Ps(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ps(e,this._firestore),r=new Zc(this._firestore);return super.get(e).then(o=>new Si(this._firestore,r,n._key,o._document,new cc(!1,!1),n.converter))}};function GQ(t,e,n){t=He(t,Dt);const r=Object.assign(Object.assign({},WQ),n);return function(i){if(i.maxAttempts<1)throw new H(V.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const l=new wn;return i.asyncQueue.enqueueAndForget(async()=>{const d=await cQ(i);new sQ(i.asyncQueue,d,c,a,l).au()}),l.promise}(Tn(t),o=>e(new HQ(t,o)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(){return new qf("deleteField")}function ir(){return new XI("serverTimestamp")}function YQ(...t){return new JI("arrayUnion",t)}function QQ(...t){return new ZI("arrayRemove",t)}function RO(t){return new eS("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){return Tn(t=He(t,Dt)),new PO(t,e=>vu(t,e))}(function(e,n=!0){(function(o){cu=o})(Pi),Nn(new Zt("firestore",(r,{instanceIdentifier:o,options:i})=>{const a=r.getProvider("app").getImmediate(),c=new Dt(new uG(r.getProvider("auth-internal")),new mG(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ta(d.options.projectId,h)}(a,o),a);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),hn(sj,"4.7.3",e),hn(sj,"4.7.3","esm2017")})();const XQ="@firebase/firestore-compat",JQ="0.3.38";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new H("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(){if(typeof Uint8Array>"u")throw new H("unimplemented","Uint8Arrays are not available in this environment.")}function vA(){if(!zG())throw new H("unimplemented","Blobs are unavailable in Firestore in this environment.")}let DO=class q_{constructor(e){this._delegate=e}static fromBase64String(e){return vA(),new q_(Lo.fromBase64String(e))}static fromUint8Array(e){return gA(),new q_(Lo.fromUint8Array(e))}toBase64(){return vA(),this._delegate.toBase64()}toUint8Array(){return gA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){return ZQ(t,["next","error","complete"])}function ZQ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{enableIndexedDbPersistence(e,n){return yQ(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return wQ(e._delegate)}clearIndexedDbPersistence(e){return _Q(e._delegate)}}class NO{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ta||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Fo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){gQ(this._delegate,e,n,r)}enableNetwork(){return TQ(this._delegate)}disableNetwork(){return IQ(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uO("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return EQ(this._delegate)}onSnapshotsInSync(e){return qQ(this._delegate,e)}get app(){if(!this._appCompat)throw new H("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Bd(this,cr(this._delegate,e))}catch(n){throw Hn(n,"collection()","Firestore.collection()")}}doc(e){try{return new $r(this,qe(this._delegate,e))}catch(n){throw Hn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qn(this,vQ(this._delegate,e))}catch(n){throw Hn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return GQ(this._delegate,n=>e(new $O(this,n)))}batch(){return Tn(this._delegate),new OO(new PO(this._delegate,e=>vu(this._delegate,e)))}loadBundle(e){return SQ(this._delegate,e)}namedQuery(e){return kQ(this._delegate,e).then(n=>n?new qn(this,n):null)}}class ub extends cS{constructor(e){super(),this.firestore=e}convertBytes(e){return new DO(new Lo(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return $r.forKey(n,this.firestore,null)}}function tX(t){aG(t)}class $O{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ub(e)}get(e){const n=lc(e);return this._delegate.get(n).then(r=>new df(this._firestore,new Si(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const o=lc(e);return r?(dS("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this}update(e,n,r,...o){const i=lc(e);return arguments.length===2?this._delegate.update(i,n):this._delegate.update(i,n,r,...o),this}delete(e){const n=lc(e);return this._delegate.delete(n),this}}class OO{constructor(e){this._delegate=e}set(e,n,r){const o=lc(e);return r?(dS("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this}update(e,n,r,...o){const i=lc(e);return arguments.length===2?this._delegate.update(i,n):this._delegate.update(i,n,r,...o),this}delete(e){const n=lc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Fc{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new xp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uf(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Fc.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let i=o.get(n);return i||(i=new Fc(e,new ub(e),n),o.set(n,i)),i}}Fc.INSTANCES=new WeakMap;class $r{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ub(e)}static forPath(e,n,r){if(e.length%2!==0)throw new H("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $r(n,new Et(n._delegate,r,new te(e)))}static forKey(e,n,r){return new $r(n,new Et(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Bd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Bd(this.firestore,cr(this._delegate,e))}catch(n){throw Hn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=de(e),e instanceof Et?gO(this._delegate,e):!1}set(e,n){n=dS("DocumentReference.set",n);try{return n?vi(this._delegate,e,n):vi(this._delegate,e)}catch(r){throw Hn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?oo(this._delegate,e):oo(this._delegate,e,n,...r)}catch(o){throw Hn(o,"updateDoc()","DocumentReference.update()")}}delete(){return U_(this._delegate)}onSnapshot(...e){const n=FO(e),r=MO(e,o=>new df(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return gu(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=VQ(this._delegate):(e==null?void 0:e.source)==="server"?n=zQ(this._delegate):n=gi(this._delegate),n.then(r=>new df(this.firestore,new Si(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $r(this.firestore,e?this._delegate.withConverter(Fc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Hn(t,e,n){return t.message=t.message.replace(e,n),t}function FO(t){for(const e of t)if(typeof e=="object"&&!W_(e))return e;return{}}function MO(t,e){var n,r;let o;return W_(t[0])?o=t[0]:W_(t[1])?o=t[1]:typeof t[0]=="function"?o={next:t[0],error:t[1],complete:t[2]}:o={next:t[1],error:t[2],complete:t[3]},{next:i=>{o.next&&o.next(e(i))},error:(n=o.error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}class df{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new $r(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return AO(this._delegate,e._delegate)}}class uf extends df{data(e){const n=this._delegate.data(e);return this._delegate._converter||cG(n!==void 0),n}}class qn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ub(e)}where(e,n,r){try{return new qn(this.firestore,Wn(this._delegate,ac(e,n,r)))}catch(o){throw Hn(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new qn(this.firestore,Wn(this._delegate,lf(e,n)))}catch(r){throw Hn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qn(this.firestore,Wn(this._delegate,B_(e)))}catch(n){throw Hn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new qn(this.firestore,Wn(this._delegate,DQ(e)))}catch(n){throw Hn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qn(this.firestore,Wn(this._delegate,NQ(...e)))}catch(n){throw Hn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qn(this.firestore,Wn(this._delegate,$Q(...e)))}catch(n){throw Hn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qn(this.firestore,Wn(this._delegate,OQ(...e)))}catch(n){throw Hn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qn(this.firestore,Wn(this._delegate,FQ(...e)))}catch(n){throw Hn(n,"endAt()","Query.endAt()")}}isEqual(e){return vO(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=BQ(this._delegate):(e==null?void 0:e.source)==="server"?n=UQ(this._delegate):n=Jh(this._delegate),n.then(r=>new H_(this.firestore,new sa(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=FO(e),r=MO(e,o=>new H_(this.firestore,new sa(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return gu(this._delegate,n,r)}withConverter(e){return new qn(this.firestore,e?this._delegate.withConverter(Fc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class nX{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new uf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class H_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new qn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new nX(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new uf(this._firestore,r))})}isEqual(e){return AO(this._delegate,e._delegate)}}class Bd extends qn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $r(this.firestore,e):null}doc(e){try{return e===void 0?new $r(this.firestore,qe(this._delegate)):new $r(this.firestore,qe(this._delegate,e))}catch(n){throw Hn(n,"doc()","CollectionReference.doc()")}}add(e){return H0(this._delegate,e).then(n=>new $r(this.firestore,n))}isEqual(e){return gO(this._delegate,e._delegate)}withConverter(e){return new Bd(this.firestore,e?this._delegate.withConverter(Fc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function lc(t){return He(t,Et)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(...e){this._delegate=new ia(...e)}static documentId(){return new uS(vt.keyField().canonicalString())}isEqual(e){return e=de(e),e instanceof ia?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this._delegate=e}static serverTimestamp(){const e=ir();return e._methodName="FieldValue.serverTimestamp",new Xa(e)}static delete(){const e=KQ();return e._methodName="FieldValue.delete",new Xa(e)}static arrayUnion(...e){const n=YQ(...e);return n._methodName="FieldValue.arrayUnion",new Xa(n)}static arrayRemove(...e){const n=QQ(...e);return n._methodName="FieldValue.arrayRemove",new Xa(n)}static increment(e){const n=RO(e);return n._methodName="FieldValue.increment",new Xa(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX={Firestore:NO,GeoPoint:nb,Timestamp:ie,Blob:DO,Transaction:$O,WriteBatch:OO,DocumentReference:$r,DocumentSnapshot:df,Query:qn,QueryDocumentSnapshot:uf,QuerySnapshot:H_,CollectionReference:Bd,FieldPath:uS,FieldValue:Xa,setLogLevel:tX,CACHE_SIZE_UNLIMITED:bQ};function oX(t,e){t.INTERNAL.registerComponent(new Zt("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),o=n.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},rX)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(t){oX(t,(e,n)=>new NO(e,n,new eX)),t.registerVersion(XQ,JQ)}iX(nr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="firebasestorage.googleapis.com",VO="storageBucket",sX=2*60*1e3,aX=10*60*1e3,cX=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends yn{constructor(e,n,r=0){super(Yy(e),`Firebase Storage: ${n} (${Yy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Yy(t){return"storage/"+t}function hS(){const t="An unknown error occurred, please check the error payload for server response.";return new St(pt.UNKNOWN,t)}function lX(t){return new St(pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function dX(t){return new St(pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uX(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(pt.UNAUTHENTICATED,t)}function hX(){return new St(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pX(t){return new St(pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function zO(){return new St(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BO(){return new St(pt.CANCELED,"User canceled the upload/download.")}function fX(t){return new St(pt.INVALID_URL,"Invalid URL '"+t+"'.")}function mX(t){return new St(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gX(){return new St(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VO+"' property when initializing the app?")}function UO(){return new St(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vX(){return new St(pt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function xX(){return new St(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bX(t){return new St(pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function pd(t){return new St(pt.INVALID_ARGUMENT,t)}function qO(){return new St(pt.APP_DELETED,"The Firebase app was deleted.")}function WO(t){return new St(pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bp(t,e){return new St(pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ju(t){throw new St(pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Rn.makeFromUrl(e,n)}catch{return new Rn(e,"")}if(r.path==="")return r;throw mX(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+o+a,"i"),l={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",u=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",v=new RegExp(`^https?://${u}/${h}/b/${o}/o${f}`,"i"),x={bucket:1,path:3},y=n===LO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${y}/${o}/${_}`,"i"),I=[{regex:c,indices:l,postModify:i},{regex:v,indices:x,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<I.length;j++){const D=I[j],$=D.regex.exec(e);if($){const k=$[D.indices.bucket];let S=$[D.indices.path];S||(S=""),r=new Rn(k,S),D.postModify(r);break}}if(r==null)throw fX(e);return r}}class yX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(t,e,n){let r=1,o=null,i=null,a=!1,c=0;function l(){return c===2}let d=!1;function h(..._){d||(d=!0,e.apply(null,_))}function u(_){o=setTimeout(()=>{o=null,t(v,l())},_)}function f(){i&&clearTimeout(i)}function v(_,...w){if(d){f();return}if(_){f(),h.call(null,_,...w);return}if(l()||a){f(),h.call(null,_,...w);return}r<64&&(r*=2);let I;c===1?(c=2,I=0):I=(r+Math.random())*1e3,u(I)}let x=!1;function y(_){x||(x=!0,f(),!d&&(o!==null?(_||(c=2),clearTimeout(o),u(0)):_||(c=1)))}return u(0),i=setTimeout(()=>{a=!0,y(!0)},n),y}function _X(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t){return t!==void 0}function TX(t){return typeof t=="function"}function IX(t){return typeof t=="object"&&!Array.isArray(t)}function hb(t){return typeof t=="string"||t instanceof String}function xA(t){return pS()&&t instanceof Blob}function pS(){return typeof Blob<"u"}function G_(t,e,n,r){if(r<e)throw pd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function HO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var xc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xc||(xc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||o||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(e,n,r,o,i,a,c,l,d,h,u,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=u,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,x)=>{this.resolve_=v,this.reject_=x,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Wm(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=c=>{const l=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const c=i.getErrorCode()===xc.NO_ERROR,l=i.getStatus();if(!c||GO(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===xc.ABORT;r(!1,new Wm(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new Wm(d,i))})},n=(r,o)=>{const i=this.resolve_,a=this.reject_,c=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(c,c.getResponse());EX(l)?i(l):i()}catch(l){a(l)}else if(c!==null){const l=hS();l.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,l)):a(l)}else if(o.canceled){const l=this.appDelete_?qO():BO();a(l)}else{const l=zO();a(l)}};this.canceled_?n(!1,new Wm(!1,null,!0)):this.backoffId_=wX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_X(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function kX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function CX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PX(t,e,n,r,o,i,a=!0){const c=HO(t.urlParams),l=t.url+c,d=Object.assign({},t.headers);return jX(d,e),kX(d,n),CX(d,i),AX(d,r),new SX(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DX(...t){const e=RX();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pS())return new Blob(t);throw new St(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(t){if(typeof atob>"u")throw bX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qy{constructor(e,n){this.data=e,this.contentType=n||null}}function KO(t,e){switch(t){case Or.RAW:return new Qy(YO(e));case Or.BASE64:case Or.BASE64URL:return new Qy(QO(t,e));case Or.DATA_URL:return new Qy(FX(e),MX(e))}throw hS()}function YO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,a=t.charCodeAt(++n);r=65536|(i&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OX(t){let e;try{e=decodeURIComponent(t)}catch{throw bp(Or.DATA_URL,"Malformed data URL.")}return YO(e)}function QO(t,e){switch(t){case Or.BASE64:{const o=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(o||i)throw bp(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const o=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(o||i)throw bp(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=$X(e)}catch(o){throw o.message.includes("polyfill")?o:bp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class XO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bp(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=LX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function FX(t){const e=new XO(t);return e.base64?QO(Or.BASE64,e.rest):OX(e.rest)}function MX(t){return new XO(t).contentType}function LX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){let r=0,o="";xA(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(xA(this.data_)){const r=this.data_,o=NX(r,e,n);return o===null?null:new ai(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ai(r,!0)}}static getBlob(...e){if(pS()){const n=e.map(r=>r instanceof ai?r.data_:r);return new ai(DX.apply(null,n))}else{const n=e.map(a=>hb(a)?KO(Or.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const o=new Uint8Array(r);let i=0;return n.forEach(a=>{for(let c=0;c<a.length;c++)o[i++]=a[c]}),new ai(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t){let e;try{e=JSON.parse(t)}catch{return null}return IX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function JO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(t,e){return e}class Fn{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||BX}}let Hm=null;function UX(t){return!hb(t)||t.length<2?t:JO(t)}function pb(){if(Hm)return Hm;const t=[];t.push(new Fn("bucket")),t.push(new Fn("generation")),t.push(new Fn("metageneration")),t.push(new Fn("name","fullPath",!0));function e(i,a){return UX(a)}const n=new Fn("name");n.xform=e,t.push(n);function r(i,a){return a!==void 0?Number(a):a}const o=new Fn("size");return o.xform=r,t.push(o),t.push(new Fn("timeCreated")),t.push(new Fn("updated")),t.push(new Fn("md5Hash",null,!0)),t.push(new Fn("cacheControl",null,!0)),t.push(new Fn("contentDisposition",null,!0)),t.push(new Fn("contentEncoding",null,!0)),t.push(new Fn("contentLanguage",null,!0)),t.push(new Fn("contentType",null,!0)),t.push(new Fn("metadata","customMetadata",!0)),Hm=t,Hm}function qX(t,e){function n(){const r=t.bucket,o=t.fullPath,i=new Rn(r,o);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function WX(t,e,n){const r={};r.type="file";const o=n.length;for(let i=0;i<o;i++){const a=n[i];r[a.local]=a.xform(r,e[a.server])}return qX(r,t),r}function ZO(t,e,n){const r=fS(e);return r===null?null:WX(t,r,n)}function HX(t,e,n,r){const o=fS(e);if(o===null||!hb(o.downloadTokens))return null;const i=o.downloadTokens;if(i.length===0)return null;const a=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,u=t.fullPath,f="/b/"+a(h)+"/o/"+a(u),v=Ta(f,n,r),x=HO({alt:"media",token:d});return v+x})[0]}function mS(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const i=e[o];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="prefixes",yA="items";function GX(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[bA])for(const o of n[bA]){const i=o.replace(/\/$/,""),a=t._makeStorageReference(new Rn(e,i));r.prefixes.push(a)}if(n[yA])for(const o of n[yA]){const i=t._makeStorageReference(new Rn(e,o.name));r.items.push(i)}return r}function KX(t,e,n){const r=fS(n);return r===null?null:GX(t,e,r)}class Fi{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){if(!t)throw hS()}function fb(t,e){function n(r,o){const i=ZO(t,o,e);return No(i!==null),i}return n}function YX(t,e){function n(r,o){const i=KX(t,e,o);return No(i!==null),i}return n}function QX(t,e){function n(r,o){const i=ZO(t,o,e);return No(i!==null),HX(i,o,t.host,t._protocol)}return n}function xu(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=hX():o=uX():n.getStatus()===402?o=dX(t.bucket):n.getStatus()===403?o=pX(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function mb(t){const e=xu(t);function n(r,o){let i=e(r,o);return r.getStatus()===404&&(i=lX(t.path)),i.serverResponse=o.serverResponse,i}return n}function eF(t,e,n){const r=e.fullServerUrl(),o=Ta(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,c=new Fi(o,i,fb(t,n),a);return c.errorHandler=mb(e),c}function XX(t,e,n,r,o){const i={};e.isRoot?i.prefix="":i.prefix=e.path+"/",n.length>0&&(i.delimiter=n),r&&(i.pageToken=r),o&&(i.maxResults=o);const a=e.bucketOnlyServerUrl(),c=Ta(a,t.host,t._protocol),l="GET",d=t.maxOperationRetryTime,h=new Fi(c,l,YX(t,e.bucket),d);return h.urlParams=i,h.errorHandler=xu(e),h}function JX(t,e,n){const r=e.fullServerUrl(),o=Ta(r,t.host,t._protocol),i="GET",a=t.maxOperationRetryTime,c=new Fi(o,i,QX(t,n),a);return c.errorHandler=mb(e),c}function ZX(t,e,n,r){const o=e.fullServerUrl(),i=Ta(o,t.host,t._protocol),a="PATCH",c=mS(n,r),l={"Content-Type":"application/json; charset=utf-8"},d=t.maxOperationRetryTime,h=new Fi(i,a,fb(t,r),d);return h.headers=l,h.body=c,h.errorHandler=mb(e),h}function eJ(t,e){const n=e.fullServerUrl(),r=Ta(n,t.host,t._protocol),o="DELETE",i=t.maxOperationRetryTime;function a(l,d){}const c=new Fi(r,o,a,i);return c.successCodes=[200,204],c.errorHandler=mb(e),c}function tJ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function tF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=tJ(null,e)),r}function nJ(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){let I="";for(let j=0;j<2;j++)I=I+Math.random().toString().slice(2);return I}const l=c();a["Content-Type"]="multipart/related; boundary="+l;const d=tF(e,r,o),h=mS(d,n),u="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+l+"--",v=ai.getBlob(u,r,f);if(v===null)throw UO();const x={name:d.fullPath},y=Ta(i,t.host,t._protocol),_="POST",w=t.maxUploadRetryTime,E=new Fi(y,_,fb(t,n),w);return E.urlParams=x,E.headers=a,E.body=v.uploadData(),E.errorHandler=xu(e),E}class G0{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function gS(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{No(!1)}return No(!!n&&(e||["active"]).indexOf(n)!==-1),n}function rJ(t,e,n,r,o){const i=e.bucketOnlyServerUrl(),a=tF(e,r,o),c={name:a.fullPath},l=Ta(i,t.host,t._protocol),d="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},u=mS(a,n),f=t.maxUploadRetryTime;function v(y){gS(y);let _;try{_=y.getResponseHeader("X-Goog-Upload-URL")}catch{No(!1)}return No(hb(_)),_}const x=new Fi(l,d,v,f);return x.urlParams=c,x.headers=h,x.body=u,x.errorHandler=xu(e),x}function oJ(t,e,n,r){const o={"X-Goog-Upload-Command":"query"};function i(d){const h=gS(d,["active","final"]);let u=null;try{u=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{No(!1)}u||No(!1);const f=Number(u);return No(!isNaN(f)),new G0(f,r.size(),h==="final")}const a="POST",c=t.maxUploadRetryTime,l=new Fi(n,a,i,c);return l.headers=o,l.errorHandler=xu(e),l}const wA=256*1024;function iJ(t,e,n,r,o,i,a,c){const l=new G0(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw vX();const d=l.total-l.current;let h=d;o>0&&(h=Math.min(h,o));const u=l.current,f=u+h;let v="";h===0?v="finalize":d===h?v="upload, finalize":v="upload";const x={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${l.current}`},y=r.slice(u,f);if(y===null)throw UO();function _(j,D){const $=gS(j,["active","final"]),k=l.current+h,S=r.size();let C;return $==="final"?C=fb(e,i)(j,D):C=null,new G0(k,S,$==="final",C)}const w="POST",E=e.maxUploadRetryTime,I=new Fi(n,w,_,E);return I.headers=x,I.body=y.uploadData(),I.progressCallback=c||null,I.errorHandler=xu(t),I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ={STATE_CHANGED:"state_changed"},Gn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xy(t){switch(t){case"running":case"pausing":case"canceling":return Gn.RUNNING;case"paused":return Gn.PAUSED;case"success":return Gn.SUCCESS;case"canceled":return Gn.CANCELED;case"error":return Gn.ERROR;default:return Gn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aJ{constructor(e,n,r){if(TX(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class cJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o){if(this.sent_)throw Ju("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ju("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ju("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ju("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ju("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lJ extends cJ{initXhr(){this.xhr_.responseType="text"}}function To(){return new lJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=pb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(pt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(GO(o.status,[]))if(i)o=zO();else{this.sleepTime=Math.max(this.sleepTime*2,cX),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(pt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,i)=>{this._resolve=o,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=rJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,To,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=oJ(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(o,To,n,r);this._request=i,i.getPromise().then(a=>{a=a,this._request=void 0,this._updateProgress(a.current),this._needToFetchStatus=!1,a.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=wA*this._chunkMultiplier,n=new G0(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,i)=>{let a;try{a=iJ(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const c=this._ref.storage._makeRequest(a,To,o,i,!1);this._request=c,c.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){wA*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=eF(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,To,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=nJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,To,e,n);this._request=o,o.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=BO(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Xy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const i=new aJ(n||void 0,r||void 0,o||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Xy(this._state)){case Gn.SUCCESS:ml(this._resolve.bind(null,this.snapshot))();break;case Gn.CANCELED:case Gn.ERROR:const n=this._reject;ml(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Xy(this._state)){case Gn.RUNNING:case Gn.PAUSED:e.next&&ml(e.next.bind(e,this.snapshot))();break;case Gn.SUCCESS:e.complete&&ml(e.complete.bind(e))();break;case Gn.CANCELED:case Gn.ERROR:e.error&&ml(e.error.bind(e,this._error))();break;default:e.error&&ml(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this._service=e,n instanceof Rn?this._location=n:this._location=Rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Mc(e,n)}get root(){const e=new Rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JO(this._location.path)}get storage(){return this._service}get parent(){const e=VX(this._location.path);if(e===null)return null;const n=new Rn(this._location.bucket,e);return new Mc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WO(e)}}function dJ(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new nF(t,new ai(e),n)}function uJ(t){const e={prefixes:[],items:[]};return rF(t,e).then(()=>e)}async function rF(t,e,n){const o=await oF(t,{pageToken:n});e.prefixes.push(...o.prefixes),e.items.push(...o.items),o.nextPageToken!=null&&await rF(t,e,o.nextPageToken)}function oF(t,e){e!=null&&typeof e.maxResults=="number"&&G_("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=XX(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,To)}function hJ(t){t._throwIfRoot("getMetadata");const e=eF(t.storage,t._location,pb());return t.storage.makeRequestWithTokens(e,To)}function pJ(t,e){t._throwIfRoot("updateMetadata");const n=ZX(t.storage,t._location,e,pb());return t.storage.makeRequestWithTokens(n,To)}function fJ(t){t._throwIfRoot("getDownloadURL");const e=JX(t.storage,t._location,pb());return t.storage.makeRequestWithTokens(e,To).then(n=>{if(n===null)throw xX();return n})}function mJ(t){t._throwIfRoot("deleteObject");const e=eJ(t.storage,t._location);return t.storage.makeRequestWithTokens(e,To)}function iF(t,e){const n=zX(t._location.path,e),r=new Rn(t._location.bucket,n);return new Mc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(t){return/^[A-Za-z]+:\/\//.test(t)}function vJ(t,e){return new Mc(t,e)}function sF(t,e){if(t instanceof vS){const n=t;if(n._bucket==null)throw gX();const r=new Mc(n,n._bucket);return e!=null?sF(r,e):r}else return e!==void 0?iF(t,e):t}function xJ(t,e){if(e&&gJ(e)){if(t instanceof vS)return vJ(t,e);throw pd("To use ref(service, url), the first argument must be a Storage instance.")}else return sF(t,e)}function _A(t,e){const n=e==null?void 0:e[VO];return n==null?null:Rn.makeFromBucketSpec(n,t)}function bJ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:K4(o,t.app.options.projectId))}class vS{constructor(e,n,r,o,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=i,this._bucket=null,this._host=LO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sX,this._maxUploadRetryTime=aX,this._requests=new Set,o!=null?this._bucket=Rn.makeFromBucketSpec(o,this._host):this._bucket=_A(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,e):this._bucket=_A(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){G_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){G_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Mc(this,e)}_makeRequest(e,n,r,o,i=!0){if(this._deleted)return new yX(qO());{const a=PX(e,this._appId,r,o,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const EA="@firebase/storage",TA="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ="storage";function aF(t,e,n){return t=de(t),dJ(t,e,n)}function wJ(t){return t=de(t),hJ(t)}function _J(t,e){return t=de(t),pJ(t,e)}function EJ(t,e){return t=de(t),oF(t,e)}function TJ(t){return t=de(t),uJ(t)}function cF(t){return t=de(t),fJ(t)}function IJ(t){return t=de(t),mJ(t)}function K_(t,e){return t=de(t),xJ(t,e)}function SJ(t,e){return iF(t,e)}function kJ(t,e,n,r={}){bJ(t,e,n,r)}function CJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new vS(n,r,o,e,Pi)}function jJ(){Nn(new Zt(yJ,CJ,"PUBLIC").setMultipleInstances(!0)),hn(EA,TA,""),hn(EA,TA,"esm2017")}jJ();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Gm(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Gm(r,this,this._ref))},n)}on(e,n,r,o){let i;return n&&(typeof n=="function"?i=a=>n(new Gm(a,this,this._ref)):i={next:n.next?a=>n.next(new Gm(a,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,i,r||void 0,o||void 0)}}class SA{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new xi(e,this._service))}get items(){return this._delegate.items.map(e=>new xi(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=SJ(this._delegate,e);return new xi(n,this.storage)}get root(){return new xi(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new xi(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new IA(aF(this._delegate,e,n),this)}putString(e,n=Or.RAW,r){this._throwIfRoot("putString");const o=KO(n,e),i=Object.assign({},r);return i.contentType==null&&o.contentType!=null&&(i.contentType=o.contentType),new IA(new nF(this._delegate,new ai(o.data,!0),i),this)}listAll(){return TJ(this._delegate).then(e=>new SA(e,this.storage))}list(e){return EJ(this._delegate,e||void 0).then(n=>new SA(n,this.storage))}getMetadata(){return wJ(this._delegate)}updateMetadata(e){return _J(this._delegate,e)}getDownloadURL(){return cF(this._delegate)}delete(){return this._throwIfRoot("delete"),IJ(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw WO(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(kA(e))throw pd("ref() expected a child path but got a URL, use refFromURL instead.");return new xi(K_(this._delegate,e),this)}refFromURL(e){if(!kA(e))throw pd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Rn.makeFromUrl(e,this._delegate.host)}catch{throw pd("refFromUrl() expected a valid full URL but got an invalid one.")}return new xi(K_(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){kJ(this._delegate,e,n,r)}}function kA(t){return/^[A-Za-z]+:\/\//.test(t)}const AJ="@firebase/storage-compat",PJ="0.3.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RJ="storage-compat";function DJ(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new lF(n,r)}function NJ(t){const e={TaskState:Gn,TaskEvent:sJ,StringFormat:Or,Storage:lF,Reference:xi};t.INTERNAL.registerComponent(new Zt(RJ,DJ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(AJ,PJ)}NJ(nr);const dF="@firebase/installations",xS="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=1e4,hF=`w:${xS}`,pF="FIS_v2",$J="https://firebaseinstallations.googleapis.com/v1",OJ=60*60*1e3,FJ="installations",MJ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Lc=new so(FJ,MJ,LJ);function fF(t){return t instanceof yn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF({projectId:t}){return`${$J}/projects/${t}/installations`}function gF(t){return{token:t.token,requestStatus:2,expiresIn:zJ(t.expiresIn),creationTime:Date.now()}}async function vF(t,e){const r=(await e.json()).error;return Lc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function xF({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function VJ(t,{refreshToken:e}){const n=xF(t);return n.append("Authorization",BJ(e)),n}async function bF(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zJ(t){return Number(t.replace("s","000"))}function BJ(t){return`${pF} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UJ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=mF(t),o=xF(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const a={fid:n,authVersion:pF,appId:t.appId,sdkVersion:hF},c={method:"POST",headers:o,body:JSON.stringify(a)},l=await bF(()=>fetch(r,c));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:gF(d.authToken)}}else throw await vF("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ=/^[cdef][\w-]{21}$/,Y_="";function HJ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=GJ(t);return WJ.test(n)?n:Y_}catch{return Y_}}function GJ(t){return qJ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=new Map;function _F(t,e){const n=gb(t);EF(n,e),KJ(n,e)}function EF(t,e){const n=wF.get(t);if(n)for(const r of n)r(e)}function KJ(t,e){const n=YJ();n&&n.postMessage({key:t,fid:e}),QJ()}let dc=null;function YJ(){return!dc&&"BroadcastChannel"in self&&(dc=new BroadcastChannel("[Firebase] FID Change"),dc.onmessage=t=>{EF(t.data.key,t.data.fid)}),dc}function QJ(){wF.size===0&&dc&&(dc.close(),dc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ="firebase-installations-database",JJ=1,Vc="firebase-installations-store";let Jy=null;function bS(){return Jy||(Jy=ou(XJ,JJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vc)}}})),Jy}async function K0(t,e){const n=gb(t),o=(await bS()).transaction(Vc,"readwrite"),i=o.objectStore(Vc),a=await i.get(n);return await i.put(e,n),await o.done,(!a||a.fid!==e.fid)&&_F(t,e.fid),e}async function TF(t){const e=gb(t),r=(await bS()).transaction(Vc,"readwrite");await r.objectStore(Vc).delete(e),await r.done}async function vb(t,e){const n=gb(t),o=(await bS()).transaction(Vc,"readwrite"),i=o.objectStore(Vc),a=await i.get(n),c=e(a);return c===void 0?await i.delete(n):await i.put(c,n),await o.done,c&&(!a||a.fid!==c.fid)&&_F(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(t){let e;const n=await vb(t.appConfig,r=>{const o=ZJ(r),i=eZ(t,o);return e=i.registrationPromise,i.installationEntry});return n.fid===Y_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ZJ(t){const e=t||{fid:HJ(),registrationStatus:0};return IF(e)}function eZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Lc.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tZ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nZ(t)}:{installationEntry:e}}async function tZ(t,e){try{const n=await UJ(t,e);return K0(t.appConfig,n)}catch(n){throw fF(n)&&n.customData.serverCode===409?await TF(t.appConfig):await K0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nZ(t){let e=await CA(t.appConfig);for(;e.registrationStatus===1;)await yF(100),e=await CA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await yS(t);return r||n}return e}function CA(t){return vb(t,e=>{if(!e)throw Lc.create("installation-not-found");return IF(e)})}function IF(t){return rZ(t)?{fid:t.fid,registrationStatus:0}:t}function rZ(t){return t.registrationStatus===1&&t.registrationTime+uF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oZ({appConfig:t,heartbeatServiceProvider:e},n){const r=iZ(t,n),o=VJ(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}const a={installation:{sdkVersion:hF,appId:t.appId}},c={method:"POST",headers:o,body:JSON.stringify(a)},l=await bF(()=>fetch(r,c));if(l.ok){const d=await l.json();return gF(d)}else throw await vF("Generate Auth Token",l)}function iZ(t,{fid:e}){return`${mF(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(t,e=!1){let n;const r=await vb(t.appConfig,i=>{if(!SF(i))throw Lc.create("not-registered");const a=i.authToken;if(!e&&cZ(a))return i;if(a.requestStatus===1)return n=sZ(t,e),i;{if(!navigator.onLine)throw Lc.create("app-offline");const c=dZ(i);return n=aZ(t,c),c}});return n?await n:r.authToken}async function sZ(t,e){let n=await jA(t.appConfig);for(;n.authToken.requestStatus===1;)await yF(100),n=await jA(t.appConfig);const r=n.authToken;return r.requestStatus===0?wS(t,e):r}function jA(t){return vb(t,e=>{if(!SF(e))throw Lc.create("not-registered");const n=e.authToken;return uZ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function aZ(t,e){try{const n=await oZ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await K0(t.appConfig,r),n}catch(n){if(fF(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TF(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await K0(t.appConfig,r)}throw n}}function SF(t){return t!==void 0&&t.registrationStatus===2}function cZ(t){return t.requestStatus===2&&!lZ(t)}function lZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+OJ}function dZ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function uZ(t){return t.requestStatus===1&&t.requestTime+uF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hZ(t){const e=t,{installationEntry:n,registrationPromise:r}=await yS(e);return r?r.catch(console.error):wS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pZ(t,e=!1){const n=t;return await fZ(n),(await wS(n,e)).token}async function fZ(t){const{registrationPromise:e}=await yS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(t){if(!t||!t.options)throw Zy("App Configuration");if(!t.name)throw Zy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Zy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Zy(t){return Lc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF="installations",gZ="installations-internal",vZ=t=>{const e=t.getProvider("app").getImmediate(),n=mZ(e),r=Px(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xZ=t=>{const e=t.getProvider("app").getImmediate(),n=Px(e,kF).getImmediate();return{getId:()=>hZ(n),getToken:o=>pZ(n,o)}};function bZ(){Nn(new Zt(kF,vZ,"PUBLIC")),Nn(new Zt(gZ,xZ,"PRIVATE"))}bZ();hn(dF,xS);hn(dF,xS,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yZ="/firebase-messaging-sw.js",wZ="/firebase-cloud-messaging-push-scope",CF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_Z="https://fcmregistrations.googleapis.com/v1",jF="google.c.a.c_id",EZ="google.c.a.c_l",TZ="google.c.a.ts",IZ="google.c.a.e";var AA;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(AA||(AA={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var hf;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(hf||(hf={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function SZ(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),o=new Uint8Array(r.length);for(let i=0;i<r.length;++i)o[i]=r.charCodeAt(i);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="fcm_token_details_db",kZ=5,PA="fcm_token_object_Store";async function CZ(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(e1))return null;let e=null;return(await ou(e1,kZ,{upgrade:async(r,o,i,a)=>{var c;if(o<2||!r.objectStoreNames.contains(PA))return;const l=a.objectStore(PA),d=await l.index("fcmSenderId").get(t);if(await l.clear(),!!d){if(o===2){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:(c=h.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:ri(h.vapidKey)}}}else if(o===3){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:ri(h.auth),p256dh:ri(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:ri(h.vapidKey)}}}else if(o===4){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:ri(h.auth),p256dh:ri(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:ri(h.vapidKey)}}}}}})).close(),await sd(e1),await sd("fcm_vapid_details_db"),await sd("undefined"),jZ(e)?e:null}function jZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ="firebase-messaging-database",PZ=1,zc="firebase-messaging-store";let t1=null;function _S(){return t1||(t1=ou(AZ,PZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zc)}}})),t1}async function AF(t){const e=TS(t),r=await(await _S()).transaction(zc).objectStore(zc).get(e);if(r)return r;{const o=await CZ(t.appConfig.senderId);if(o)return await ES(t,o),o}}async function ES(t,e){const n=TS(t),o=(await _S()).transaction(zc,"readwrite");return await o.objectStore(zc).put(e,n),await o.done,e}async function RZ(t){const e=TS(t),r=(await _S()).transaction(zc,"readwrite");await r.objectStore(zc).delete(e),await r.done}function TS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Xn=new so("messaging","Messaging",DZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NZ(t,e){const n=await SS(t),r=RF(e),o={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(IS(t.appConfig),o)).json()}catch(a){throw Xn.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(i.error){const a=i.error.message;throw Xn.create("token-subscribe-failed",{errorInfo:a})}if(!i.token)throw Xn.create("token-subscribe-no-token");return i.token}async function $Z(t,e){const n=await SS(t),r=RF(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${IS(t.appConfig)}/${e.token}`,o)).json()}catch(a){throw Xn.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(i.error){const a=i.error.message;throw Xn.create("token-update-failed",{errorInfo:a})}if(!i.token)throw Xn.create("token-update-no-token");return i.token}async function PF(t,e){const r={method:"DELETE",headers:await SS(t)};try{const i=await(await fetch(`${IS(t.appConfig)}/${e}`,r)).json();if(i.error){const a=i.error.message;throw Xn.create("token-unsubscribe-failed",{errorInfo:a})}}catch(o){throw Xn.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function IS({projectId:t}){return`${_Z}/projects/${t}/registrations`}async function SS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function RF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const o={web:{endpoint:n,auth:e,p256dh:t}};return r!==CF&&(o.web.applicationPubKey=r),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ=7*24*60*60*1e3;async function FZ(t){const e=await VZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ri(e.getKey("auth")),p256dh:ri(e.getKey("p256dh"))},r=await AF(t.firebaseDependencies);if(r){if(zZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+OZ?LZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await PF(t.firebaseDependencies,r.token)}catch(o){console.warn(o)}return RA(t.firebaseDependencies,n)}else return RA(t.firebaseDependencies,n)}async function MZ(t){const e=await AF(t.firebaseDependencies);e&&(await PF(t.firebaseDependencies,e.token),await RZ(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function LZ(t,e){try{const n=await $Z(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await ES(t.firebaseDependencies,r),n}catch(n){throw n}}async function RA(t,e){const r={token:await NZ(t,e),createTime:Date.now(),subscriptionOptions:e};return await ES(t,r),r.token}async function VZ(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:SZ(e)})}function zZ(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,o=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&o&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return BZ(e,t),UZ(e,t),qZ(e,t),e}function BZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const o=e.notification.image;o&&(t.notification.image=o);const i=e.notification.icon;i&&(t.notification.icon=i)}function UZ(t,e){e.data&&(t.data=e.data)}function qZ(t,e){var n,r,o,i,a;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const c=(o=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&o!==void 0?o:(i=e.notification)===null||i===void 0?void 0:i.click_action;c&&(t.fcmOptions.link=c);const l=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WZ(t){return typeof t=="object"&&!!t&&jF in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HZ(t){if(!t||!t.options)throw n1("App Configuration Object");if(!t.name)throw n1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw n1(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function n1(t){return Xn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GZ=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=HZ(e);this.firebaseDependencies={app:e,appConfig:o,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DF(t){try{t.swRegistration=await navigator.serviceWorker.register(yZ,{scope:wZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KZ(t,e){if(!e&&!t.swRegistration&&await DF(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YZ(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=CF)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e){if(!navigator)throw Xn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Xn.create("permission-blocked");return await YZ(t,e==null?void 0:e.vapidKey),await KZ(t,e==null?void 0:e.serviceWorkerRegistration),FZ(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QZ(t,e,n){const r=XZ(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[jF],message_name:n[EZ],message_time:n[TZ],message_device_time:Math.floor(Date.now()/1e3)})}function XZ(t){switch(t){case hf.NOTIFICATION_CLICKED:return"notification_open";case hf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JZ(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===hf.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(DA(n)):t.onMessageHandler.next(DA(n)));const r=n.data;WZ(r)&&r[IZ]==="1"&&await QZ(t,n.messageType,r)}const NA="@firebase/messaging",$A="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=t=>{const e=new GZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>JZ(e,n)),e},eee=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>NF(e,r)}};function tee(){Nn(new Zt("messaging",ZZ,"PUBLIC")),Nn(new Zt("messaging-internal",eee,"PRIVATE")),hn(NA,$A),hn(NA,$A,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nee(t){if(!navigator)throw Xn.create("only-available-in-window");return t.swRegistration||await DF(t),MZ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ree(t,e){if(!navigator)throw Xn.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function oee(t,e){return t=de(t),NF(t,e)}function iee(t){return t=de(t),nee(t)}function see(t,e){return t=de(t),ree(t,e)}tee();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",aee="https://fcmregistrations.googleapis.com/v1",OF="FCM_MSG",cee="google.c.a.c_id",lee=3,dee=1;var Y0;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Y0||(Y0={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Q0;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Q0||(Q0={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uee(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),o=new Uint8Array(r.length);for(let i=0;i<r.length;++i)o[i]=r.charCodeAt(i);return o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="fcm_token_details_db",hee=5,OA="fcm_token_object_Store";async function pee(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(r1))return null;let e=null;return(await ou(r1,hee,{upgrade:async(r,o,i,a)=>{var c;if(o<2||!r.objectStoreNames.contains(OA))return;const l=a.objectStore(OA),d=await l.index("fcmSenderId").get(t);if(await l.clear(),!!d){if(o===2){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:(c=h.createTime)!==null&&c!==void 0?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:typeof h.vapidKey=="string"?h.vapidKey:oi(h.vapidKey)}}}else if(o===3){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:oi(h.auth),p256dh:oi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:oi(h.vapidKey)}}}else if(o===4){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:oi(h.auth),p256dh:oi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:oi(h.vapidKey)}}}}}})).close(),await sd(r1),await sd("fcm_vapid_details_db"),await sd("undefined"),fee(e)?e:null}function fee(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee="firebase-messaging-database",gee=1,Bc="firebase-messaging-store";let o1=null;function kS(){return o1||(o1=ou(mee,gee,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bc)}}})),o1}async function CS(t){const e=AS(t),r=await(await kS()).transaction(Bc).objectStore(Bc).get(e);if(r)return r;{const o=await pee(t.appConfig.senderId);if(o)return await jS(t,o),o}}async function jS(t,e){const n=AS(t),o=(await kS()).transaction(Bc,"readwrite");return await o.objectStore(Bc).put(e,n),await o.done,e}async function vee(t){const e=AS(t),r=(await kS()).transaction(Bc,"readwrite");await r.objectStore(Bc).delete(e),await r.done}function AS({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},$o=new so("messaging","Messaging",xee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bee(t,e){const n=await RS(t),r=MF(e),o={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(PS(t.appConfig),o)).json()}catch(a){throw $o.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(i.error){const a=i.error.message;throw $o.create("token-subscribe-failed",{errorInfo:a})}if(!i.token)throw $o.create("token-subscribe-no-token");return i.token}async function yee(t,e){const n=await RS(t),r=MF(e.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${PS(t.appConfig)}/${e.token}`,o)).json()}catch(a){throw $o.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(i.error){const a=i.error.message;throw $o.create("token-update-failed",{errorInfo:a})}if(!i.token)throw $o.create("token-update-no-token");return i.token}async function FF(t,e){const r={method:"DELETE",headers:await RS(t)};try{const i=await(await fetch(`${PS(t.appConfig)}/${e}`,r)).json();if(i.error){const a=i.error.message;throw $o.create("token-unsubscribe-failed",{errorInfo:a})}}catch(o){throw $o.create("token-unsubscribe-failed",{errorInfo:o==null?void 0:o.toString()})}}function PS({projectId:t}){return`${aee}/projects/${t}/registrations`}async function RS({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function MF({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const o={web:{endpoint:n,auth:e,p256dh:t}};return r!==$F&&(o.web.applicationPubKey=r),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee=7*24*60*60*1e3;async function _ee(t){const e=await Tee(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:oi(e.getKey("auth")),p256dh:oi(e.getKey("p256dh"))},r=await CS(t.firebaseDependencies);if(r){if(Iee(r.subscriptionOptions,n))return Date.now()>=r.createTime+wee?Eee(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await FF(t.firebaseDependencies,r.token)}catch(o){console.warn(o)}return MA(t.firebaseDependencies,n)}else return MA(t.firebaseDependencies,n)}async function FA(t){const e=await CS(t.firebaseDependencies);e&&(await FF(t.firebaseDependencies,e.token),await vee(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function Eee(t,e){try{const n=await yee(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await jS(t.firebaseDependencies,r),n}catch(n){throw n}}async function MA(t,e){const r={token:await bee(t,e),createTime:Date.now(),subscriptionOptions:e};return await jS(t,r),r.token}async function Tee(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uee(e)})}function Iee(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,o=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&o&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return kee(e,t),Cee(e,t),jee(e,t),e}function kee(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const o=e.notification.image;o&&(t.notification.image=o);const i=e.notification.icon;i&&(t.notification.icon=i)}function Cee(t,e){e.data&&(t.data=e.data)}function jee(t,e){var n,r,o,i,a;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const c=(o=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&o!==void 0?o:(i=e.notification)===null||i===void 0?void 0:i.click_action;c&&(t.fcmOptions.link=c);const l=(a=e.fcmOptions)===null||a===void 0?void 0:a.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aee(t){return typeof t=="object"&&!!t&&cee in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pee(t){return new Promise(e=>{setTimeout(e,t)})}async function Ree(t,e){const n=Dee(e,await t.firebaseDependencies.installations.getId());Nee(t,n,e.productId)}function Dee(t,e){var n,r;const o={};return t.from&&(o.project_number=t.from),t.fcmMessageId&&(o.message_id=t.fcmMessageId),o.instance_id=e,t.notification?o.message_type=Y0.DISPLAY_NOTIFICATION.toString():o.message_type=Y0.DATA_MESSAGE.toString(),o.sdk_platform=lee.toString(),o.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(o.collapse_key=t.collapse_key),o.event=dee.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(o.analytics_label=(r=t.fcmOptions)===null||r===void 0?void 0:r.analytics_label),o}function Nee(t,e,n){const r={};r.event_time_ms=Math.floor(Date.now()).toString(),r.source_extension_json_proto3=JSON.stringify({messaging_client_event:e}),n&&(r.compliance_data=$ee(n)),t.logEvents.push(r)}function $ee(t){return{privacy_context:{prequest:{origin_associated_product_id:t}}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oee(t,e){var n,r;const{newSubscription:o}=t;if(!o){await FA(e);return}const i=await CS(e.firebaseDependencies);await FA(e),e.vapidKey=(r=(n=i==null?void 0:i.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:$F,await _ee(e)}async function Fee(t,e){const n=Vee(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await Ree(e,n);const r=await LF();if(Bee(r))return Uee(r,n);if(n.notification&&await qee(Lee(n)),!!e&&e.onBackgroundMessageHandler){const o=See(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(o):e.onBackgroundMessageHandler.next(o)}}async function Mee(t){var e,n;const r=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[OF];if(r){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const o=Wee(r);if(!o)return;const i=new URL(o,self.location.href),a=new URL(self.location.origin);if(i.host!==a.host)return;let c=await zee(i);if(c?c=await c.focus():(c=await self.clients.openWindow(o),await Pee(3e3)),!!c)return r.messageType=Q0.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,c.postMessage(r)}function Lee(t){const e=Object.assign({},t.notification);return e.data={[OF]:t},e}function Vee({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function zee(t){const e=await LF();for(const n of e){const r=new URL(n.url,self.location.href);if(t.host===r.host)return n}return null}function Bee(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function Uee(t,e){e.isFirebaseMessaging=!0,e.messageType=Q0.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function LF(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function qee(t){var e;const{actions:n}=t,{maxActions:r}=Notification;return n&&r&&n.length>r&&console.warn(`This browser only supports ${r} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function Wee(t){var e,n,r;const o=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return o||(Aee(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hee(t){if(!t||!t.options)throw i1("App Configuration Object");if(!t.name)throw i1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw i1(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function i1(t){return $o.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=Hee(e);this.firebaseDependencies={app:e,appConfig:o,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee=t=>{const e=new Gee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(Fee(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(Oee(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(Mee(n))}),e};function Yee(){Nn(new Zt("messaging-sw",Kee,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qee(t,e){if(self.document!==void 0)throw $o.create("only-available-in-sw");return t.onBackgroundMessageHandler=e,()=>{t.onBackgroundMessageHandler=null}}function Xee(t,e){return t=de(t),Qee(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yee();const Jee="@firebase/messaging-compat",Zee="0.2.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(){return self&&"ServiceWorkerGlobalScope"in self?nte():tte()}function tte(){return typeof window<"u"&&Qs()&&Oz()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function nte(){return Qs()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}class LA{constructor(e,n){this.app=e,this._delegate=n,this.app=e,this._delegate=n}async getToken(e){return oee(this._delegate,e)}async deleteToken(){return iee(this._delegate)}onMessage(e){return see(this._delegate,e)}onBackgroundMessage(e){return Xee(this._delegate,e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte=t=>self&&"ServiceWorkerGlobalScope"in self?new LA(t.getProvider("app-compat").getImmediate(),t.getProvider("messaging-sw").getImmediate()):new LA(t.getProvider("app-compat").getImmediate(),t.getProvider("messaging").getImmediate()),ote={isSupported:ete};function ite(){nr.INTERNAL.registerComponent(new Zt("messaging-compat",rte,"PUBLIC").setServiceProps(ote))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ite();nr.registerVersion(Jee,Zee);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ste=new Map,ate={activated:!1,tokenObservers:[]};function io(t){return ste.get(t)||Object.assign({},ate)}const VA={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{constructor(e,n,r,o,i){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new c_,this.pending.promise.catch(n=>{}),await lte(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new c_,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function lte(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},X0=new so("appCheck","AppCheck",dte);function VF(t){if(!io(t).activated)throw X0.create("use-before-activation",{appName:t.name})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute="firebase-app-check-database",hte=1,Q_="firebase-app-check-store";let Km=null;function pte(){return Km||(Km=new Promise((t,e)=>{try{const n=indexedDB.open(ute,hte);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var o;e(X0.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(Q_,{keyPath:"compositeKey"})}}}catch(n){e(X0.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Km)}function fte(t,e){return mte(gte(t),e)}async function mte(t,e){const r=(await pte()).transaction(Q_,"readwrite"),i=r.objectStore(Q_).put({compositeKey:t,value:e});return new Promise((a,c)=>{i.onsuccess=l=>{a()},r.onerror=l=>{var d;c(X0.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})}function gte(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new If("@firebase/app-check");function zA(t,e){return Qs()?fte(t,e).catch(n=>{X_.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte={error:"UNKNOWN_ERROR"};function xte(t){return NT.encodeString(JSON.stringify(t),!1)}async function J_(t,e=!1){const n=t.app;VF(n);const r=io(n);let o=r.token,i;if(o&&!Zh(o)&&(r.token=void 0,o=void 0),!o){const l=await r.cachedTokenPromise;l&&(Zh(l)?o=l:await zA(n,void 0))}if(!e&&o&&Zh(o))return{token:o.token};let a=!1;try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),o=await io(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?X_.warn(l.message):X_.error(l),i=l}let c;return o?i?Zh(o)?c={token:o.token,internalError:i}:c=UA(i):(c={token:o.token},r.token=o,await zA(n,o)):c=UA(i),a&&_te(n,c),c}async function bte(t){const e=t.app;VF(e);const{provider:n}=io(e);{const{token:r}=await n.getToken();return{token:r}}}function yte(t,e,n,r){const{app:o}=t,i=io(o),a={next:n,error:r,type:e};if(i.tokenObservers=[...i.tokenObservers,a],i.token&&Zh(i.token)){const c=i.token;Promise.resolve().then(()=>{n({token:c.token}),BA(t)}).catch(()=>{})}i.cachedTokenPromise.then(()=>BA(t))}function zF(t,e){const n=io(t),r=n.tokenObservers.filter(o=>o.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function BA(t){const{app:e}=t,n=io(e);let r=n.tokenRefresher;r||(r=wte(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function wte(t){const{app:e}=t;return new cte(async()=>{const n=io(e);let r;if(n.token?r=await J_(t,!0):r=await J_(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=io(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},VA.RETRIAL_MIN_WAIT,VA.RETRIAL_MAX_WAIT)}function _te(t,e){const n=io(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Zh(t){return t.expireTimeMillis-Date.now()>0}function UA(t){return{token:xte(vte),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=io(this.app);for(const n of e)zF(this.app,n.next);return Promise.resolve()}}function Tte(t,e){return new Ete(t,e)}function Ite(t){return{getToken:e=>J_(t,e),getLimitedUseToken:()=>bte(t),addTokenListener:e=>yte(t,"INTERNAL",e),removeTokenListener:e=>zF(t.app,e)}}const Ste="@firebase/app-check",kte="0.8.8",Cte="app-check",qA="app-check-internal";function jte(){Nn(new Zt(Cte,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Tte(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(qA).initialize()})),Nn(new Zt(qA,t=>{const e=t.getProvider("app-check").getImmediate();return Ite(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),hn(Ste,kte)}jte();const Ate={apiKey:"AIzaSyBnLH-WPXrw6LbXTo6FhHogwjFApEOXIos",authDomain:"petzia-f86b4.firebaseapp.com",projectId:"petzia-f86b4",storageBucket:"petzia-f86b4.firebasestorage.app",messagingSenderId:"375896389326",appId:"1:375896389326:web:dddf24146bf368fc88029f",measurementId:"G-SZJ3S8XPKT"};nr.initializeApp(Ate);nr.messaging();const Re=nr.firestore(),aa=nr.auth(),Pte=nr.storage(),Ml=nr.firestore.FieldValue.serverTimestamp(),Rte=new nr.auth.GoogleAuthProvider,xb=g.createContext(),Dte=()=>{const t=g.useContext(xb);if(!t)throw new Error("useAuthContext must be used within an AuthContextProvider");return t},Nte=(t,e)=>{switch(e.type){case"LOGIN":return{...t,user:e.payload};case"LOGOUT":return{...t,user:null};case"AUTH_IS_READY":return{...t,user:e.payload,authIsReady:!0};default:return t}};function $te({children:t}){const[e,n]=g.useReducer(Nte,{user:null,authIsReady:!1});g.useEffect(()=>{const o=Fq(aa,i=>{console.log("Auth state changed:",i?"User logged in":"No user"),n({type:"AUTH_IS_READY",payload:i})});return()=>o()},[]),console.log("AuthContext state:",e);const r=async()=>{try{await aa.signOut(),n({type:"LOGOUT"})}catch(o){throw console.error("Error logging out:",o),o}};return s.jsx(xb.Provider,{value:{...e,dispatch:n,logout:r},children:t})}const Ee=()=>{const t=g.useContext(xb);if(!t)throw Error("useAuthContext must be inside an AuthContextProvider.");return t},BF=g.createContext(),Ote=({children:t})=>{const[e,n]=g.useState(!1),[r,o]=g.useState(!0),{user:i}=Ee();g.useEffect(()=>{(async()=>{if(!i){o(!1);return}try{const d=qe(Re,"onboarding_data",i.uid),h=await gi(d);h.exists()&&h.data().completed?n(!0):n(!1)}catch(d){console.error("Erro ao verificar status do onboarding:",d),n(!1)}finally{o(!1)}})()},[i]);const a=async l=>{if(i)try{const d=qe(Re,"onboarding_data",i.uid);await vi(d,{...l,userId:i.uid,completed:!0,completedAt:ie.now()});const h=qe(Re,"dashboards",i.uid);return await vi(h,{petName:l.petName||""},{merge:!0}),n(!0),!0}catch(d){throw console.error("Erro ao salvar dados do onboarding:",d),d}},c=async()=>{if(i)try{const l=qe(Re,"onboarding_data",i.uid);return await vi(l,{userId:i.uid,completed:!1,resetAt:ie.now()}),localStorage.removeItem("onboarding_progress"),localStorage.removeItem("onboarding_completed"),n(!1),!0}catch(l){throw console.error("Erro ao resetar onboarding:",l),l}};return s.jsx(BF.Provider,{value:{onboardingCompleted:e,loading:r,completeOnboarding:a,resetOnboarding:c},children:t})},Hf=()=>{const t=g.useContext(BF);if(!t)throw new Error("useOnboarding deve ser usado dentro de um OnboardingProvider");return t},Fte={theme:"dark",setTheme:()=>null},UF=g.createContext(Fte);function Mte({children:t,defaultTheme:e="light",storageKey:n="vite-ui-theme",...r}){const[o,i]=g.useState("light");g.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(o)},[o]);const a={theme:o,setTheme:c=>{localStorage.setItem(n,c),i(c)}};return s.jsx(UF.Provider,{...r,value:a,children:t})}const DS=()=>{const t=g.useContext(UF);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t};function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(this,arguments)}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Lte(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function bb(...t){return e=>t.forEach(n=>Lte(n,e))}function bt(...t){return g.useCallback(bb(...t),t)}function Vte(t,e){const n=g.createContext(e);function r(i){const{children:a,...c}=i,l=g.useMemo(()=>c,Object.values(c));return g.createElement(n.Provider,{value:l},a)}function o(i){const a=g.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,o]}function Mi(t,e=[]){let n=[];function r(i,a){const c=g.createContext(a),l=n.length;n=[...n,a];function d(u){const{scope:f,children:v,...x}=u,y=(f==null?void 0:f[t][l])||c,_=g.useMemo(()=>x,Object.values(x));return g.createElement(y.Provider,{value:_},v)}function h(u,f){const v=(f==null?void 0:f[t][l])||c,x=g.useContext(v);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const o=()=>{const i=n.map(a=>g.createContext(a));return function(c){const l=(c==null?void 0:c[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...c,[t]:l}}),[c,l])}};return o.scopeName=t,[r,zte(o,...e)]}function zte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const a=r.reduce((c,{useScope:l,scopeName:d})=>{const u=l(i)[`__scope${d}`];return{...c,...u}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}const Uc=g.forwardRef((t,e)=>{const{children:n,...r}=t,o=g.Children.toArray(n),i=o.find(Bte);if(i){const a=i.props.children,c=o.map(l=>l===i?g.Children.count(a)>1?g.Children.only(null):g.isValidElement(a)?a.props.children:null:l);return g.createElement(Z_,Z({},r,{ref:e}),g.isValidElement(a)?g.cloneElement(a,void 0,c):null)}return g.createElement(Z_,Z({},r,{ref:e}),n)});Uc.displayName="Slot";const Z_=g.forwardRef((t,e)=>{const{children:n,...r}=t;return g.isValidElement(n)?g.cloneElement(n,{...Ute(r,n.props),ref:e?bb(e,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});Z_.displayName="SlotClone";const qF=({children:t})=>g.createElement(g.Fragment,null,t);function Bte(t){return g.isValidElement(t)&&t.type===qF}function Ute(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{i(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}function NS(t){const e=t+"CollectionProvider",[n,r]=Mi(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:x,children:y}=v,_=Be.useRef(null),w=Be.useRef(new Map).current;return Be.createElement(o,{scope:x,itemMap:w,collectionRef:_},y)},c=t+"CollectionSlot",l=Be.forwardRef((v,x)=>{const{scope:y,children:_}=v,w=i(c,y),E=bt(x,w.collectionRef);return Be.createElement(Uc,{ref:E},_)}),d=t+"CollectionItemSlot",h="data-radix-collection-item",u=Be.forwardRef((v,x)=>{const{scope:y,children:_,...w}=v,E=Be.useRef(null),I=bt(x,E),j=i(d,y);return Be.useEffect(()=>(j.itemMap.set(E,{ref:E,...w}),()=>void j.itemMap.delete(E))),Be.createElement(Uc,{[h]:"",ref:I},_)});function f(v){const x=i(t+"CollectionConsumer",v);return Be.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const w=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((j,D)=>w.indexOf(j.ref.current)-w.indexOf(D.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:l,ItemSlot:u},f,r]}const qte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ge=qte.reduce((t,e)=>{const n=g.forwardRef((r,o)=>{const{asChild:i,...a}=r,c=i?Uc:e;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(c,Z({},a,{ref:o}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Gf(t,e){t&&eu.flushSync(()=>t.dispatchEvent(e))}function Gt(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function $S(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t);g.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const eE="dismissableLayer.update",Wte="dismissableLayer.pointerDownOutside",Hte="dismissableLayer.focusOutside";let WA;const WF=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gte=g.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:l,...d}=t,h=g.useContext(WF),[u,f]=g.useState(null),v=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,x]=g.useState({}),y=bt(e,S=>f(S)),_=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(w),I=u?_.indexOf(u):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,D=I>=E,$=Yte(S=>{const C=S.target,P=[...h.branches].some(N=>N.contains(C));!D||P||(i==null||i(S),c==null||c(S),S.defaultPrevented||l==null||l())},v),k=Qte(S=>{const C=S.target;[...h.branches].some(N=>N.contains(C))||(a==null||a(S),c==null||c(S),S.defaultPrevented||l==null||l())},v);return $S(S=>{I===h.layers.size-1&&(o==null||o(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},v),g.useEffect(()=>{if(u)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(WA=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(u)),h.layers.add(u),HA(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=WA)}},[u,v,r,h]),g.useEffect(()=>()=>{u&&(h.layers.delete(u),h.layersWithOutsidePointerEventsDisabled.delete(u),HA())},[u,h]),g.useEffect(()=>{const S=()=>x({});return document.addEventListener(eE,S),()=>document.removeEventListener(eE,S)},[]),g.createElement(Ge.div,Z({},d,{ref:y,style:{pointerEvents:j?D?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,$.onPointerDownCapture)}))}),Kte=g.forwardRef((t,e)=>{const n=g.useContext(WF),r=g.useRef(null),o=bt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.createElement(Ge.div,Z({},t,{ref:o}))});function Yte(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let h=function(){HF(Wte,n,d,{discrete:!0})};var l=h;const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Qte(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=g.useRef(!1);return g.useEffect(()=>{const o=i=>{i.target&&!r.current&&HF(Hte,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function HA(){const t=new CustomEvent(eE);document.dispatchEvent(t)}function HF(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Gf(o,i):o.dispatchEvent(i)}const Xte=Gte,Jte=Kte,Zte=g.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=t;return r?jT.createPortal(g.createElement(Ge.div,Z({},o,{ref:e})),r):null}),ca=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{};function ene(t,e){return g.useReducer((n,r)=>{const o=e[n][r];return o??n},t)}const Li=t=>{const{present:e,children:n}=t,r=tne(e),o=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=bt(r.ref,o.ref);return typeof n=="function"||r.isPresent?g.cloneElement(o,{ref:i}):null};Li.displayName="Presence";function tne(t){const[e,n]=g.useState(),r=g.useRef({}),o=g.useRef(t),i=g.useRef("none"),a=t?"mounted":"unmounted",[c,l]=ene(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Ym(r.current);i.current=c==="mounted"?d:"none"},[c]),ca(()=>{const d=r.current,h=o.current;if(h!==t){const f=i.current,v=Ym(d);t?l("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&f!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),ca(()=>{if(e){const d=u=>{const v=Ym(r.current).includes(u.animationName);u.target===e&&v&&eu.flushSync(()=>l("ANIMATION_END"))},h=u=>{u.target===e&&(i.current=Ym(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Ym(t){return(t==null?void 0:t.animationName)||"none"}function yb({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=nne({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,c=Gt(n),l=g.useCallback(d=>{if(i){const u=typeof d=="function"?d(t):d;u!==t&&c(u)}else o(d)},[i,t,o,c]);return[a,l]}function nne({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,o=g.useRef(r),i=Gt(e);return g.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}const GF=g.forwardRef((t,e)=>g.createElement(Ge.span,Z({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),KF="ToastProvider",[OS,rne,one]=NS("Toast"),[YF,T_e]=Mi("Toast",[one]),[ine,wb]=YF(KF),QF=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:i=50,children:a}=t,[c,l]=g.useState(null),[d,h]=g.useState(0),u=g.useRef(!1),f=g.useRef(!1);return g.createElement(OS.Provider,{scope:e},g.createElement(ine,{scope:e,label:n,duration:r,swipeDirection:o,swipeThreshold:i,toastCount:d,viewport:c,onViewportChange:l,onToastAdd:g.useCallback(()=>h(v=>v+1),[]),onToastRemove:g.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f},a))};QF.propTypes={label(t){if(t.label&&typeof t.label=="string"&&!t.label.trim()){const e=`Invalid prop \`label\` supplied to \`${KF}\`. Expected non-empty \`string\`.`;return new Error(e)}return null}};const sne="ToastViewport",ane=["F8"],tE="toast.viewportPause",nE="toast.viewportResume",cne=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=ane,label:o="Notifications ({hotkey})",...i}=t,a=wb(sne,n),c=rne(n),l=g.useRef(null),d=g.useRef(null),h=g.useRef(null),u=g.useRef(null),f=bt(e,u,a.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=a.toastCount>0;g.useEffect(()=>{const _=w=>{var E;r.every(j=>w[j]||w.code===j)&&((E=u.current)===null||E===void 0||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[r]),g.useEffect(()=>{const _=l.current,w=u.current;if(x&&_&&w){const E=()=>{if(!a.isClosePausedRef.current){const $=new CustomEvent(tE);w.dispatchEvent($),a.isClosePausedRef.current=!0}},I=()=>{if(a.isClosePausedRef.current){const $=new CustomEvent(nE);w.dispatchEvent($),a.isClosePausedRef.current=!1}},j=$=>{!_.contains($.relatedTarget)&&I()},D=()=>{_.contains(document.activeElement)||I()};return _.addEventListener("focusin",E),_.addEventListener("focusout",j),_.addEventListener("pointermove",E),_.addEventListener("pointerleave",D),window.addEventListener("blur",E),window.addEventListener("focus",I),()=>{_.removeEventListener("focusin",E),_.removeEventListener("focusout",j),_.removeEventListener("pointermove",E),_.removeEventListener("pointerleave",D),window.removeEventListener("blur",E),window.removeEventListener("focus",I)}}},[x,a.isClosePausedRef]);const y=g.useCallback(({tabbingDirection:_})=>{const E=c().map(I=>{const j=I.ref.current,D=[j,...Tne(j)];return _==="forwards"?D:D.reverse()});return(_==="forwards"?E.reverse():E).flat()},[c]);return g.useEffect(()=>{const _=u.current;if(_){const w=E=>{const I=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!I){const S=document.activeElement,C=E.shiftKey;if(E.target===_&&C){var D;(D=d.current)===null||D===void 0||D.focus();return}const O=y({tabbingDirection:C?"backwards":"forwards"}),R=O.findIndex(K=>K===S);if(s1(O.slice(R+1)))E.preventDefault();else{var $,k;C?($=d.current)===null||$===void 0||$.focus():(k=h.current)===null||k===void 0||k.focus()}}};return _.addEventListener("keydown",w),()=>_.removeEventListener("keydown",w)}},[c,y]),g.createElement(Jte,{ref:l,role:"region","aria-label":o.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"}},x&&g.createElement(GA,{ref:d,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});s1(_)}}),g.createElement(OS.Slot,{scope:n},g.createElement(Ge.ol,Z({tabIndex:-1},i,{ref:f}))),x&&g.createElement(GA,{ref:h,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});s1(_)}}))}),lne="ToastFocusProxy",GA=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=t,i=wb(lne,n);return g.createElement(GF,Z({"aria-hidden":!0,tabIndex:0},o,{ref:e,style:{position:"fixed"},onFocus:a=>{var c;const l=a.relatedTarget;!((c=i.viewport)!==null&&c!==void 0&&c.contains(l))&&r()}}))}),_b="Toast",dne="toast.swipeStart",une="toast.swipeMove",hne="toast.swipeCancel",pne="toast.swipeEnd",fne=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...a}=t,[c=!0,l]=yb({prop:r,defaultProp:o,onChange:i});return g.createElement(Li,{present:n||c},g.createElement(XF,Z({open:c},a,{ref:e,onClose:()=>l(!1),onPause:Gt(t.onPause),onResume:Gt(t.onResume),onSwipeStart:ye(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ye(t.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:ye(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ye(t.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})))}),[mne,gne]=YF(_b,{onClose(){}}),XF=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:i,onClose:a,onEscapeKeyDown:c,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:v,...x}=t,y=wb(_b,n),[_,w]=g.useState(null),E=bt(e,K=>w(K)),I=g.useRef(null),j=g.useRef(null),D=o||y.duration,$=g.useRef(0),k=g.useRef(D),S=g.useRef(0),{onToastAdd:C,onToastRemove:P}=y,N=Gt(()=>{var K;(_==null?void 0:_.contains(document.activeElement))&&((K=y.viewport)===null||K===void 0||K.focus()),a()}),O=g.useCallback(K=>{!K||K===1/0||(window.clearTimeout(S.current),$.current=new Date().getTime(),S.current=window.setTimeout(N,K))},[N]);g.useEffect(()=>{const K=y.viewport;if(K){const re=()=>{O(k.current),d==null||d()},oe=()=>{const xe=new Date().getTime()-$.current;k.current=k.current-xe,window.clearTimeout(S.current),l==null||l()};return K.addEventListener(tE,oe),K.addEventListener(nE,re),()=>{K.removeEventListener(tE,oe),K.removeEventListener(nE,re)}}},[y.viewport,D,l,d,O]),g.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(D)},[i,D,y.isClosePausedRef,O]),g.useEffect(()=>(C(),()=>P()),[C,P]);const R=g.useMemo(()=>_?t8(_):null,[_]);return y.viewport?g.createElement(g.Fragment,null,R&&g.createElement(vne,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},R),g.createElement(mne,{scope:n,onClose:N},eu.createPortal(g.createElement(OS.ItemSlot,{scope:n},g.createElement(Xte,{asChild:!0,onEscapeKeyDown:ye(c,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1})},g.createElement(Ge.li,Z({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection},x,{ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ye(t.onKeyDown,K=>{K.key==="Escape"&&(c==null||c(K.nativeEvent),K.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ye(t.onPointerDown,K=>{K.button===0&&(I.current={x:K.clientX,y:K.clientY})}),onPointerMove:ye(t.onPointerMove,K=>{if(!I.current)return;const re=K.clientX-I.current.x,oe=K.clientY-I.current.y,xe=!!j.current,W=["left","right"].includes(y.swipeDirection),B=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,J=W?B(0,re):0,ue=W?0:B(0,oe),ce=K.pointerType==="touch"?10:2,U={x:J,y:ue},se={originalEvent:K,delta:U};xe?(j.current=U,Qm(une,u,se,{discrete:!1})):KA(U,y.swipeDirection,ce)?(j.current=U,Qm(dne,h,se,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(re)>ce||Math.abs(oe)>ce)&&(I.current=null)}),onPointerUp:ye(t.onPointerUp,K=>{const re=j.current,oe=K.target;if(oe.hasPointerCapture(K.pointerId)&&oe.releasePointerCapture(K.pointerId),j.current=null,I.current=null,re){const xe=K.currentTarget,W={originalEvent:K,delta:re};KA(re,y.swipeDirection,y.swipeThreshold)?Qm(pne,v,W,{discrete:!0}):Qm(hne,f,W,{discrete:!0}),xe.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})))),y.viewport))):null});XF.propTypes={type(t){if(t.type&&!["foreground","background"].includes(t.type)){const e=`Invalid prop \`type\` supplied to \`${_b}\`. Expected \`foreground | background\`.`;return new Error(e)}return null}};const vne=t=>{const{__scopeToast:e,children:n,...r}=t,o=wb(_b,e),[i,a]=g.useState(!1),[c,l]=g.useState(!1);return _ne(()=>a(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:g.createElement(Zte,{asChild:!0},g.createElement(GF,r,i&&g.createElement(g.Fragment,null,o.label," ",n)))},xne=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.createElement(Ge.div,Z({},r,{ref:e}))}),bne=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.createElement(Ge.div,Z({},r,{ref:e}))}),yne="ToastAction",JF=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n?g.createElement(e8,{altText:n,asChild:!0},g.createElement(ZF,Z({},r,{ref:e}))):null});JF.propTypes={altText(t){return t.altText?null:new Error(`Missing prop \`altText\` expected on \`${yne}\``)}};const wne="ToastClose",ZF=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,o=gne(wne,n);return g.createElement(e8,{asChild:!0},g.createElement(Ge.button,Z({type:"button"},r,{ref:e,onClick:ye(t.onClick,o.onClose)})))}),e8=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...o}=t;return g.createElement(Ge.div,Z({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},o,{ref:e}))});function t8(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Ene(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!o)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...t8(r))}}),e}function Qm(t,e,n,{discrete:r}){const o=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Gf(o,i):o.dispatchEvent(i)}const KA=(t,e,n=0)=>{const r=Math.abs(t.x),o=Math.abs(t.y),i=r>o;return e==="left"||e==="right"?i&&r>n:!i&&o>n};function _ne(t=()=>{}){const e=Gt(t);ca(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Ene(t){return t.nodeType===t.ELEMENT_NODE}function Tne(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function s1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}const Ine=QF,n8=cne,r8=fne,o8=xne,i8=bne,s8=JF,a8=ZF;function c8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=c8(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function l8(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=c8(t))&&(r&&(r+=" "),r+=e);return r}const YA=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,QA=l8,FS=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return QA(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=e,a=Object.keys(o).map(d=>{const h=n==null?void 0:n[d],u=i==null?void 0:i[d];if(h===null)return null;const f=YA(h)||YA(u);return o[d][f]}),c=n&&Object.entries(n).reduce((d,h)=>{let[u,f]=h;return f===void 0||(d[u]=f),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:u,className:f,...v}=h;return Object.entries(v).every(x=>{let[y,_]=x;return Array.isArray(_)?_.includes({...i,...c}[y]):{...i,...c}[y]===_})?[...d,u,f]:d},[]);return QA(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d8=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kne={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:a,...c},l)=>g.createElement("svg",{ref:l,...kne,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:d8("lucide",o),...c},[...a.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=g.forwardRef(({className:r,...o},i)=>g.createElement(Cne,{ref:i,iconNode:e,className:d8(`lucide-${Sne(t)}`,r),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=we("AlignJustify",[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=we("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=we("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=we("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=we("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=we("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=we("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=we("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=we("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=we("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=we("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=we("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=we("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=we("PictureInPicture2",[["path",{d:"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4",key:"daa4of"}],["rect",{width:"10",height:"7",x:"12",y:"13",rx:"2",key:"1nb8gs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=we("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=we("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=we("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=we("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=we("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=we("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ire(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=x8(e))&&(r&&(r+=" "),r+=n);return r}function x8(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=x8(t[r]))&&(n&&(n+=" "),n+=e);return n}var WS="-";function sre(t){var e=cre(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,o=r===void 0?{}:r;function i(c){var l=c.split(WS);return l[0]===""&&l.length!==1&&l.shift(),b8(l,e)||are(c)}function a(c,l){var d=n[c]||[];return l&&o[c]?[].concat(d,o[c]):d}return{getClassGroupId:i,getConflictingClassGroupIds:a}}function b8(t,e){var a;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),o=r?b8(t.slice(1),r):void 0;if(o)return o;if(e.validators.length!==0){var i=t.join(WS);return(a=e.validators.find(function(c){var l=c.validator;return l(i)}))==null?void 0:a.classGroupId}}var XA=/^\[(.+)\]$/;function are(t){if(XA.test(t)){var e=XA.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function cre(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},o=dre(Object.entries(t.classGroups),n);return o.forEach(function(i){var a=i[0],c=i[1];oE(c,r,a,e)}),r}function oE(t,e,n,r){t.forEach(function(o){if(typeof o=="string"){var i=o===""?e:JA(e,o);i.classGroupId=n;return}if(typeof o=="function"){if(lre(o)){oE(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(function(a){var c=a[0],l=a[1];oE(l,JA(e,c),n,r)})})}function JA(t,e){var n=t;return e.split(WS).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function lre(t){return t.isThemeGetter}function dre(t,e){return e?t.map(function(n){var r=n[0],o=n[1],i=o.map(function(a){return typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(function(c){var l=c[0],d=c[1];return[e+l,d]})):a});return[r,i]}):t}function ure(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function o(i,a){n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(a){var c=n.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return o(a,c),c},set:function(a,c){n.has(a)?n.set(a,c):o(a,c)}}}var y8="!";function hre(t){var e=t.separator||":",n=e.length===1,r=e[0],o=e.length;return function(a){for(var c=[],l=0,d=0,h,u=0;u<a.length;u++){var f=a[u];if(l===0){if(f===r&&(n||a.slice(u,u+o)===e)){c.push(a.slice(d,u)),d=u+o;continue}if(f==="/"){h=u;continue}}f==="["?l++:f==="]"&&l--}var v=c.length===0?a:a.substring(d),x=v.startsWith(y8),y=x?v.substring(1):v,_=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:_}}}function pre(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var o=r[0]==="[";o?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function fre(t){return{cache:ure(t.cacheSize),splitModifiers:hre(t),...sre(t)}}var mre=/\s+/;function gre(t,e){var n=e.splitModifiers,r=e.getClassGroupId,o=e.getConflictingClassGroupIds,i=new Set;return t.trim().split(mre).map(function(a){var c=n(a),l=c.modifiers,d=c.hasImportantModifier,h=c.baseClassName,u=c.maybePostfixModifierPosition,f=r(u?h.substring(0,u):h),v=!!u;if(!f){if(!u)return{isTailwindClass:!1,originalClassName:a};if(f=r(h),!f)return{isTailwindClass:!1,originalClassName:a};v=!1}var x=pre(l).join(":"),y=d?x+y8:x;return{isTailwindClass:!0,modifierId:y,classGroupId:f,originalClassName:a,hasPostfixModifier:v}}).reverse().filter(function(a){if(!a.isTailwindClass)return!0;var c=a.modifierId,l=a.classGroupId,d=a.hasPostfixModifier,h=c+l;return i.has(h)?!1:(i.add(h),o(l,d).forEach(function(u){return i.add(c+u)}),!0)}).reverse().map(function(a){return a.originalClassName}).join(" ")}function vre(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,o,i,a=c;function c(d){var h=e[0],u=e.slice(1),f=u.reduce(function(v,x){return x(v)},h());return r=fre(f),o=r.cache.get,i=r.cache.set,a=l,l(d)}function l(d){var h=o(d);if(h)return h;var u=gre(d,r);return i(d,u),u}return function(){return a(ire.apply(null,arguments))}}function ct(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var w8=/^\[(?:([a-z-]+):)?(.+)\]$/i,xre=/^\d+\/\d+$/,bre=new Set(["px","full","screen"]),yre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wre=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_re=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Kr(t){return uc(t)||bre.has(t)||xre.test(t)||iE(t)}function iE(t){return el(t,"length",Cre)}function Ere(t){return el(t,"size",_8)}function Tre(t){return el(t,"position",_8)}function Ire(t){return el(t,"url",jre)}function Xm(t){return el(t,"number",uc)}function uc(t){return!Number.isNaN(Number(t))}function Sre(t){return t.endsWith("%")&&uc(t.slice(0,-1))}function eh(t){return ZA(t)||el(t,"number",ZA)}function Oe(t){return w8.test(t)}function th(){return!0}function Qi(t){return yre.test(t)}function kre(t){return el(t,"",Are)}function el(t,e,n){var r=w8.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function Cre(t){return wre.test(t)}function _8(){return!1}function jre(t){return t.startsWith("url(")}function ZA(t){return Number.isInteger(Number(t))}function Are(t){return _re.test(t)}function Pre(){var t=ct("colors"),e=ct("spacing"),n=ct("blur"),r=ct("brightness"),o=ct("borderColor"),i=ct("borderRadius"),a=ct("borderSpacing"),c=ct("borderWidth"),l=ct("contrast"),d=ct("grayscale"),h=ct("hueRotate"),u=ct("invert"),f=ct("gap"),v=ct("gradientColorStops"),x=ct("gradientColorStopPositions"),y=ct("inset"),_=ct("margin"),w=ct("opacity"),E=ct("padding"),I=ct("saturate"),j=ct("scale"),D=ct("sepia"),$=ct("skew"),k=ct("space"),S=ct("translate"),C=function(){return["auto","contain","none"]},P=function(){return["auto","hidden","clip","visible","scroll"]},N=function(){return["auto",Oe,e]},O=function(){return[Oe,e]},R=function(){return["",Kr]},K=function(){return["auto",uc,Oe]},re=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},oe=function(){return["solid","dashed","dotted","double","none"]},xe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},W=function(){return["start","end","center","between","around","evenly","stretch"]},B=function(){return["","0",Oe]},J=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ue=function(){return[uc,Xm]},ce=function(){return[uc,Oe]};return{cacheSize:500,theme:{colors:[th],spacing:[Kr],blur:["none","",Qi,Oe],brightness:ue(),borderColor:[t],borderRadius:["none","","full",Qi,Oe],borderSpacing:O(),borderWidth:R(),contrast:ue(),grayscale:B(),hueRotate:ce(),invert:B(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[Sre,iE],inset:N(),margin:N(),opacity:ue(),padding:O(),saturate:ue(),scale:ue(),sepia:B(),skew:ce(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Qi]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(re(),[Oe])}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",eh]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",eh]}],"grid-cols":[{"grid-cols":[th]}],"col-start-end":[{col:["auto",{span:["full",eh]},Oe]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[th]}],"row-start-end":[{row:["auto",{span:[eh]},Oe]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(W())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(W(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(W(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Oe,e]}],"min-w":[{"min-w":["min","max","fit",Oe,Kr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Qi]},Qi,Oe]}],h:[{h:[Oe,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Oe,Kr]}],"max-h":[{"max-h":[Oe,e,"min","max","fit"]}],"font-size":[{text:["base",Qi,iE]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xm]}],"font-family":[{font:[th]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",uc,Xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oe,Kr]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(oe(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Kr]}],"underline-offset":[{"underline-offset":["auto",Oe,Kr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(re(),[Tre])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ere]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ire]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(oe(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:oe()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(oe())}],"outline-offset":[{"outline-offset":[Oe,Kr]}],"outline-w":[{outline:[Kr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Kr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qi,kre]}],"shadow-color":[{shadow:[th]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":xe()}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Qi,Oe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[I]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[eh,Oe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kr,Xm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Rre=vre(Pre);function Se(...t){return Rre(l8(t))}const Dre=Ine,E8=g.forwardRef(({className:t,...e},n)=>s.jsx(n8,{ref:n,className:Se("fixed top-4 right-4 z-[100] flex max-h-screen w-full flex-col-reverse gap-2 sm:flex-col md:max-w-[420px]",t),...e}));E8.displayName=n8.displayName;const Nre=FS("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),T8=g.forwardRef(({className:t,variant:e,...n},r)=>s.jsx(r8,{ref:r,className:Se(Nre({variant:e}),t),...n}));T8.displayName=r8.displayName;const $re=g.forwardRef(({className:t,...e},n)=>s.jsx(s8,{ref:n,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));$re.displayName=s8.displayName;const I8=g.forwardRef(({className:t,...e},n)=>s.jsx(a8,{ref:n,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-100 transition-opacity hover:text-foreground focus:outline-none focus:ring-2 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Tb,{className:"h-4 w-4"})}));I8.displayName=a8.displayName;const S8=g.forwardRef(({className:t,...e},n)=>s.jsx(o8,{ref:n,className:Se("text-sm font-semibold",t),...e}));S8.displayName=o8.displayName;const k8=g.forwardRef(({className:t,...e},n)=>s.jsx(i8,{ref:n,className:Se("text-sm opacity-90",t),...e}));k8.displayName=i8.displayName;const Ore=1,C8=5e3;let a1=0;function Fre(){return a1=(a1+1)%Number.MAX_SAFE_INTEGER,a1.toString()}const c1=new Map,eP=t=>{if(c1.has(t))return;const e=setTimeout(()=>{c1.delete(t),yp({type:"REMOVE_TOAST",toastId:t})},C8);c1.set(t,e)},Mre=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Ore)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?eP(n):t.toasts.forEach(r=>{eP(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Lv=[];let Vv={toasts:[]};function yp(t){Vv=Mre(Vv,t),Lv.forEach(e=>{e(Vv)})}function pf({...t}){const e=Fre(),n=o=>yp({type:"UPDATE_TOAST",toast:{...o,id:e}}),r=()=>yp({type:"DISMISS_TOAST",toastId:e});return setTimeout(r,C8),yp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:n}}function Ia(){const[t,e]=g.useState(Vv);return g.useEffect(()=>(Lv.push(e),()=>{const n=Lv.indexOf(e);n>-1&&Lv.splice(n,1)}),[t]),{...t,toast:pf,dismiss:n=>yp({type:"DISMISS_TOAST",toastId:n})}}function Lre(){const{toasts:t}=Ia();return s.jsxs(Dre,{children:[t.map(function({id:e,title:n,description:r,action:o,...i}){return s.jsxs(T8,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(S8,{children:n}),r&&s.jsx(k8,{children:r})]}),o,s.jsx(I8,{})]},e)}),s.jsx(E8,{})]})}const Ib=(t,e)=>{const[n,r]=g.useState(null),[o,i]=g.useState(null);return g.useEffect(()=>{if(!t||!e)return;const a=gu(qe(Re,t,e),c=>{c.data()?(r({...c.data(),id:c.id}),i(null)):(i("Dados não encontrados."),r(void 0),console.log(`Dados não encontrados. Collection: ${t}, ID: ${e}`))},c=>{i(c.message),r(void 0),console.log(c.message),console.log("Erro ao ler documento da coleção:",t,"com ID:",e)});return()=>a()},[t,e]),{document:n,error:o}};function Zn(){return DS(),s.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"transparent"},children:s.jsx("img",{src:"/Logo icone app_Transparente_App, loading, botão início (1).png",alt:"Carregando Petzia",className:"petzia-logo-loading",style:{width:80,height:80,animation:"spin 1.2s linear infinite"}})})}const j8=g.createContext();function Vre({children:t,user:e}){const{document:n,error:r}=Ib("users",e.uid),[o,i]=g.useState(!1);return g.useEffect(()=>{(async()=>{if(r&&!o){i(!0);try{const c=qe(Re,"users",e.uid);(await gi(c)).exists()||(console.log("Criando documento de usuário para:",e.uid),await vi(c,{id:e.uid,online:!0,createdAt:new Date,email:e.email,name:e.displayName||"",phone:"",user_agent:navigator.userAgent,origin:window.location.href.split("?")[0],plan:{status:"active",type:"free"}}),console.log("Documento de usuário criado com sucesso!"))}catch(c){console.error("Erro ao criar documento de usuário:",c)}finally{i(!1)}}})()},[e,r,o]),o?s.jsx(Zn,{}):!n&&!o?s.jsx(Zn,{}):s.jsx(j8.Provider,{value:{userDoc:n},children:t})}const zre=g.createContext();function Bre({children:t,user:e}){const{document:n}=Ib("referrals2",e.uid);return n===null?s.jsx(Zn,{}):s.jsx(zre.Provider,{value:{referrerDoc2:n},children:t})}const A8=g.createContext();function Ure({children:t}){const{user:e}=Ee(),[n,r]=g.useState([]),[o,i]=g.useState(!0),[a,c]=g.useState(null);g.useEffect(()=>{if(!e){console.log("Usuário não autenticado"),i(!1);return}console.log("Iniciando busca de vacinas para o usuário:",e.uid),i(!0),c(null);const h=Wn(cr(Re,"users",e.uid,"health_records"),lf("date","desc")),u=gu(h,f=>{console.log("Snapshot recebido:",f.docs.length,"documentos");const v=f.docs.map(x=>({id:x.id,...x.data()}));console.log("Lista de vacinas processada:",v),r(v),i(!1),c(null)},f=>{console.error("Erro ao buscar vacinas:",f),c(f.message),i(!1)});return()=>u()},[e]);const l=async h=>{if(e)try{console.log("Adicionando nova vacina:",h);const u=await H0(cr(Re,"users",e.uid,"health_records"),{...h,userId:e.uid,createdAt:ir()});return console.log("Vacina adicionada com ID:",u.id),u.id}catch(u){throw console.error("Erro ao adicionar vacina:",u),c(u.message),u}},d=async(h,u)=>{if(e)try{const f={status:u};u==="Aplicada"&&(f.appliedDate=new Date),await oo(qe(Re,"users",e.uid,"health_records",h),f)}catch(f){throw console.error("Erro ao atualizar status da vacina:",f),c(f.message),f}};return s.jsx(A8.Provider,{value:{vaccines:n,loading:o,error:a,addVaccine:l,updateVaccineStatus:d},children:t})}const HS=()=>{const t=g.useContext(A8);if(!t)throw new Error("useVaccineContext deve ser usado dentro de um VaccineProvider");return t},vo={initializeDashboard:async t=>{try{const e=qe(Re,"dashboards",t),n={userId:t,lastUpdated:ir(),mood:"neutral",activities:{food:{lastEntry:null,totalEntries:0,streak:0},walk:{lastEntry:null,totalEntries:0,streak:0}},health:{vaccines:{lastVaccine:null,nextVaccine:null,status:"up_to_date"},checkups:{lastCheckup:null,nextCheckup:null}},training:{completedLessons:0,totalTime:0,currentLevel:"beginner",lastSession:null}};return await vi(e,n),n}catch(e){throw console.error("Error initializing dashboard:",e),e}},getRecentVaccines:async t=>{try{const e=cr(Re,"users",t,"health_records"),n=Wn(e,lf("date","desc"),B_(1)),r=await Jh(n);if(r.empty)return null;const o=r.docs[0].data();console.log("Vacina encontrada:",o);let i=null;if(o.date)try{o.date instanceof Date?i=o.date:typeof o.date=="string"?i=new Date(o.date):o.date.toDate&&(i=o.date.toDate()),isNaN(i.getTime())&&(console.error("Data inválida:",o.date),i=null)}catch(a){console.error("Erro ao converter data:",a),i=null}return{...o,date:i}}catch(e){throw console.error("Error fetching recent vaccines:",e),e}},updateActivity:async(t,e,n)=>{try{const r=qe(Re,"dashboards",t),o=cr(Re,"activities"),i={...n,userId:t,type:e,createdAt:ir()},a=Ky(Re),c=qe(o);a.set(c,i);const l={[`activities.${e}.lastEntry`]:i,[`activities.${e}.totalEntries`]:RO(1),lastUpdated:ir()};return a.update(r,l),await a.commit(),c.id}catch(r){throw console.error(`Error updating ${e} activity:`,r),r}},updateHealth:async(t,e)=>{try{const n=qe(Re,"dashboards",t),r=cr(Re,"users",t,"health_records"),o=Ky(Re),i=qe(r),a={...e,userId:t,timestamp:ir(),createdAt:ir()};o.set(i,a);const c=await vo.getRecentVaccines(t);return o.update(n,{"health.vaccines.lastVaccine":c,"health.vaccines.status":(c==null?void 0:c.status)==="Aplicada"?"up_to_date":"pending",lastUpdated:ir()}),await o.commit(),i.id}catch(n){throw console.error("Error updating health record:",n),n}},updateTraining:async(t,e)=>{try{const n=qe(Re,"dashboards",t),r=cr(Re,"training_progress"),o=Ky(Re),i=qe(r),a={...e,userId:t,timestamp:ir(),createdAt:ir()};return o.set(i,a),o.update(n,{training:e,lastUpdated:ir()}),await o.commit(),i.id}catch(n){throw console.error("Error updating training progress:",n),n}},getDashboardData:async t=>{var e,n;try{console.log("========== INÍCIO getDashboardData ==========");const r=qe(Re,"dashboards",t),o=await gi(r);if(!o.exists())return await vo.initializeDashboard(t);const i=o.data();try{console.log("========== BUSCANDO VACINAS ==========");const l=cr(Re,"users",t,"health_records"),d=Wn(l,ac("type","==","vaccine")),h=await Jh(d);if(h.empty)console.log("Nenhuma vacina encontrada");else{console.log(`Encontradas ${h.size} vacinas no total`);const u=h.docs.map(f=>({id:f.id,...f.data()})).filter(f=>f.status==="Aplicada");if(console.log(`Total de vacinas aplicadas: ${u.length}`),u.forEach((f,v)=>{const x=f.date?f.date.toDate?f.date.toDate().toISOString():f.date:"sem data";console.log(`Vacina aplicada ${v+1}: ${f.name}, Data: ${x}, Doc ID: ${f.id}`)}),u.sort((f,v)=>{const x=y=>{const _=y.date;if(!_)return 0;try{return _.toDate?_.toDate().getTime():typeof _=="string"?new Date(_).getTime():_.seconds?_.seconds*1e3:0}catch(w){return console.error("Erro ao converter data para ordenação:",w),0}};return x(v)-x(f)}),console.log("Vacinas ordenadas por data (mais recente primeiro):"),u.forEach((f,v)=>{const x=f.date?f.date.toDate?f.date.toDate().toISOString():f.date:"sem data";console.log(`${v+1}: ${f.name}, Data: ${x}, Doc ID: ${f.id}`)}),u.length>0){const f=u[0];console.log("Vacina mais recente selecionada:",f);let v=null;if(f.date)try{f.date.toDate?v=f.date.toDate():typeof f.date=="string"?v=new Date(f.date):f.date.seconds&&(v=new Date(f.date.seconds*1e3)),console.log("Data extraída da vacina mais recente:",v)}catch(x){console.error("Erro ao processar data da vacina:",x)}v&&!isNaN(v.getTime())&&(console.log("Atualizando dashboard com a vacina mais recente de",v),i.health||(i.health={}),i.health.vaccines||(i.health.vaccines={}),i.health.vaccines.lastVaccine={...f,date:v},i.health.vaccines.status="up_to_date",await oo(r,{"health.vaccines.lastVaccine":{...f,date:v},"health.vaccines.status":"up_to_date",lastUpdated:ir()}),console.log("Dashboard atualizado com sucesso com a vacina mais recente"))}}}catch(l){console.error("Erro ao buscar vacina mais recente:",l)}const a=await gi(r);if(a.exists()){const l=a.data();(n=(e=l.health)==null?void 0:e.vaccines)!=null&&n.lastVaccine&&(i.health=l.health,console.log("Dashboard recarregado com dados atualizados de vacina"))}const c=await vo.getLatestDiaryEntries(t);if(console.log("Entradas mais recentes do diário:",c),c.passeio)if(c.passeio.date&&!isNaN(c.passeio.date.getTime())){console.log("Data válida do último passeio encontrada:",c.passeio.date.toLocaleString()),c.passeio.timestamp||(c.passeio.timestamp=c.passeio.date);const l={...c.passeio,date:c.passeio.date,timestamp:c.passeio.date};i.lastWalkEntry=l,console.log("Último passeio adicionado como lastWalkEntry com timestamp válido"),i.activities||(i.activities={}),i.activities.walk||(i.activities.walk={lastEntry:null,totalEntries:0,streak:0}),i.activities.walk.lastEntry={timestamp:c.passeio.date,details:l,type:"walk"},console.log("Último passeio atualizado na estrutura antiga")}else console.error("Data do último passeio é inválida ou não está disponível");else console.log("Nenhum registro de passeio encontrado");if(c.alimentacao)if(c.alimentacao.date&&!isNaN(c.alimentacao.date.getTime())){console.log("Data válida da última alimentação encontrada:",c.alimentacao.date.toLocaleString()),console.log("Intervalo de alimentação configurado:",c.alimentacao.feedingInterval||"8 (padrão)"),c.alimentacao.timestamp||(c.alimentacao.timestamp=c.alimentacao.date);const l={...c.alimentacao,date:c.alimentacao.date,timestamp:c.alimentacao.date};i.lastFoodEntry=l,console.log("Última alimentação adicionada como lastFoodEntry com timestamp válido"),i.activities||(i.activities={}),i.activities.food||(i.activities.food={lastEntry:null,totalEntries:0,streak:0}),i.activities.food.lastEntry={timestamp:c.alimentacao.date,details:l,type:"food"},console.log("Última alimentação atualizada na estrutura antiga")}else console.error("Data da última alimentação é inválida ou não está disponível");else console.log("Nenhum registro de alimentação encontrado");try{const l={};if(c.passeio&&c.passeio.date&&!isNaN(c.passeio.date.getTime())){const d={...c.passeio};d.date=ie.fromDate(c.passeio.date),d.timestamp=ie.fromDate(c.passeio.date),l.lastWalkEntry=d,l["activities.walk.lastEntry"]={timestamp:ie.fromDate(c.passeio.date),details:d,type:"walk"}}if(c.alimentacao&&c.alimentacao.date&&!isNaN(c.alimentacao.date.getTime())){const d={...c.alimentacao};d.date=ie.fromDate(c.alimentacao.date),d.timestamp=ie.fromDate(c.alimentacao.date),l.lastFoodEntry=d,l["activities.food.lastEntry"]={timestamp:ie.fromDate(c.alimentacao.date),details:d,type:"food"}}Object.keys(l).length>0?(l.lastUpdated=ir(),console.log("Atualizando dashboard com dados de timestamp para Firestore"),await oo(r,l),console.log("Dashboard atualizado com sucesso no Firestore")):console.log("Nenhum dado para atualizar no dashboard")}catch(l){console.error("Erro ao atualizar dashboard com dados do diário:",l)}return console.log("========== FIM getDashboardData =========="),i}catch(r){throw console.error("Error fetching dashboard data:",r),r}},getDocumentDirectly:async t=>{try{const e=await gi(t);return e.exists()?e.data():(console.log("Documento não encontrado"),null)}catch(e){throw console.error("Erro ao buscar documento diretamente:",e),e}},getActivityHistory:async(t,e,n=10)=>{try{const r=cr(Re,"activities"),o=Wn(r,ac("userId","==",t),ac("type","==",e),lf("timestamp","desc"),B_(n));return(await Jh(o)).docs.map(a=>{var c;return{id:a.id,...a.data(),timestamp:(c=a.data().timestamp)==null?void 0:c.toDate()}})}catch(r){throw console.error(`Error fetching ${e} history:`,r),r}},getLatestDiaryEntries:async(t,e=["alimentacao","passeio"])=>{try{const n=cr(Re,"diary"),r={},o=Wn(n,ac("userId","==",t)),i=await Jh(o);if(i.empty)return console.log("Nenhum registro de diário encontrado para o usuário"),{};console.log(`Encontrados ${i.size} registros de diário`),i.docs.forEach(c=>{const l=c.data();let d="sem data";try{l.date&&(l.date.toDate?d=l.date.toDate().toISOString():l.date.seconds?d=new Date(l.date.seconds*1e3).toISOString():d=String(l.date))}catch(h){d=`Erro ao processar data: ${h.message}`}console.log(`ID: ${c.id}, Categoria: ${l.category}, Data: ${d}`)});const a=i.docs.map(c=>({id:c.id,...c.data()})).sort((c,l)=>{const d=h=>{if(!h)return 0;try{if(h.toDate)return h.toDate().getTime();if(typeof h=="string"||h instanceof Date)return new Date(h).getTime();if(h.seconds)return h.seconds*1e3}catch(u){return console.error("Erro ao processar data para ordenação:",u,h),0}};return d(l.date)-d(c.date)});console.log("Registros ordenados:"),a.slice(0,5).forEach((c,l)=>{let d="sem data";try{c.date&&(c.date.toDate?d=c.date.toDate().toLocaleString():c.date.seconds?d=new Date(c.date.seconds*1e3).toLocaleString():c.date instanceof Date?d=c.date.toLocaleString():d=String(c.date))}catch(h){d=`Erro ao processar data: ${h.message}`}console.log(`${l+1}: Categoria: ${c.category}, Data: ${d}`),(c.category==="alimentacao"||c.category==="alimentação")&&console.log(`   Intervalo de alimentação: ${c.feedingInterval||"não definido"}`)});for(const c of e){const l=c==="alimentacao"?["alimentacao","alimentação","comida","food","Alimentação","ALIMENTACAO","Alimentacao"]:c==="passeio"?["passeio","passeios","walk","walks","Passeio","PASSEIO"]:[c,c.toLowerCase(),c.toUpperCase()],d=a.find(h=>l.includes(h.category));if(d){console.log(`Registro encontrado para ${c}:`,JSON.stringify(d,(f,v)=>v&&typeof v=="object"&&v.toDate?`Timestamp: ${v.toDate().toLocaleString()}`:v)),c==="alimentacao"&&!d.feedingInterval&&(console.log("Intervalo de alimentação não encontrado, usando padrão de 8 horas"),d.feedingInterval="8");let h=null;try{d.date&&(d.date.toDate?(h=d.date.toDate(),console.log(`Data convertida via toDate(): ${h.toLocaleString()}`)):d.date.seconds?(h=new Date(d.date.seconds*1e3),console.log(`Data convertida via seconds: ${h.toLocaleString()}`)):typeof d.date=="string"?(h=new Date(d.date),console.log(`Data convertida via construtor Date (string): ${h.toLocaleString()}`)):d.date instanceof Date&&(h=d.date,console.log(`Data mantida como objeto Date: ${h.toLocaleString()}`)),!h||isNaN(h.getTime())?(console.error("Data inválida após conversão:",h),h=null):console.log(`Data válida convertida para ${c}: ${h.toLocaleString()}`))}catch(f){console.error(`Erro ao converter data para ${c}:`,f),h=null}h||console.error(`ATENÇÃO: Não foi possível converter a data para ${c}. Vai ficar null.`);const u={...d};delete u.date,r[c]={...u,id:d.id,date:h,timestamp:h},console.log(`Resultado final para ${c}:`,r[c]),r[c].date?console.log(`Data final para ${c}: ${r[c].date.toLocaleString()}`):console.error(`NENHUMA DATA VÁLIDA PARA ${c}`)}else console.log(`Nenhum registro de ${c} encontrado`),r[c]=null}return r}catch(n){return console.error("Error fetching latest diary entries:",n),{}}}},P8=g.createContext(),Sa=({children:t})=>{const{user:e}=g.useContext(xb),[n,r]=g.useState(null),[o,i]=g.useState(!0),[a,c]=g.useState(null),l=async()=>{if(!e){i(!1);return}try{i(!0),c(null);try{const v=await vo.getDashboardData(e.uid);console.log("Dashboard data loaded:",v),r(v)}catch(v){console.error("Error loading dashboard data:",v);try{console.log("Tentando carregar apenas dados básicos do dashboard...");const x=qe(Re,"dashboards",e.uid),y=await vo.getDocumentDirectly(x);if(y)console.log("Dados básicos do dashboard carregados com sucesso:",y),r(y);else{console.log("Inicializando dashboard vazio...");const _=await vo.initializeDashboard(e.uid);r(_)}}catch(x){console.error("Erro ao carregar dados básicos do dashboard:",x),c("Erro ao carregar dados do dashboard"),r({activities:{food:{lastEntry:null},walk:{lastEntry:null}},health:{vaccines:{lastVaccine:null}}})}}}catch(v){console.error("Error in dashboard loading process:",v),c("Erro ao carregar dados do dashboard"),r({activities:{food:{lastEntry:null},walk:{lastEntry:null}},health:{vaccines:{lastVaccine:null}}})}finally{i(!1)}};g.useEffect(()=>{if(!e)return;const v=qe(Re,"dashboards",e.uid);let x=0;const y=gu(v,async _=>{if(_.exists()){const w=_.data(),E=w.lastUpdated&&w.lastUpdated.seconds?w.lastUpdated.seconds:Date.now()/1e3;if(E>x+2){x=E;try{const I=await vo.getDashboardData(e.uid);r(I)}catch(I){console.error("Erro ao atualizar dados completos:",I),r(w)}}}},_=>{console.error("Error listening to dashboard updates:",_)});return()=>y()},[e]),g.useEffect(()=>{l()},[e]);const f={dashboardData:n,loading:o,error:a,updateActivity:async(v,x)=>{try{await vo.updateActivity(e.uid,v,x),await l()}catch(y){throw console.error(`Error updating ${v} activity:`,y),y}},updateHealth:async v=>{try{await vo.updateHealth(e.uid,v)}catch(x){throw console.error("Error updating health data:",x),x}},updateTraining:async v=>{try{await vo.updateTraining(e.uid,v)}catch(x){throw console.error("Error updating training data:",x),x}},refreshData:l};return s.jsx(P8.Provider,{value:f,children:t})},Ye=()=>{const t=g.useContext(P8);if(!t)throw Error("useDashboard must be inside a DashboardProvider");return t},Sb=t=>{const[e,n]=g.useState(window.matchMedia(t).matches);return g.useEffect(()=>{const r=window.matchMedia(t),o=i=>n(i.matches);return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[t]),e},GS=FS("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",xs:"h-8 rounded-md px-2",sm:"h-9 rounded-md px-2",md:"h-10 rounded-md px-2",lg:"h-11 rounded-md px-8",icon:"h-10 w-10",smallIcon:"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),la=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},i)=>{const a=r?Uc:"button";return s.jsx(a,{className:Se(GS({variant:e,size:n,className:t})),ref:i,...o})});la.displayName="Button";function kb(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var qre=["color"],Wre=g.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,o=kb(t,qre);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),g.createElement("path",{d:"M14.7649 6.07596C14.9991 6.22231 15.0703 6.53079 14.9239 6.76495C14.4849 7.46743 13.9632 8.10645 13.3702 8.66305L14.5712 9.86406C14.7664 10.0593 14.7664 10.3759 14.5712 10.5712C14.3759 10.7664 14.0593 10.7664 13.8641 10.5712L12.6011 9.30817C11.805 9.90283 10.9089 10.3621 9.93375 10.651L10.383 12.3277C10.4544 12.5944 10.2961 12.8685 10.0294 12.94C9.76267 13.0115 9.4885 12.8532 9.41704 12.5865L8.95917 10.8775C8.48743 10.958 8.00036 10.9999 7.50001 10.9999C6.99965 10.9999 6.51257 10.958 6.04082 10.8775L5.58299 12.5864C5.51153 12.8532 5.23737 13.0115 4.97064 12.94C4.7039 12.8686 4.5456 12.5944 4.61706 12.3277L5.06625 10.651C4.09111 10.3621 3.19503 9.90282 2.3989 9.30815L1.1359 10.5712C0.940638 10.7664 0.624058 10.7664 0.428798 10.5712C0.233537 10.3759 0.233537 10.0593 0.428798 9.86405L1.62982 8.66303C1.03682 8.10643 0.515113 7.46742 0.0760677 6.76495C-0.0702867 6.53079 0.000898544 6.22231 0.235065 6.07596C0.469231 5.9296 0.777703 6.00079 0.924058 6.23496C1.40354 7.00213 1.989 7.68057 2.66233 8.2427C2.67315 8.25096 2.6837 8.25972 2.69397 8.26898C4.00897 9.35527 5.65537 9.99991 7.50001 9.99991C10.3078 9.99991 12.6564 8.5063 14.076 6.23495C14.2223 6.00079 14.5308 5.9296 14.7649 6.07596Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Hre=["color"],Gre=g.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,o=kb(t,Hre);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),g.createElement("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Kre=["color"],ff=g.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,o=kb(t,Kre);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),g.createElement("path",{d:"M1.84998 7.49998C1.84998 4.66458 4.05979 1.84998 7.49998 1.84998C10.2783 1.84998 11.6515 3.9064 12.2367 5H10.5C10.2239 5 10 5.22386 10 5.5C10 5.77614 10.2239 6 10.5 6H13.5C13.7761 6 14 5.77614 14 5.5V2.5C14 2.22386 13.7761 2 13.5 2C13.2239 2 13 2.22386 13 2.5V4.31318C12.2955 3.07126 10.6659 0.849976 7.49998 0.849976C3.43716 0.849976 0.849976 4.18537 0.849976 7.49998C0.849976 10.8146 3.43716 14.15 7.49998 14.15C9.44382 14.15 11.0622 13.3808 12.2145 12.2084C12.8315 11.5806 13.3133 10.839 13.6418 10.0407C13.7469 9.78536 13.6251 9.49315 13.3698 9.38806C13.1144 9.28296 12.8222 9.40478 12.7171 9.66014C12.4363 10.3425 12.0251 10.9745 11.5013 11.5074C10.5295 12.4963 9.16504 13.15 7.49998 13.15C4.05979 13.15 1.84998 10.3354 1.84998 7.49998Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),Yre=["color"],Qre=g.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,o=kb(t,Yre);return g.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),g.createElement("path",{d:"M7.81825 1.18188C7.64251 1.00615 7.35759 1.00615 7.18185 1.18188L4.18185 4.18188C4.00611 4.35762 4.00611 4.64254 4.18185 4.81828C4.35759 4.99401 4.64251 4.99401 4.81825 4.81828L7.05005 2.58648V9.49996C7.05005 9.74849 7.25152 9.94996 7.50005 9.94996C7.74858 9.94996 7.95005 9.74849 7.95005 9.49996V2.58648L10.1819 4.81828C10.3576 4.99401 10.6425 4.99401 10.8182 4.81828C10.994 4.64254 10.994 4.35762 10.8182 4.18188L7.81825 1.18188ZM2.5 9.99997C2.77614 9.99997 3 10.2238 3 10.5V12C3 12.5538 3.44565 13 3.99635 13H11.0012C11.5529 13 12 12.5528 12 12V10.5C12 10.2238 12.2239 9.99997 12.5 9.99997C12.7761 9.99997 13 10.2238 13 10.5V12C13 13.104 12.1062 14 11.0012 14H3.99635C2.89019 14 2 13.103 2 12V10.5C2 10.2238 2.22386 9.99997 2.5 9.99997Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const R8=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(null),[o,i]=g.useState(!1),{dispatch:a,user:c}=Ee(),l=async()=>{r(null),i(!0);try{const{uid:d}=c,h=qe(Re,"users",d);await oo(h,{online:!1}),await Mq(aa),a({type:"LOGOUT"}),t||(i(!1),r(null))}catch(d){t||(console.log(d.message),r(d.message),i(!1))}};return g.useEffect(()=>()=>e(!0),[]),{logout:l,error:n,isPending:o}};function Z0({size:t,justify:e,isTopBar:n}){const r=t||190;DS();const o=Ue(),i=()=>o("/"),a=()=>"/Logo top bar.png";return s.jsx("div",{role:"button",onClick:i,style:{display:"flex",alignItems:"center",justifyContent:e||"center",height:n?140:"auto"},children:s.jsx("img",{src:a(),style:{height:n?128:"auto",width:n?"auto":r,maxHeight:"100%",objectFit:"contain",display:"block"},alt:"Petzia"})})}function Xre(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Jre(...t){return e=>t.forEach(n=>Xre(n,e))}var D8=g.forwardRef((t,e)=>{const{children:n,...r}=t,o=g.Children.toArray(n),i=o.find(eoe);if(i){const a=i.props.children,c=o.map(l=>l===i?g.Children.count(a)>1?g.Children.only(null):g.isValidElement(a)?a.props.children:null:l);return s.jsx(sE,{...r,ref:e,children:g.isValidElement(a)?g.cloneElement(a,void 0,c):null})}return s.jsx(sE,{...r,ref:e,children:n})});D8.displayName="Slot";var sE=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const o=noe(n);return g.cloneElement(n,{...toe(r,n.props),ref:e?Jre(e,o):o})}return g.Children.count(n)>1?g.Children.only(null):null});sE.displayName="SlotClone";var Zre=({children:t})=>s.jsx(s.Fragment,{children:t});function eoe(t){return g.isValidElement(t)&&t.type===Zre}function toe(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...c)=>{i(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}function noe(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var roe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ooe=roe.reduce((t,e)=>{const n=g.forwardRef((r,o)=>{const{asChild:i,...a}=r,c=i?D8:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...a,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),ioe="Separator",tP="horizontal",soe=["horizontal","vertical"],N8=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=tP,...o}=t,i=aoe(r)?r:tP,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(ooe.div,{"data-orientation":i,...c,...o,ref:e})});N8.displayName=ioe;function aoe(t){return soe.includes(t)}var $8=N8;const O8=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},o)=>s.jsx($8,{ref:o,decorative:n,orientation:e,className:Se("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));O8.displayName=$8.displayName;const F8="Avatar",[coe,I_e]=Mi(F8),[loe,M8]=coe(F8),doe=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[o,i]=g.useState("idle");return g.createElement(loe,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:i},g.createElement(Ge.span,Z({},r,{ref:e})))}),uoe="AvatarImage",hoe=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...i}=t,a=M8(uoe,n),c=moe(r),l=Gt(d=>{o(d),a.onImageLoadingStatusChange(d)});return ca(()=>{c!=="idle"&&l(c)},[c,l]),c==="loaded"?g.createElement(Ge.img,Z({},i,{ref:e,src:r})):null}),poe="AvatarFallback",foe=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...o}=t,i=M8(poe,n),[a,c]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&i.imageLoadingStatus!=="loaded"?g.createElement(Ge.span,Z({},o,{ref:e})):null});function moe(t){const[e,n]=g.useState("idle");return g.useEffect(()=>{if(!t){n("error");return}let r=!0;const o=new window.Image,i=a=>()=>{r&&n(a)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=t,()=>{r=!1}},[t]),e}const L8=doe,V8=hoe,z8=foe,B8=g.forwardRef(({className:t,...e},n)=>s.jsx(L8,{ref:n,className:Se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));B8.displayName=L8.displayName;const U8=g.forwardRef(({className:t,...e},n)=>s.jsx(V8,{ref:n,className:Se("aspect-square h-full w-full",t),...e}));U8.displayName=V8.displayName;const q8=g.forwardRef(({className:t,...e},n)=>s.jsx(z8,{ref:n,className:Se("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));q8.displayName=z8.displayName;const goe=t=>t?t.split(" ").map(e=>e.charAt(0).toUpperCase()).join(""):"",voe=RD.useId||(()=>{});let xoe=0;function fd(t){const[e,n]=g.useState(voe());return ca(()=>{t||n(r=>r??String(xoe++))},[t]),t||(e?`radix-${e}`:"")}const aE="dismissableLayer.update",boe="dismissableLayer.pointerDownOutside",yoe="dismissableLayer.focusOutside";let nP;const woe=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_oe=g.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:l,...d}=t,h=g.useContext(woe),[u,f]=g.useState(null),v=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,x]=g.useState({}),y=bt(e,S=>f(S)),_=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(w),I=u?_.indexOf(u):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,D=I>=E,$=Eoe(S=>{const C=S.target,P=[...h.branches].some(N=>N.contains(C));!D||P||(i==null||i(S),c==null||c(S),S.defaultPrevented||l==null||l())},v),k=Toe(S=>{const C=S.target;[...h.branches].some(N=>N.contains(C))||(a==null||a(S),c==null||c(S),S.defaultPrevented||l==null||l())},v);return $S(S=>{I===h.layers.size-1&&(o==null||o(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},v),g.useEffect(()=>{if(u)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(nP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(u)),h.layers.add(u),rP(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=nP)}},[u,v,r,h]),g.useEffect(()=>()=>{u&&(h.layers.delete(u),h.layersWithOutsidePointerEventsDisabled.delete(u),rP())},[u,h]),g.useEffect(()=>{const S=()=>x({});return document.addEventListener(aE,S),()=>document.removeEventListener(aE,S)},[]),g.createElement(Ge.div,Z({},d,{ref:y,style:{pointerEvents:j?D?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,$.onPointerDownCapture)}))});function Eoe(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let h=function(){W8(boe,n,d,{discrete:!0})};var l=h;const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Toe(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=g.useRef(!1);return g.useEffect(()=>{const o=i=>{i.target&&!r.current&&W8(yoe,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rP(){const t=new CustomEvent(aE);document.dispatchEvent(t)}function W8(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Gf(o,i):o.dispatchEvent(i)}const l1="focusScope.autoFocusOnMount",d1="focusScope.autoFocusOnUnmount",oP={bubbles:!1,cancelable:!0},Ioe=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=t,[c,l]=g.useState(null),d=Gt(o),h=Gt(i),u=g.useRef(null),f=bt(e,y=>l(y)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let E=function($){if(v.paused||!c)return;const k=$.target;c.contains(k)?u.current=k:Es(u.current,{select:!0})},I=function($){if(v.paused||!c)return;const k=$.relatedTarget;k!==null&&(c.contains(k)||Es(u.current,{select:!0}))},j=function($){if(document.activeElement===document.body)for(const S of $)S.removedNodes.length>0&&Es(c)};var y=E,_=I,w=j;document.addEventListener("focusin",E),document.addEventListener("focusout",I);const D=new MutationObserver(j);return c&&D.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",I),D.disconnect()}}},[r,c,v.paused]),g.useEffect(()=>{if(c){sP.add(v);const y=document.activeElement;if(!c.contains(y)){const w=new CustomEvent(l1,oP);c.addEventListener(l1,d),c.dispatchEvent(w),w.defaultPrevented||(Soe(Poe(H8(c)),{select:!0}),document.activeElement===y&&Es(c))}return()=>{c.removeEventListener(l1,d),setTimeout(()=>{const w=new CustomEvent(d1,oP);c.addEventListener(d1,h),c.dispatchEvent(w),w.defaultPrevented||Es(y??document.body,{select:!0}),c.removeEventListener(d1,h),sP.remove(v)},0)}}},[c,d,h,v]);const x=g.useCallback(y=>{if(!n&&!r||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(_&&w){const E=y.currentTarget,[I,j]=koe(E);I&&j?!y.shiftKey&&w===j?(y.preventDefault(),n&&Es(I,{select:!0})):y.shiftKey&&w===I&&(y.preventDefault(),n&&Es(j,{select:!0})):w===E&&y.preventDefault()}},[n,r,v.paused]);return g.createElement(Ge.div,Z({tabIndex:-1},a,{ref:f,onKeyDown:x}))});function Soe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Es(r,{select:e}),document.activeElement!==n)return}function koe(t){const e=H8(t),n=iP(e,t),r=iP(e.reverse(),t);return[n,r]}function H8(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function iP(t,e){for(const n of t)if(!Coe(n,{upTo:e}))return n}function Coe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function joe(t){return t instanceof HTMLInputElement&&"select"in t}function Es(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&joe(t)&&e&&t.select()}}const sP=Aoe();function Aoe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=aP(t,e),t.unshift(e)},remove(e){var n;t=aP(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function aP(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Poe(t){return t.filter(e=>e.tagName!=="A")}const Roe=g.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=t;return r?jT.createPortal(g.createElement(Ge.div,Z({},o,{ref:e})),r):null});let u1=0;function G8(){g.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:cP()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:cP()),u1++,()=>{u1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),u1--}},[])}function cP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var zv="right-scroll-bar-position",Bv="width-before-scroll-bar",Doe="with-scroll-bars-hidden",Noe="--removed-body-scroll-bar-size";function $oe(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Ooe(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=e,n.facade}function Foe(t,e){return Ooe(null,function(n){return t.forEach(function(r){return $oe(r,n)})})}function Moe(t){return t}function Loe(t,e){e===void 0&&(e=Moe);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var l=function(){var h=a;a=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return o}function Voe(t){t===void 0&&(t={});var e=Loe(null);return e.options=jt({async:!0,ssr:!1},t),e}var K8=function(t){var e=t.sideCar,n=Sf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,jt({},n))};K8.isSideCarExport=!0;function zoe(t,e){return t.useMedium(e),K8}var Y8=Voe(),h1=function(){},Cb=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:h1,onWheelCapture:h1,onTouchMoveCapture:h1}),o=r[0],i=r[1],a=t.forwardProps,c=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,u=t.shards,f=t.sideCar,v=t.noIsolation,x=t.inert,y=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,E=Sf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),I=f,j=Foe([n,e]),D=jt(jt({},E),o);return g.createElement(g.Fragment,null,h&&g.createElement(I,{sideCar:Y8,removeScrollBar:d,shards:u,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n}),a?g.cloneElement(g.Children.only(c),jt(jt({},D),{ref:j})):g.createElement(w,jt({},D,{className:l,ref:j}),c))});Cb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cb.classNames={fullWidth:Bv,zeroRight:zv};var Boe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Uoe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Boe();return e&&t.setAttribute("nonce",e),t}function qoe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Woe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Hoe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Uoe())&&(qoe(e,n),Woe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Goe=function(){var t=Hoe();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Q8=function(){var t=Goe(),e=function(n){var r=n.styles,o=n.dynamic;return t(r,o),null};return e},Koe={left:0,top:0,right:0,gap:0},p1=function(t){return parseInt(t||"",10)||0},Yoe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[p1(n),p1(r),p1(o)]},Qoe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Koe;var e=Yoe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Xoe=Q8(),Joe=function(t,e,n,r){var o=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Doe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zv,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Bv,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(zv," .").concat(zv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Bv," .").concat(Bv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Noe,": ").concat(c,`px;
  }
`)},Zoe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=r===void 0?"margin":r,i=g.useMemo(function(){return Qoe(o)},[o]);return g.createElement(Xoe,{styles:Joe(i,!e,o,n?"":"!important")})},cE=!1;if(typeof window<"u")try{var Jm=Object.defineProperty({},"passive",{get:function(){return cE=!0,!0}});window.addEventListener("test",Jm,Jm),window.removeEventListener("test",Jm,Jm)}catch{cE=!1}var gl=cE?{passive:!1}:!1,eie=function(t){return t.tagName==="TEXTAREA"},X8=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!eie(t)&&n[e]==="visible")},tie=function(t){return X8(t,"overflowY")},nie=function(t){return X8(t,"overflowX")},lP=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=J8(t,n);if(r){var o=Z8(t,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},rie=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},oie=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},J8=function(t,e){return t==="v"?tie(e):nie(e)},Z8=function(t,e){return t==="v"?rie(e):oie(e)},iie=function(t,e){return t==="h"&&e==="rtl"?-1:1},sie=function(t,e,n,r,o){var i=iie(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,l=e.contains(c),d=!1,h=a>0,u=0,f=0;do{var v=Z8(t,c),x=v[0],y=v[1],_=v[2],w=y-_-i*x;(x||w)&&J8(t,c)&&(u+=w,f+=x),c=c.parentNode}while(!l&&c!==document.body||l&&(e.contains(c)||e===c));return(h&&(u===0||!o)||!h&&(f===0||!o))&&(d=!0),d},Zm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},dP=function(t){return[t.deltaX,t.deltaY]},uP=function(t){return t&&"current"in t?t.current:t},aie=function(t,e){return t[0]===e[0]&&t[1]===e[1]},cie=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},lie=0,vl=[];function die(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),o=g.useState(lie++)[0],i=g.useState(function(){return Q8()})[0],a=g.useRef(t);g.useEffect(function(){a.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var y=kd([t.lockRef.current],(t.shards||[]).map(uP),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var c=g.useCallback(function(y,_){if("touches"in y&&y.touches.length===2)return!a.current.allowPinchZoom;var w=Zm(y),E=n.current,I="deltaX"in y?y.deltaX:E[0]-w[0],j="deltaY"in y?y.deltaY:E[1]-w[1],D,$=y.target,k=Math.abs(I)>Math.abs(j)?"h":"v";if("touches"in y&&k==="h"&&$.type==="range")return!1;var S=lP(k,$);if(!S)return!0;if(S?D=k:(D=k==="v"?"h":"v",S=lP(k,$)),!S)return!1;if(!r.current&&"changedTouches"in y&&(I||j)&&(r.current=D),!D)return!0;var C=r.current||D;return sie(C,_,y,C==="h"?I:j,!0)},[]),l=g.useCallback(function(y){var _=y;if(!(!vl.length||vl[vl.length-1]!==i)){var w="deltaY"in _?dP(_):Zm(_),E=e.current.filter(function(D){return D.name===_.type&&D.target===_.target&&aie(D.delta,w)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var I=(a.current.shards||[]).map(uP).filter(Boolean).filter(function(D){return D.contains(_.target)}),j=I.length>0?c(_,I[0]):!a.current.noIsolation;j&&_.cancelable&&_.preventDefault()}}},[]),d=g.useCallback(function(y,_,w,E){var I={name:y,delta:_,target:w,should:E};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(j){return j!==I})},1)},[]),h=g.useCallback(function(y){n.current=Zm(y),r.current=void 0},[]),u=g.useCallback(function(y){d(y.type,dP(y),y.target,c(y,t.lockRef.current))},[]),f=g.useCallback(function(y){d(y.type,Zm(y),y.target,c(y,t.lockRef.current))},[]);g.useEffect(function(){return vl.push(i),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,gl),document.addEventListener("touchmove",l,gl),document.addEventListener("touchstart",h,gl),function(){vl=vl.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,gl),document.removeEventListener("touchmove",l,gl),document.removeEventListener("touchstart",h,gl)}},[]);var v=t.removeScrollBar,x=t.inert;return g.createElement(g.Fragment,null,x?g.createElement(i,{styles:cie(o)}):null,v?g.createElement(Zoe,{gapMode:"margin"}):null)}const uie=zoe(Y8,die);var KS=g.forwardRef(function(t,e){return g.createElement(Cb,jt({},t,{ref:e,sideCar:uie}))});KS.classNames=Cb.classNames;var hie=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xl=new WeakMap,eg=new WeakMap,tg={},f1=0,e6=function(t){return t&&(t.host||e6(t.parentNode))},pie=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=e6(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},fie=function(t,e,n,r){var o=pie(e,Array.isArray(t)?t:[t]);tg[n]||(tg[n]=new WeakMap);var i=tg[n],a=[],c=new Set,l=new Set(o),d=function(u){!u||c.has(u)||(c.add(u),d(u.parentNode))};o.forEach(d);var h=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(f){if(c.has(f))h(f);else{var v=f.getAttribute(r),x=v!==null&&v!=="false",y=(xl.get(f)||0)+1,_=(i.get(f)||0)+1;xl.set(f,y),i.set(f,_),a.push(f),y===1&&x&&eg.set(f,!0),_===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}})};return h(e),c.clear(),f1++,function(){a.forEach(function(u){var f=xl.get(u)-1,v=i.get(u)-1;xl.set(u,f),i.set(u,v),f||(eg.has(u)||u.removeAttribute(r),eg.delete(u)),v||u.removeAttribute(n)}),f1--,f1||(xl=new WeakMap,xl=new WeakMap,eg=new WeakMap,tg={})}},t6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),o=hie(t);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),fie(r,o,n,"aria-hidden")):function(){return null}};const n6="Dialog",[r6,o6]=Mi(n6),[mie,ao]=r6(n6),gie=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:a=!0}=t,c=g.useRef(null),l=g.useRef(null),[d=!1,h]=yb({prop:r,defaultProp:o,onChange:i});return g.createElement(mie,{scope:e,triggerRef:c,contentRef:l,contentId:fd(),titleId:fd(),descriptionId:fd(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(u=>!u),[h]),modal:a},n)},vie="DialogTrigger",xie=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ao(vie,n),i=bt(e,o.triggerRef);return g.createElement(Ge.button,Z({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":YS(o.open)},r,{ref:i,onClick:ye(t.onClick,o.onOpenToggle)}))}),i6="DialogPortal",[bie,s6]=r6(i6,{forceMount:void 0}),yie=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:o}=t,i=ao(i6,e);return g.createElement(bie,{scope:e,forceMount:n},g.Children.map(r,a=>g.createElement(Li,{present:n||i.open},g.createElement(Roe,{asChild:!0,container:o},a))))},lE="DialogOverlay",wie=g.forwardRef((t,e)=>{const n=s6(lE,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,i=ao(lE,t.__scopeDialog);return i.modal?g.createElement(Li,{present:r||i.open},g.createElement(_ie,Z({},o,{ref:e}))):null}),_ie=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ao(lE,n);return g.createElement(KS,{as:Uc,allowPinchZoom:!0,shards:[o.contentRef]},g.createElement(Ge.div,Z({"data-state":YS(o.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Ud="DialogContent",Eie=g.forwardRef((t,e)=>{const n=s6(Ud,t.__scopeDialog),{forceMount:r=n.forceMount,...o}=t,i=ao(Ud,t.__scopeDialog);return g.createElement(Li,{present:r||i.open},i.modal?g.createElement(Tie,Z({},o,{ref:e})):g.createElement(Iie,Z({},o,{ref:e})))}),Tie=g.forwardRef((t,e)=>{const n=ao(Ud,t.__scopeDialog),r=g.useRef(null),o=bt(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return t6(i)},[]),g.createElement(a6,Z({},t,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,i=>i.preventDefault())}))}),Iie=g.forwardRef((t,e)=>{const n=ao(Ud,t.__scopeDialog),r=g.useRef(!1),o=g.useRef(!1);return g.createElement(a6,Z({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a;if((a=t.onCloseAutoFocus)===null||a===void 0||a.call(t,i),!i.defaultPrevented){var c;r.current||(c=n.triggerRef.current)===null||c===void 0||c.focus(),i.preventDefault()}r.current=!1,o.current=!1},onInteractOutside:i=>{var a,c;(a=t.onInteractOutside)===null||a===void 0||a.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=i.target;((c=n.triggerRef.current)===null||c===void 0?void 0:c.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}}))}),a6=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,...a}=t,c=ao(Ud,n),l=g.useRef(null),d=bt(e,l);return G8(),g.createElement(g.Fragment,null,g.createElement(Ioe,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i},g.createElement(_oe,Z({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":YS(c.open)},a,{ref:d,onDismiss:()=>c.onOpenChange(!1)}))),!1)}),c6="DialogTitle",Sie=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ao(c6,n);return g.createElement(Ge.h2,Z({id:o.titleId},r,{ref:e}))}),kie="DialogDescription",Cie=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ao(kie,n);return g.createElement(Ge.p,Z({id:o.descriptionId},r,{ref:e}))}),jie="DialogClose",Aie=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,o=ao(jie,n);return g.createElement(Ge.button,Z({type:"button"},r,{ref:e,onClick:ye(t.onClick,()=>o.onOpenChange(!1))}))});function YS(t){return t?"open":"closed"}const Pie="DialogTitleWarning",[Rie,S_e]=Vte(Pie,{contentName:Ud,titleName:c6,docsSlug:"dialog"}),l6=gie,Die=xie,Kf=yie,Yf=wie,Qf=Eie,Xf=Sie,Jf=Cie,jb=Aie,d6=l6,Nie=Die,u6=({className:t,...e})=>s.jsx(Kf,{className:Se(t),...e});u6.displayName=Kf.displayName;const h6=g.forwardRef(({className:t,...e},n)=>s.jsx(Yf,{ref:n,className:Se("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));h6.displayName=Yf.displayName;const QS=g.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(u6,{children:[s.jsx(h6,{}),s.jsxs(Qf,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...n,children:[e,s.jsxs(jb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Tb,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));QS.displayName=Qf.displayName;const p6=({className:t,...e})=>s.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});p6.displayName="DialogHeader";const f6=({className:t,...e})=>s.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});f6.displayName="DialogFooter";const m6=g.forwardRef(({className:t,...e},n)=>s.jsx(Xf,{ref:n,className:Se("text-lg font-semibold leading-none tracking-tight",t),...e}));m6.displayName=Xf.displayName;const g6=g.forwardRef(({className:t,...e},n)=>s.jsx(Jf,{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));g6.displayName=Jf.displayName;const $ie={document:null,isPending:!1,error:null,success:null},Oie=(t,e)=>{switch(e.type){case"IS_PENDING":return{isPending:!0,document:null,success:!1,error:null};case"ADDED_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"SET_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"DELETED_DOCUMENT":return{isPending:!1,document:null,success:!0,error:null};case"UPDATED_DOCUMENT":return{isPending:!1,document:e.payload,success:!0,error:null};case"ERROR":return{isPending:!1,document:null,success:!1,error:e.payload};default:return{...t,isPending:!1}}},Ve=t=>{const[e,n]=g.useReducer(Oie,$ie),[r,o]=g.useState(!1),i=cr(Re,t),a=x=>{r||n(x)},c=async x=>{n({type:"IS_PENDING"});try{const _=await H0(i,{...x,createdAt:Ml});return a({type:"ADDED_DOCUMENT",payload:_}),{type:"SUCCESS",payload:_.id}}catch(y){return console.log("Error adding document: ",x,y.message),a({type:"ERROR",payload:y.message}),{type:"ERROR",payload:y.message}}},l=async(x,y)=>{try{const _=Ml,w=await vi(qe(Re,t,x),{...y,createdAt:_});a({type:"SET_DOCUMENT",payload:w})}catch(_){return a({type:"ERROR",payload:_.message}),{type:"ERROR",payload:_.message}}},d=async(x,y)=>{n({type:"IS_PENDING"});try{const _=qe(Re,t,x);console.log("id"," => ",x);const w=await oo(_,{...y,lastEdited:Ml});return a({type:"UPDATED_DOCUMENT",payload:w}),{type:"SUCCESS",payload:w}}catch(_){return a({type:"ERROR",payload:_.message}),console.log(_),console.log(y),{type:"ERROR",payload:_.message}}},h=async x=>{n({type:"IS_PENDING"});try{return await U_(qe(i,x)),a({type:"DELETED_DOCUMENT"}),{type:"SUCCESS",payload:""}}catch(y){return a({type:"ERROR",payload:y.message}),{type:"ERROR",payload:y.message}}},u=async(x,y,_)=>{n({type:"IS_PENDING"});try{const w=Ml,E=cr(Re,`${t}/${x}/${y}`),I=await H0(E,{..._,createdAt:w});return a({type:"ADDED_DOCUMENT",payload:I}),{type:"SUCCESS",payload:I.id}}catch(w){return a({type:"ERROR",payload:w.message}),{type:"ERROR",payload:w.message}}},f=async(x,y,_)=>{n({type:"IS_PENDING"});try{const w=qe(Re,`${t}/${x}/${y}`,_);return await U_(w),a({type:"DELETED_DOCUMENT"}),{type:"SUCCESS",payload:""}}catch(w){return a({type:"ERROR",payload:w.message}),{type:"ERROR",payload:w.message}}},v=async(x,y,_,w)=>{n({type:"IS_PENDING"});try{const E=qe(Re,`${t}/${x}/${y}`,_),I=await oo(E,{...w,lastEdited:Ml});return a({type:"UPDATED_DOCUMENT",payload:I}),{type:"SUCCESS",payload:I}}catch(E){return a({type:"ERROR",payload:E.message}),console.log(E),{type:"ERROR",payload:E.message}}};return g.useEffect(()=>()=>o(!0),[]),{addDocument:c,deleteDocument:h,createDocument:l,updateDocument:d,addSubDocument:u,updateSubDocument:v,deleteSubDocument:f,response:e,serverTimestamp:ir}},Fie=async(t,e,n)=>new Promise((r,o)=>{const i=K_(Pte,`${e}/${n}.${t.type.split("/")[1]}`),a=aF(i,t);a.on("state_changed",c=>{console.log(c)},c=>{o(c)},()=>{cF(a.snapshot.ref).then(c=>{console.log("Arquivo disponível na URL: ",c),r(c)})})});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dE=function(t,e){return dE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},dE(t,e)};function Mie(t,e){dE(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var An=function(){return An=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},An.apply(this,arguments)},hP=!1,Ja,uE,hE,Uv,qv,v6,Wv,pE,fE,mE,x6,gE,vE,b6,y6;function or(){if(!hP){hP=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(gE=/\b(iPhone|iP[ao]d)/.exec(t),vE=/\b(iP[ao]d)/.exec(t),mE=/Android/i.exec(t),b6=/FBAN\/\w+;/i.exec(t),y6=/Mobile/i.exec(t),x6=!!/Win64/.exec(t),e){Ja=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Ja&&document&&document.documentMode&&(Ja=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);v6=r?parseFloat(r[1])+4:Ja,uE=e[2]?parseFloat(e[2]):NaN,hE=e[3]?parseFloat(e[3]):NaN,Uv=e[4]?parseFloat(e[4]):NaN,Uv?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),qv=e&&e[1]?parseFloat(e[1]):NaN):qv=NaN}else Ja=uE=hE=qv=Uv=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Wv=o?parseFloat(o[1].replace("_",".")):!0}else Wv=!1;pE=!!n[2],fE=!!n[3]}else Wv=pE=fE=!1}}var xE={ie:function(){return or()||Ja},ieCompatibilityMode:function(){return or()||v6>Ja},ie64:function(){return xE.ie()&&x6},firefox:function(){return or()||uE},opera:function(){return or()||hE},webkit:function(){return or()||Uv},safari:function(){return xE.webkit()},chrome:function(){return or()||qv},windows:function(){return or()||pE},osx:function(){return or()||Wv},linux:function(){return or()||fE},iphone:function(){return or()||gE},mobile:function(){return or()||gE||vE||mE||y6},nativeApp:function(){return or()||b6},android:function(){return or()||mE},ipad:function(){return or()||vE}},Lie=xE,ng=!!(typeof window<"u"&&window.document&&window.document.createElement),Vie={canUseDOM:ng,canUseWorkers:typeof Worker<"u",canUseEventListeners:ng&&!!(window.addEventListener||window.attachEvent),canUseViewport:ng&&!!window.screen,isInWorker:!ng},zie=Vie,w6=zie,_6;w6.canUseDOM&&(_6=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Bie(t,e){if(!w6.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r=typeof o[n]=="function"}return!r&&_6&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Uie=Bie,qie=Lie,Wie=Uie,pP=10,fP=40,mP=800;function E6(t){var e=0,n=0,r=0,o=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*pP,o=n*pP,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(t.deltaMode==1?(r*=fP,o*=fP):(r*=mP,o*=mP)),r&&!e&&(e=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:o}}E6.getEventType=function(){return qie.firefox()?"DOMMouseScroll":Wie("wheel")?"wheel":"mousewheel"};var Hie=E6,Gie=Hie;const Kie=NE(Gie);function Yie(t,e,n,r,o,i){i===void 0&&(i=0);var a=qd(t,e,i),c=a.width,l=a.height,d=Math.min(c,n),h=Math.min(l,r);return d>h*o?{width:h*o,height:h}:{width:d,height:d/o}}function Qie(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function rg(t,e,n,r,o){o===void 0&&(o=0);var i=qd(e.width,e.height,o),a=i.width,c=i.height;return{x:gP(t.x,a,n.width,r),y:gP(t.y,c,n.height,r)}}function gP(t,e,n,r){var o=e*r/2-n/2;return Ab(t,-o,o)}function vP(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function xP(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function Xie(t,e,n,r,o,i,a){i===void 0&&(i=0),a===void 0&&(a=!0);var c=a?Jie:Zie,l=qd(e.width,e.height,i),d=qd(e.naturalWidth,e.naturalHeight,i),h={x:c(100,((l.width-n.width/o)/2-t.x/o)/l.width*100),y:c(100,((l.height-n.height/o)/2-t.y/o)/l.height*100),width:c(100,n.width/l.width*100/o),height:c(100,n.height/l.height*100/o)},u=Math.round(c(d.width,h.width*d.width/100)),f=Math.round(c(d.height,h.height*d.height/100)),v=d.width>=d.height*r,x=v?{width:Math.round(f*r),height:f}:{width:u,height:Math.round(u/r)},y=An(An({},x),{x:Math.round(c(d.width-x.width,h.x*d.width/100)),y:Math.round(c(d.height-x.height,h.y*d.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:y}}function Jie(t,e){return Math.min(t,Math.max(0,e))}function Zie(t,e){return e}function ese(t,e,n,r,o,i){var a=qd(e.width,e.height,n),c=Ab(r.width/a.width*(100/t.width),o,i),l={x:c*a.width/2-r.width/2-a.width*c*(t.x/100),y:c*a.height/2-r.height/2-a.height*c*(t.y/100)};return{crop:l,zoom:c}}function tse(t,e,n){var r=Qie(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function nse(t,e,n,r,o,i){n===void 0&&(n=0);var a=qd(e.naturalWidth,e.naturalHeight,n),c=Ab(tse(t,e,r),o,i),l=r.height>r.width?r.height/t.height:r.width/t.width,d={x:((a.width-t.width)/2-t.x)*l,y:((a.height-t.height)/2-t.y)*l};return{crop:d,zoom:c}}function bP(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function rse(t){return t*Math.PI/180}function qd(t,e,n){var r=rse(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Ab(t,e,n){return Math.min(Math.max(t,e),n)}function og(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var ose=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,ise=1,sse=3,ase=function(t){Mie(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.imageRef=Be.createRef(),n.videoRef=Be.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var o=ese(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=o.crop,a=o.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(a)}else if(n.props.initialCroppedAreaPixels){var c=nse(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),i=c.crop,a=c.zoom;n.props.onCropChange(i),n.props.onZoomChange&&n.props.onZoomChange(a)}},n.computeSizes=function(){var r,o,i,a,c,l,d=n.imageRef.current||n.videoRef.current;if(d&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h=n.containerRect.width/n.containerRect.height,u=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,f=((i=n.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((a=n.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,v=d.offsetWidth<u||d.offsetHeight<f,x=u/f,y=void 0;if(v){var _=n.getObjectFit();switch(_){default:case"contain":y=h>x?{width:n.containerRect.height*x,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/x};break;case"horizontal-cover":y={width:n.containerRect.width,height:n.containerRect.width/x};break;case"vertical-cover":y={width:n.containerRect.height*x,height:n.containerRect.height};break}}else y={width:d.offsetWidth,height:d.offsetHeight};n.mediaSize=An(An({},y),{naturalWidth:u,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var w=n.props.cropSize?n.props.cropSize:Yie(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((c=n.state.cropSize)===null||c===void 0?void 0:c.height)!==w.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==w.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(w),n.setState({cropSize:w},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(w),w}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var o=e.getMousePoint(r),i=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(i,o,{shouldUpdatePosition:!0}),n.props.onRotationChange){var a=n.gestureRotationStart+r.rotation;n.props.onRotationChange(a)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var o,i,a=r.x,c=r.y;n.dragStartPosition={x:a,y:c},n.dragStartCrop=An({},n.props.crop),(i=(o=n.props).onInteractionStart)===null||i===void 0||i.call(o)},n.onDrag=function(r){var o=r.x,i=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(o===void 0||i===void 0)){var a=o-n.dragStartPosition.x,c=i-n.dragStartPosition.y,l={x:n.dragStartCrop.x+a,y:n.dragStartCrop.y+c},d=n.props.restrictPosition?rg(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(d)}}))},n.onDragStopped=function(){var r,o;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(o=(r=n.props).onInteractionEnd)===null||o===void 0||o.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var o=e.getMousePoint(r),i=Kie(r).pixelY,a=n.props.zoom-i*n.props.zoomSpeed/200;n.setNewZoom(a,o,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var c,l;return(l=(c=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(c)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var c,l;return(l=(c=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(c)})},250)}},n.getPointOnContainer=function(r,o){var i=r.x,a=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(i-o.x),y:n.containerRect.height/2-(a-o.y)}},n.getPointOnMedia=function(r){var o=r.x,i=r.y,a=n.props,c=a.crop,l=a.zoom;return{x:(o+c.x)/l,y:(i+c.y)/l}},n.setNewZoom=function(r,o,i){var a=i===void 0?{}:i,c=a.shouldUpdatePosition,l=c===void 0?!0:c;if(!(!n.state.cropSize||!n.props.onZoomChange)){var d=Ab(r,n.props.minZoom,n.props.maxZoom);if(l){var h=n.getPointOnContainer(o,n.containerPosition),u=n.getPointOnMedia(h),f={x:u.x*d-h.x,y:u.y*d-h.y},v=n.props.restrictPosition?rg(f,n.mediaSize,n.state.cropSize,d,n.props.rotation):f;n.props.onCropChange(v)}n.props.onZoomChange(d)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?rg(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Xie(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(o,i),n.props.onCropAreaChange&&n.props.onCropAreaChange(o,i)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,i=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(o,i)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?rg(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=ose,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,o,i,a,c,l,d,h,u;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((i=n.cropSize)===null||i===void 0?void 0:i.width)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.width)?this.computeSizes():(((c=n.crop)===null||c===void 0?void 0:c.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((d=n.crop)===null||d===void 0?void 0:d.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((u=this.videoRef.current)===null||u===void 0||u.load())},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,o=n.aspect;return r?r.width/r.height:o},e.prototype.getObjectFit=function(){var n,r,o,i;if(this.props.objectFit==="cover"){var a=this.imageRef.current||this.videoRef.current;if(a&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var c=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,d=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,h=l/d;return h<c?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),o=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=vP(r,o),this.lastPinchRotation=xP(r,o),this.onDragStart(bP(r,o))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]),a=bP(o,i);this.onDrag(a),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var c=vP(o,i),l=r.props.zoom*(c/r.lastPinchDistance);r.setNewZoom(l,a,{shouldUpdatePosition:!1}),r.lastPinchDistance=c;var d=xP(o,i),h=r.props.rotation+(d-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=d})}},e.prototype.render=function(){var n=this,r=this.props,o=r.image,i=r.video,a=r.mediaProps,c=r.transform,l=r.crop,d=l.x,h=l.y,u=r.rotation,f=r.zoom,v=r.cropShape,x=r.showGrid,y=r.style,_=y.containerStyle,w=y.cropAreaStyle,E=y.mediaStyle,I=r.classes,j=I.containerClassName,D=I.cropAreaClassName,$=I.mediaClassName,k=this.getObjectFit();return Be.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(C){return n.containerRef=C},"data-testid":"container",style:_,className:og("reactEasyCrop_Container",j)},o?Be.createElement("img",An({alt:"",className:og("reactEasyCrop_Image",k==="contain"&&"reactEasyCrop_Contain",k==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",k==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",$)},a,{src:o,ref:this.imageRef,style:An(An({},E),{transform:c||"translate(".concat(d,"px, ").concat(h,"px) rotate(").concat(u,"deg) scale(").concat(f,")")}),onLoad:this.onMediaLoad})):i&&Be.createElement("video",An({autoPlay:!0,loop:!0,muted:!0,className:og("reactEasyCrop_Video",k==="contain"&&"reactEasyCrop_Contain",k==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",k==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",$)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:An(An({},E),{transform:c||"translate(".concat(d,"px, ").concat(h,"px) rotate(").concat(u,"deg) scale(").concat(f,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(S){return Be.createElement("source",An({key:S.src},S))})),this.state.cropSize&&Be.createElement("div",{style:An(An({},w),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:og("reactEasyCrop_CropArea",v==="round"&&"reactEasyCrop_CropAreaRound",x&&"reactEasyCrop_CropAreaGrid",D)}))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:sse,minZoom:ise,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(Be.Component);const cse=t=>new Promise((e,n)=>{const r=new Image;r.addEventListener("load",()=>e(r)),r.addEventListener("error",o=>n(o)),r.setAttribute("crossOrigin","anonymous"),r.src=t});function T6(t){return t*Math.PI/180}function lse(t,e,n){const r=T6(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}async function dse(t,e,n=0,r={horizontal:!1,vertical:!1}){const o=await cse(t),i=document.createElement("canvas"),a=i.getContext("2d");if(!a)return null;const c=T6(n),{width:l,height:d}=lse(o.width,o.height,n);i.width=l,i.height=d,a.translate(l/2,d/2),a.rotate(c),a.scale(r.horizontal?-1:1,r.vertical?-1:1),a.translate(-o.width/2,-o.height/2),a.drawImage(o,0,0);const h=document.createElement("canvas"),u=h.getContext("2d");return u?(h.width=e.width,h.height=e.height,u.drawImage(i,e.x,e.y,e.width,e.height,0,0,e.width,e.height),new Promise((f,v)=>{h.toBlob(x=>{f(URL.createObjectURL(x))},"image/jpeg")})):null}const ka=()=>{const t=g.useContext(j8);if(!t)throw Error("useUserContext must be inside an UserDocProvider.");return t};function use({children:t,setRerender:e}){var N;const{user:n}=Ee(),{userDoc:r}=ka(),[o,i]=g.useState(!1),[a,c]=g.useState(!1),[l,d]=g.useState({x:0,y:0}),[h,u]=g.useState(0),[f,v]=g.useState(1),[x,y]=g.useState(null),[_,w]=g.useState(""),{updateDocument:E}=Ve("users"),I=g.useRef(),j=(O,R)=>{y(R)},D=async()=>{try{return await dse(_,x,h)}catch(O){return console.error(O),null}},$=async O=>{if(O.target.files&&O.target.files.length>0){const R=O.target.files[0];if(console.log(O),!R){alert("Por favor, selecione um arquivo.");return}if(!R.type.includes("image")){alert("Por favor, selecione uma imagem.");return}if(R.size>15e5){alert("Por favor, selecione uma imagem menor do que 1,5 MB.");return}const K=URL.createObjectURL(R);w(K)}},k=async O=>(await fetch(O)).blob(),S=(O,R)=>new File([O],R,{type:O.type}),C=async()=>{i(!0);try{const O=await D(),R=await k(O),K=S(R,"profile-pic.jpg"),re=await Fie(K,`users/${n.uid}`,"profilePic");await E(n.uid,{profilePic:re}),await XT(n,{photoURL:re}),await xN(n),e(oe=>!oe)}catch(O){console.error("Erro ao atualizar o perfil: ",O)}i(!1),c(!1),w("")};if(g.useEffect(()=>()=>{w("")},[]),!r)return s.jsx(Zn,{});const P=r.latam;return s.jsxs(d6,{open:a,onOpenChange:c,children:[s.jsx(Nie,{asChild:!0,children:t}),s.jsxs(QS,{className:"sm:max-w-[425px]",children:[s.jsxs(p6,{children:[s.jsx(m6,{children:"Foto de perfil"}),s.jsx(g6,{children:P?"Cambia tu foto de perfil":"Altere a sua foto de perfil."})]}),!_&&s.jsx("div",{className:"mt-2.5 bg-primary-foreground h-64 border border-border rounded-lg flex justify-center items-center",style:{backgroundImage:`url(${(N=n.photoURL)==null?void 0:N.replace("=s96-c","")})`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},role:"button",onClick:()=>I.current.click(),children:s.jsx("div",{className:"p-2.5 rounded-md",children:s.jsx(Qre,{className:"text-primary w-8 h-8"})})}),_&&s.jsx("div",{className:"mt-5 relative h-64",children:s.jsx(ase,{image:_,crop:l,rotation:h,zoom:f,aspect:1/1,onCropChange:d,onRotationChange:u,onCropComplete:j,onZoomChange:v})}),s.jsx("input",{onChange:$,accept:"image/*",ref:I,type:"file",className:"hidden"}),s.jsx(f6,{className:"mt-1",children:s.jsxs(la,{disabled:o,onClick:C,children:[o&&s.jsx(ff,{className:"mr-2 animate-spin"}),o?P?"Guardando la foto...":"Salvando a foto...":P?"Guardar nueva foto":"Salvar nova foto"]})})]})]})}const hse=[{route:"/",name:"Início",icon:s.jsx(Une,{className:"h-6 sm:h-5"})},{route:"/adestramento",name:"Adestramento",icon:s.jsx(Qne,{className:"h-6 sm:h-5"})},{route:"/diario",name:"Diário",icon:s.jsx(MS,{className:"h-6 sm:h-5"})},{route:"/vacinas",name:"Vacinas",icon:s.jsx(m8,{className:"h-6 sm:h-5"})},{route:"/mais",name:"Mais",icon:s.jsx(jne,{className:"h-6 sm:h-5"})}];function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function da(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function sn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function $n(t){sn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||ex(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function pse(t,e){sn(2,arguments);var n=$n(t),r=da(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function fse(t,e){sn(2,arguments);var n=$n(t).getTime(),r=da(e);return new Date(n+r)}var mse={};function Pb(){return mse}function gse(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function yP(t){sn(1,arguments);var e=$n(t);return e.setHours(0,0,0,0),e}function vse(t){return sn(1,arguments),t instanceof Date||ex(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function xse(t){if(sn(1,arguments),!vse(t)&&typeof t!="number")return!1;var e=$n(t);return!isNaN(Number(e))}function bse(t,e){sn(2,arguments);var n=da(e);return fse(t,-n)}var yse=864e5;function wse(t){sn(1,arguments);var e=$n(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),o=n-r;return Math.floor(o/yse)+1}function tx(t){sn(1,arguments);var e=1,n=$n(t),r=n.getUTCDay(),o=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function I6(t){sn(1,arguments);var e=$n(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=tx(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=tx(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function _se(t){sn(1,arguments);var e=I6(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=tx(n);return r}var Ese=6048e5;function Tse(t){sn(1,arguments);var e=$n(t),n=tx(e).getTime()-_se(e).getTime();return Math.round(n/Ese)+1}function nx(t,e){var n,r,o,i,a,c,l,d;sn(1,arguments);var h=Pb(),u=da((n=(r=(o=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:h.weekStartsOn)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=$n(t),v=f.getUTCDay(),x=(v<u?7:0)+v-u;return f.setUTCDate(f.getUTCDate()-x),f.setUTCHours(0,0,0,0),f}function S6(t,e){var n,r,o,i,a,c,l,d;sn(1,arguments);var h=$n(t),u=h.getUTCFullYear(),f=Pb(),v=da((n=(r=(o=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(u+1,0,v),x.setUTCHours(0,0,0,0);var y=nx(x,e),_=new Date(0);_.setUTCFullYear(u,0,v),_.setUTCHours(0,0,0,0);var w=nx(_,e);return h.getTime()>=y.getTime()?u+1:h.getTime()>=w.getTime()?u:u-1}function Ise(t,e){var n,r,o,i,a,c,l,d;sn(1,arguments);var h=Pb(),u=da((n=(r=(o=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(a=e.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=S6(t,e),v=new Date(0);v.setUTCFullYear(f,0,u),v.setUTCHours(0,0,0,0);var x=nx(v,e);return x}var Sse=6048e5;function kse(t,e){sn(1,arguments);var n=$n(t),r=nx(n,e).getTime()-Ise(n,e).getTime();return Math.round(r/Sse)+1}function Xe(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Xi={y:function(e,n){var r=e.getUTCFullYear(),o=r>0?r:1-r;return Xe(n==="yy"?o%100:o,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Xe(r+1,2)},d:function(e,n){return Xe(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Xe(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Xe(e.getUTCHours(),n.length)},m:function(e,n){return Xe(e.getUTCMinutes(),n.length)},s:function(e,n){return Xe(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,o=e.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return Xe(i,n.length)}},bl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cse={G:function(e,n,r){var o=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var o=e.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return Xi.y(e,n)},Y:function(e,n,r,o){var i=S6(e,o),a=i>0?i:1-i;if(n==="YY"){var c=a%100;return Xe(c,2)}return n==="Yo"?r.ordinalNumber(a,{unit:"year"}):Xe(a,n.length)},R:function(e,n){var r=I6(e);return Xe(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Xe(r,n.length)},Q:function(e,n,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return Xe(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,n,r){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return Xe(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,n,r){var o=e.getUTCMonth();switch(n){case"M":case"MM":return Xi.M(e,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,n,r){var o=e.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return Xe(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,n,r,o){var i=kse(e,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Xe(i,n.length)},I:function(e,n,r){var o=Tse(e);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):Xe(o,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):Xi.d(e,n)},D:function(e,n,r){var o=wse(e);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):Xe(o,n.length)},E:function(e,n,r){var o=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,n,r,o){var i=e.getUTCDay(),a=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Xe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,o){var i=e.getUTCDay(),a=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Xe(a,n.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var o=e.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return Xe(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,n,r){var o=e.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var o=e.getUTCHours(),i;switch(o===12?i=bl.noon:o===0?i=bl.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var o=e.getUTCHours(),i;switch(o>=17?i=bl.evening:o>=12?i=bl.afternoon:o>=4?i=bl.morning:i=bl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var o=e.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return Xi.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Xi.H(e,n)},K:function(e,n,r){var o=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):Xe(o,n.length)},k:function(e,n,r){var o=e.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):Xe(o,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Xi.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Xi.s(e,n)},S:function(e,n){return Xi.S(e,n)},X:function(e,n,r,o){var i=o._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return _P(a);case"XXXX":case"XX":return Ha(a);case"XXXXX":case"XXX":default:return Ha(a,":")}},x:function(e,n,r,o){var i=o._originalDate||e,a=i.getTimezoneOffset();switch(n){case"x":return _P(a);case"xxxx":case"xx":return Ha(a);case"xxxxx":case"xxx":default:return Ha(a,":")}},O:function(e,n,r,o){var i=o._originalDate||e,a=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+wP(a,":");case"OOOO":default:return"GMT"+Ha(a,":")}},z:function(e,n,r,o){var i=o._originalDate||e,a=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+wP(a,":");case"zzzz":default:return"GMT"+Ha(a,":")}},t:function(e,n,r,o){var i=o._originalDate||e,a=Math.floor(i.getTime()/1e3);return Xe(a,n.length)},T:function(e,n,r,o){var i=o._originalDate||e,a=i.getTime();return Xe(a,n.length)}};function wP(t,e){var n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var a=e;return n+String(o)+a+Xe(i,2)}function _P(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Xe(Math.abs(t)/60,2)}return Ha(t,e)}function Ha(t,e){var n=e||"",r=t>0?"-":"+",o=Math.abs(t),i=Xe(Math.floor(o/60),2),a=Xe(o%60,2);return r+i+n+a}var EP=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},k6=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},jse=function(e,n){var r=e.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return EP(e,n);var a;switch(o){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",EP(o,n)).replace("{{time}}",k6(i,n))},Ase={p:k6,P:jse},Pse=["D","DD"],Rse=["YY","YYYY"];function Dse(t){return Pse.indexOf(t)!==-1}function Nse(t){return Rse.indexOf(t)!==-1}function TP(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var $se={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ose=function(e,n,r){var o,i=$se[e];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function md(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var Fse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vse={date:md({formats:Fse,defaultWidth:"full"}),time:md({formats:Mse,defaultWidth:"full"}),dateTime:md({formats:Lse,defaultWidth:"full"})},zse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bse=function(e,n,r,o){return zse[e]};function Io(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):i;o=t.formattingValues[a]||t.formattingValues[i]}else{var c=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[l]||t.values[c]}var d=t.argumentCallback?t.argumentCallback(e):e;return o[d]}}var Use={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yse=function(e,n){var r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qse={ordinalNumber:Yse,era:Io({values:Use,defaultWidth:"wide"}),quarter:Io({values:qse,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Io({values:Wse,defaultWidth:"wide"}),day:Io({values:Hse,defaultWidth:"wide"}),dayPeriod:Io({values:Gse,defaultWidth:"wide",formattingValues:Kse,defaultFormattingWidth:"wide"})};function So(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;var a=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(c)?Jse(c,function(u){return u.test(a)}):Xse(c,function(u){return u.test(a)}),d;d=t.valueCallback?t.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;var h=e.slice(a.length);return{value:d,rest:h}}}function Xse(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Jse(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function C6(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var o=r[0],i=e.match(t.parsePattern);if(!i)return null;var a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var c=e.slice(o.length);return{value:a,rest:c}}}var Zse=/^(\d+)(th|st|nd|rd)?/i,eae=/\d+/i,tae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nae={any:[/^b/i,/^(a|c)/i]},rae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oae={any:[/1/i,/2/i,/3/i,/4/i]},iae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uae={ordinalNumber:C6({matchPattern:Zse,parsePattern:eae,valueCallback:function(e){return parseInt(e,10)}}),era:So({matchPatterns:tae,defaultMatchWidth:"wide",parsePatterns:nae,defaultParseWidth:"any"}),quarter:So({matchPatterns:rae,defaultMatchWidth:"wide",parsePatterns:oae,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:So({matchPatterns:iae,defaultMatchWidth:"wide",parsePatterns:sae,defaultParseWidth:"any"}),day:So({matchPatterns:aae,defaultMatchWidth:"wide",parsePatterns:cae,defaultParseWidth:"any"}),dayPeriod:So({matchPatterns:lae,defaultMatchWidth:"any",parsePatterns:dae,defaultParseWidth:"any"})},hae={code:"en-US",formatDistance:Ose,formatLong:Vse,formatRelative:Bse,localize:Qse,match:uae,options:{weekStartsOn:0,firstWeekContainsDate:1}},pae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mae=/^'([^]*?)'?$/,gae=/''/g,vae=/[a-zA-Z]/;function wp(t,e,n){var r,o,i,a,c,l,d,h,u,f,v,x,y,_,w,E,I,j;sn(2,arguments);var D=String(e),$=Pb(),k=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:$.locale)!==null&&r!==void 0?r:hae,S=da((i=(a=(c=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&c!==void 0?c:$.firstWeekContainsDate)!==null&&a!==void 0?a:(u=$.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=da((v=(x=(y=(_=n==null?void 0:n.weekStartsOn)!==null&&_!==void 0?_:n==null||(w=n.locale)===null||w===void 0||(E=w.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&y!==void 0?y:$.weekStartsOn)!==null&&x!==void 0?x:(I=$.locale)===null||I===void 0||(j=I.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&v!==void 0?v:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var P=$n(t);if(!xse(P))throw new RangeError("Invalid time value");var N=gse(P),O=bse(P,N),R={firstWeekContainsDate:S,weekStartsOn:C,locale:k,_originalDate:P},K=D.match(fae).map(function(re){var oe=re[0];if(oe==="p"||oe==="P"){var xe=Ase[oe];return xe(re,k.formatLong)}return re}).join("").match(pae).map(function(re){if(re==="''")return"'";var oe=re[0];if(oe==="'")return xae(re);var xe=Cse[oe];if(xe)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Nse(re)&&TP(re,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Dse(re)&&TP(re,e,String(t)),xe(O,re,k.localize,R);if(oe.match(vae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+oe+"`");return re}).join("");return K}function xae(t){var e=t.match(mae);return e?e[1].replace(gae,"'"):t}function bae(t,e){sn(2,arguments);var n=$n(t),r=$n(e);return n.getTime()>r.getTime()}function yae(t,e){sn(2,arguments);var n=$n(t),r=$n(e);return n.getTime()<r.getTime()}function wae({rerender:t,setRerender:e,sidebarExpanded:n,setSidebarExpanded:r,isWatching:o,setIsWatching:i}){const a=Ue(),c=Sb("(min-width: 1920px)"),{logout:l,isPending:d}=R8();Ee();const{userDoc:h}=ka(),[u,f]=g.useState(0),v=()=>{l()};return h?s.jsxs("nav",{className:`${n?"w-[282px]":"w-[88px]"} bg-white transition-all relative overflow-y-auto min-h-[calc(100vh_-_120px)] hidden sm:flex sm:flex-col sm:justify-between h-full border-none`,children:[d&&s.jsx(Zn,{}),s.jsxs("div",{className:`${n?"w-[282px]":"w-[88px]"} fixed h-[calc(100vh_-_120px)] sm:flex-grow sm:flex sm:flex-col sm:justify-between p-5`,children:[s.jsx("div",{className:"flex flex-col gap-3 box-border",children:hse.map((x,y)=>x.admin&&!h.admin||x.hidden||h.name==="Aluno Teste"&&x.route==="/maia"?null:s.jsxs("div",{role:"button",className:`${n?"w-full py-3 pl-2":"w-fit p-3"} relative flex items-center gap-3 transition-all duration-300 hover:bg-[#dfdfff55] rounded-md  ${y===u?"bg-[#dfdfff55] font-medium":""}`,onClick:()=>{f(y),x.external?window.open(x.route,"_blank"):(x.route==="/assistir"&&!c?(c||r(!1),i(!0)):r(!0),a(x.route))},children:[x.icon,n&&s.jsx("p",{className:"text-sm text-black/75 font-normal",children:x.name}),x.badge&&n&&s.jsx("p",{className:"absolute top-0 -right-3 text-[11px] font-light bg-brand text-white px-1 rounded-sm",children:x.badge}),x.miniBadge&&!n&&s.jsx("p",{className:"absolute -top-[2px] right-[3px] text-[15px]",children:x.miniBadge})]},x.route))}),s.jsxs("div",{children:[s.jsx(O8,{className:"my-3 opacity-15"}),s.jsx("div",{className:"flex flex-col py-2.5",children:s.jsxs(la,{size:"noPadding",variant:"ghost",onClick:v,className:`${n?"w-full py-3 pl-2":"w-fit p-3"} gap-3 rounded-md justify-start transition-all duration-300 hover:bg-[#dfdfff55] text-black/75 font-normal`,children:[s.jsx(Hne,{className:"w-5 h-5 text-brand"}),n?"Sair da conta":null]})})]})]}),t&&s.jsx("span",{className:"hidden"})]}):s.jsx(Zn,{})}const j6=({className:t,...e})=>s.jsx(Kf,{className:Se(t),...e});j6.displayName=Kf.displayName;const A6=g.forwardRef(({className:t,...e},n)=>s.jsx(Yf,{className:Se("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));A6.displayName=Yf.displayName;const _ae=FS("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Eae=g.forwardRef(({side:t="right",className:e,children:n,...r},o)=>s.jsxs(j6,{children:[s.jsx(A6,{}),s.jsxs(Qf,{ref:o,className:Se(_ae({side:t}),e),...r,children:[n,s.jsxs(jb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Tb,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Eae.displayName=Qf.displayName;const Tae=g.forwardRef(({className:t,...e},n)=>s.jsx(Xf,{ref:n,className:Se("text-lg font-semibold text-foreground",t),...e}));Tae.displayName=Xf.displayName;const Iae=g.forwardRef(({className:t,...e},n)=>s.jsx(Jf,{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));Iae.displayName=Jf.displayName;const P6=()=>{const[t,e]=g.useState(!1);return g.useEffect(()=>{const n=()=>{const r=window.matchMedia("(display-mode: standalone)").matches,o=window.navigator.standalone;e(r||o)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t};function Sae({setRerender:t}){var r;const{userDoc:e}=ka();P6(),g.useState(!1);const{user:n}=Ee();return R8(),Ue(),Ib("tokens",n.uid),e?e?s.jsxs("div",{className:"fixed w-full bg-white border border-border h-[72px] flex justify-between items-center px-5 z-[50]",children:[s.jsx(Z0,{isTopBar:!0}),s.jsx("div",{className:"flex gap-2.5",children:s.jsx(use,{setRerender:t,children:s.jsxs(B8,{className:"h-12 w-12",role:"button",children:[s.jsx(U8,{src:(r=n.photoURL)==null?void 0:r.replace("=s96-c","")}),s.jsx(q8,{className:"bg-[#dfdfff] text-[#820ad1]",children:goe(e.name)})]})})})]}):s.jsx(Zn,{}):s.jsx(Zn,{})}function kae({setRerender:t}){const{userDoc:e}=ka();P6(),g.useState(!1);const{user:n}=Ee();return Ib("tokens",n.uid),e?e?s.jsx("div",{className:"fixed w-full bg-muted border border-border h-16 flex justify-between items-center z-50",children:s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(Z0,{isTopBar:!0})})}):s.jsx(Zn,{}):s.jsx(Zn,{})}const Cae=({isOpen:t,onClose:e})=>{const n=Ue(),{logout:r}=Dte(),{resetOnboarding:o}=Hf(),[i,a]=g.useState(null),[c,l]=g.useState(!1),[d,h]=g.useState(!1),u=[{id:"profile",icon:"👤",label:"Perfil",description:"Gerencie suas informações pessoais"},{id:"notifications",icon:"🔔",label:"Notificações",description:"Configure suas preferências de notificação"},{id:"updatePet",icon:"🐾",label:"Atualizar Informações do Pet",description:"Refaça o cadastro para atualizar os dados do seu pet"},{id:"help",icon:"❓",label:"Ajuda",description:"Encontre respostas para suas dúvidas"},{id:"reportProblem",icon:"🐞",label:"Reporte um Problema",description:"Informe-nos sobre algum problema que encontrou"},{id:"terms",icon:"📜",label:"Termos de Uso",description:"Leia nossos termos e condições"},{id:"privacy",icon:"🔒",label:"Privacidade",description:"Conheça nossa política de privacidade"}],f=y=>{switch(a(y),y){case"profile":n("/profile"),e();break;case"notifications":n("/notifications"),e();break;case"updatePet":h(!0);break;case"help":n("/help"),e();break;case"reportProblem":n("/report-problem"),e();break;case"terms":n("/terms"),e();break;case"privacy":n("/privacy"),e();break}},v=async()=>{try{await r(),n("/login")}catch(y){console.error("Erro ao fazer logout:",y)}},x=async()=>{l(!0);try{await o(),e(),n("/onboarding")}catch(y){console.error("Erro ao resetar onboarding:",y),l(!1)}};return t?s.jsx("div",{className:"settings-overlay",onClick:e,children:s.jsxs("div",{className:"settings-menu",onClick:y=>y.stopPropagation(),children:[s.jsxs("div",{className:"settings-header",children:[s.jsx("h2",{children:"Configurações"}),s.jsx("button",{className:"close-button",onClick:e,children:"×"})]}),s.jsx("div",{className:"settings-content",children:u.map(y=>s.jsxs("div",{className:`settings-item ${i===y.id?"active":""}`,onClick:()=>f(y.id),children:[s.jsx("span",{className:"item-icon",children:y.icon}),s.jsxs("div",{className:"item-info",children:[s.jsx("h3",{children:y.label}),s.jsx("p",{children:y.description})]}),s.jsx("span",{className:"item-arrow",children:"→"})]},y.id))}),d&&s.jsx("div",{className:"confirmation-modal",children:s.jsxs("div",{className:"confirmation-content",children:[s.jsx("h3",{children:"Atualizar Informações do Pet"}),s.jsx("p",{children:"Esta ação irá resetar as informações do seu pet e você precisará refazer o cadastro. Deseja continuar?"}),s.jsxs("div",{className:"confirmation-buttons",children:[s.jsx("button",{className:"cancel-button",onClick:()=>h(!1),disabled:c,children:"Cancelar"}),s.jsx("button",{className:"confirm-button",onClick:x,disabled:c,children:c?"Processando...":"Confirmar"})]})]})}),s.jsx("div",{className:"settings-footer",children:s.jsx("button",{className:"logout-button",onClick:v,children:"Sair"})})]})}):null},jae=()=>{const t=Gc(),[e,n]=g.useState(!1),r=o=>t.pathname===o;return s.jsxs(s.Fragment,{children:[s.jsxs("nav",{className:"bottom-bar",children:[s.jsxs(ic,{to:"/dashboard",className:`nav-item ${r("/dashboard")?"active":""}`,children:[s.jsx("span",{className:"nav-icon",children:"🏠"}),s.jsx("span",{className:"nav-label",children:"Início"})]}),s.jsxs(ic,{to:"/content/training",className:`nav-item ${r("/content/training")?"active":""}`,children:[s.jsx("span",{className:"nav-icon",children:"🎓"}),s.jsx("span",{className:"nav-label",children:"Adestramento"})]}),s.jsxs(ic,{to:"/content/diary",className:`nav-item ${r("/content/diary")?"active":""}`,children:[s.jsx("span",{className:"nav-icon",children:"📝"}),s.jsx("span",{className:"nav-label",children:"Diário"})]}),s.jsxs(ic,{to:"/content/vaccines",className:`nav-item ${r("/content/vaccines")?"active":""}`,children:[s.jsx("span",{className:"nav-icon",children:"💉"}),s.jsx("span",{className:"nav-label",children:"Vacinas"})]}),s.jsxs("button",{className:`nav-item ${r("/more")?"active":""}`,onClick:()=>n(!0),children:[s.jsx("span",{className:"nav-icon",children:"⚙️"}),s.jsx("span",{className:"nav-label",children:"Mais"})]})]}),s.jsx(Cae,{isOpen:e,onClose:()=>n(!1)})]})},gd=g.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));gd.displayName="Input";function ft(t){const n=`; ${document.cookie}`.split(`; ${t}=`);if(n.length===2)return n.pop().split(";").shift()}const R6=()=>{const{search:t}=Gc();return Be.useMemo(()=>new URLSearchParams(t),[t])},D6=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(null),[o,i]=g.useState(!1),{dispatch:a}=Ee(),c=R6(),l=async u=>{const f=qe(Re,"users",u);return(await gi(f)).exists()},d=async u=>{r(null),i(!0);try{const f=await e$(aa,Rte);if(u==="login")a({type:"LOGIN",payload:f.user});else{let v=0;const x=10;for(;v<x;){if(await l(f.user.uid)){const _=qe(Re,"users",f.user.uid),w={online:!0,user_agent:navigator.userAgent,origin:window.location.href.split("?")[0]},E=ft("_fbp"),I=ft("_fbc");E&&(w.fbp=E),I&&(w.fbc=I);const j=c.get("utm_source")||ft("utm_source"),D=c.get("utm_medium")||ft("utm_medium"),$=c.get("utm_campaign")||ft("utm_campaign"),k=c.get("utm_term")||ft("utm_term"),S=c.get("utm_content")||ft("utm_content"),C={};j&&(C.source=j),D&&(C.medium=D),$&&(C.campaign=$),k&&(C.term=k),S&&(C.content=S),Object.keys(C).length>0&&(w.utm=C);const P=c.get("sck")||ft("sck");P&&(w.sck=P),await oo(_,w),a({type:"LOGIN",payload:f.user});break}v++,await new Promise(_=>setTimeout(_,1e3))}if(v===x)throw new Error("Max attempts reached. User doc was not created.")}t||(i(!1),r(null))}catch(f){console.log(f.message),t||(r(f.message),i(!1))}},h=async(u,f)=>{r(null),i(!0);try{const v=await UN(aa,u,f),x=qe(Re,"users",v.user.uid);if((await gi(x)).exists()){const _={online:!0,lastLogin:new Date,user_agent:navigator.userAgent,origin:window.location.href.split("?")[0]},w=ft("_fbp"),E=ft("_fbc");w&&(_.fbp=w),E&&(_.fbc=E);const I=c.get("utm_source")||ft("utm_source"),j=c.get("utm_medium")||ft("utm_medium"),D=c.get("utm_campaign")||ft("utm_campaign"),$=c.get("utm_term")||ft("utm_term"),k=c.get("utm_content")||ft("utm_content"),S={};I&&(S.source=I),j&&(S.medium=j),D&&(S.campaign=D),$&&(S.term=$),k&&(S.content=k),Object.keys(S).length>0&&(_.utm=S);const C=c.get("sck")||ft("sck");C&&(_.sck=C),await oo(x,_)}a({type:"LOGIN",payload:v.user}),t||(i(!1),r(null))}catch(v){t||(console.log(v.message),r(v.message),i(!1))}};return g.useEffect(()=>()=>{i(!1),e(!0)},[]),{login:h,authenticateWithGoogle:d,error:n,isPending:o}};function Aae(){return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 24 24",width:"20",className:"mr-2",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"}),s.jsx("path",{d:"M1 1h22v22H1z",fill:"none"})]})}const Pae="_spin_1rywd_305",nt={"login-bg":"_login-bg_1rywd_19","login-container":"_login-container_1rywd_41","logo-mascote":"_logo-mascote_1rywd_69","login-title":"_login-title_1rywd_89","login-subtitle":"_login-subtitle_1rywd_105","login-form":"_login-form_1rywd_131","login-input":"_login-input_1rywd_145","password-input":"_password-input_1rywd_181","eye-icon":"_eye-icon_1rywd_195","login-btn":"_login-btn_1rywd_217","forgot-link":"_forgot-link_1rywd_265","error-msg":"_error-msg_1rywd_293","spin-icon":"_spin-icon_1rywd_305",spin:Pae};function Rae(){const{login:t,isPending:e,error:n}=D6(),[r,o]=g.useState(""),[i,a]=g.useState(""),c=Ue(),[l,d]=g.useState(""),[h,u]=g.useState(!1),[f,v]=g.useState(!1),x=async _=>{if(_.preventDefault(),d(""),!r.includes("@")||!r.includes(".")){d("Por favor, insira um e-mail válido.");return}if(u(!0),r==="token@gmail.com"){const w=i;try{await LN(aa,w),c("/oportunidades")}catch{d("O token fornecido é inválido.")}return}try{await t(r,i)}catch(w){d(w.message)}},y=()=>{v(_=>!_)};return g.useEffect(()=>{n&&n.includes("auth/invalid-login-credentials")&&d("As credenciais fornecidas estão incorretas. Verifique sua senha ou clique em 'Esqueci minha senha' para redefinir.")},[n]),s.jsx("div",{className:nt["login-bg"],children:s.jsxs("div",{className:nt["login-container"],children:[s.jsx("img",{src:"/Logo para página de login.png",alt:"Mascote Petzia",className:nt["logo-mascote"]}),s.jsx("h1",{className:nt["login-title"],children:"Bem-vindo ao Petzia!"}),s.jsx("p",{className:nt["login-subtitle"],children:"Conectando você ao seu pet, com tecnologia e amor."}),s.jsxs("form",{className:nt["login-form"],onSubmit:x,children:[s.jsx("input",{type:"email",placeholder:"E-mail",className:nt["login-input"],value:r,onChange:_=>o(_.target.value.trim().toLowerCase()),required:!0}),s.jsxs("div",{className:nt["password-input"],children:[s.jsx("input",{type:f?"text":"password",placeholder:"Senha",className:nt["login-input"],value:i,onChange:_=>a(_.target.value)}),f===!1&&s.jsx(Gre,{onClick:y,className:nt["eye-icon"]}),f===!0&&s.jsx(Wre,{onClick:y,className:nt["eye-icon"]})]}),s.jsxs("button",{type:"submit",className:nt["login-btn"],disabled:e,children:[e&&h&&s.jsx(ff,{className:nt["spin-icon"]}),e&&h?"Entrando...":"Entrar na minha conta"]}),l&&s.jsx("p",{className:nt["error-msg"],children:l})]}),s.jsx(ic,{to:"/recover",className:nt["forgot-link"],children:"Esqueceu sua senha?"})]})})}const Dae=()=>{const t=R6(),[e,n]=g.useState(!1),[r,o]=g.useState(null),[i,a]=g.useState(!1),{dispatch:c}=Ee(),l=async(d,h,u,f)=>{o(null),a(!0);try{const v=await BN(aa,d,h);if(!v||!v.user)throw a(!1),new Error("Não foi possível realizar o cadastro.");await XT(v.user,{displayName:f});const x=Ml;await vi(qe(Re,"users",v.user.uid),{id:v.user.uid,online:!0,createdAt:x,email:d,name:f,phone:u,user_agent:navigator.userAgent,origin:window.location.href.split("?")[0],fbp:ft("_fbp"),fbc:ft("_fbc"),utm:{source:t.get("utm_source")||ft("utm_source"),medium:t.get("utm_medium")||ft("utm_medium"),campaign:t.get("utm_campaign")||ft("utm_campaign"),term:t.get("utm_term")||ft("utm_term"),content:t.get("utm_content")||ft("utm_content")},sck:t.get("sck")||ft("sck")}),c({type:"LOGIN",payload:v.user}),e||(a(!1),o(null))}catch(v){e||(console.log(v.message),o(v.message),a(!1))}};return g.useEffect(()=>()=>n(!0),[]),{error:r,isPending:i,signup:l}},Nae=t=>{const e=t.trim().split(" ");return e.length<2||!e[0]||!e[1]?(console.log("invalid full name: "+t),{isValidName:!1,message:"Insira seu nome completo, incluindo nome e sobrenome."}):{isValidFullName:!0,message:""}},$ae=t=>{const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,n=t.startsWith(".")||t.startsWith("@")||t.endsWith(".");return!e.test(t)||n?{isValidEmail:!1,message:"Insira um e-mail válido."}:{isValidEmail:!0,message:""}},Oae=t=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(t)?{isValidPassword:!0,message:""}:{isValidPassword:!1,message:"A senha precisa ter pelo menos 8 caracteres, incluindo 1 letra maiúscula, 1 letra minúscula, 1 número e 1 caractere especial."};function Fae(){const{authenticateWithGoogle:t,isPending:e}=D6(),[n,r]=g.useState(""),[o,i]=g.useState(""),[a,c]=g.useState(""),[l,d]=g.useState(""),{signup:h,error:u,isPending:f}=Dae(),[v,x]=g.useState("");function y(w){const E=w.split("@");if(E.length!==2)return;const I=E[1],j={"outlok.com":"outlook.com","otlook.com":"outlook.com","gamil.com":"gmail.com","gmial.com":"gmail.com","gmail.co":"gmail.com","gmai.com":"gmail.com","hotmal.com":"hotmail.com","hotmai.com":"hotmail.com","hotmial.com":"hotmail.com","live.con":"live.com","live.cmo":"live.com","live.cm":"live.com"};j[I]?d(`Você quis dizer ${E[0]}@${j[I]}?`):d("")}const _=w=>{w.preventDefault();const{isValidFullName:E,message:I}=Nae(n),{isValidEmail:j,message:D}=$ae(o),{isValidPassword:$,message:k}=Oae(a);if(!E||!j||!$){x({type:"error",message:I||D||k});return}h(o,a,n)};return g.useEffect(()=>{u&&(u.includes("email-already-in-use")?x({type:"error",message:"O e-mail informado já está em uso."}):u.includes("weak-password")?x({type:"error",message:"A senha informada é muito fraca."}):u.includes("invalid-email")?x({type:"error",message:"O e-mail informado é inválido."}):(console.log(u),x({type:"error",message:"Ocorreu um erro ao criar a conta. Tente novamente."})))},[u]),s.jsxs("div",{className:"flex flex-col-reverse xl:flex-row 2xl:gap-20 xl:h-screen w-full xl:px-20 2xl:px-40 xl:py-20 2xl:py-0",children:[s.jsx("div",{className:"xl:w-1/2 xl:h-[90%] 2xl:h-[80%] my-auto bg-muted rounded-xl px-5 sm:p-12 py-8 flex justify-center items-center",children:s.jsxs("div",{children:[s.jsx(Z0,{}),s.jsx("h2",{className:"mt-12 sm:mt-10 2xl:mt-16 text-4xl leading-[44px] sm:leading-[50px] font-medium",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit."}),s.jsx("p",{className:"mt-4 sm:mt-6 2xl:mt-10 text-muted-foreground",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Labore debitis dolore, dicta fugiat iure quia! Hic facilis aut ducimus aliquam blanditiis ex ea. Ipsa omnis quas impedit maiores ad unde?"}),s.jsx("div",{className:"bg-foreground text-background p-5 sm:p-8 rounded-xl mt-[8%] leading-6 2xl:leading-8",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eveniet quasi molestias molestiae, pariatur, doloribus neque saepe sit hic quis sequi nulla non quidem accusantium harum ipsa minima adipisci iure obcaecati!"})]})}),s.jsx("div",{className:"flex flex-col justify-center xl:w-1/2 px-5 md:px-20 py-[15%] sm:h-auto",children:s.jsxs("div",{children:[s.jsx("div",{className:"sm:hidden mx-auto w-fit",children:s.jsx(Z0,{})}),s.jsx("h1",{className:"mt-12 sm:mt-0 text-3xl font-medium text-center sm:text-left",children:"Cadastre-se agora"}),s.jsx("p",{className:"mt-2 text-muted-foreground font-normal text-lg text-center sm:text-left",children:"Crie sua conta agora mesmo"}),s.jsxs(la,{size:"xl",variant:"outline",className:"mt-6 text-lg w-full",disabled:e||f,onClick:t,children:[e&&s.jsx(ff,{className:"w-5 h-5 mr-2 animate-spin"}),s.jsx(Aae,{}),e?"Aguardando...":"Entrar com a conta Google"]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-primary-foreground px-2 text-muted-foreground",children:"Ou continue com"})})]}),s.jsxs("form",{onSubmit:_,children:[s.jsx("p",{className:"text-muted-foreground mb-2.5",children:"Nome completo"}),s.jsx(gd,{type:"text",autoComplete:"name",value:n,onChange:w=>{const E=w.target.value;(E===""||/^[A-Za-z\s]+$/.test(E))&&r(E)}}),s.jsx("p",{className:"mt-2.5 text-muted-foreground mb-2.5",children:"E-mail"}),s.jsx(gd,{type:"email",autoComplete:"email",value:o,onChange:w=>{const E=w.target.value.trim().toLowerCase();(E===""||/^[a-zA-Z0-9._%+-@]+$/.test(E))&&i(E),y(w.target.value)}}),l&&s.jsx("p",{className:"text-muted-foreground text-sm mt-1.5",role:"button",onClick:()=>{i(l.split("Você quis dizer ")[1].replace("?","")),d("")},children:l}),s.jsx("p",{className:"mt-2.5 text-muted-foreground mb-2.5",children:"Senha"}),s.jsx(gd,{type:"password",autoComplete:"new-password",value:a,onChange:w=>c(w.target.value)}),s.jsxs(la,{disabled:f||e,size:"xl",className:"mt-6 text-lg w-full",children:[f&&s.jsx(ff,{className:"w-5 h-5 mr-2 animate-spin"}),f?"Criando a conta...":"Criar minha conta"]})]}),v&&v.type==="error"&&s.jsx("p",{className:"text-left text-red-500 mt-4",children:v.message}),s.jsxs("div",{className:"mt-12 sm:mt-6 flex justify-center gap-2 text-lg",children:[s.jsx("p",{children:"Já tem uma conta?"}),s.jsx(ic,{to:"/login",className:"text-primary underline",children:"Entre agora."})]})]})})]})}function Mae(){const[t,e]=g.useState(""),[n,r]=g.useState(!1),[o,i]=g.useState(""),a=async c=>{r(!0),c.preventDefault();try{await VN(aa,t),i({type:"success",message:"E-mail de recuperação de senha enviado com sucesso! Confira a caixa de entrada e o SPAM."})}catch{i({type:"error",message:"Ocorreu um erro ao enviar o e-mail de recuperação. Contate o suporte."})}finally{r(!1)}};return s.jsx("div",{className:nt["login-bg"],children:s.jsxs("div",{className:nt["login-container"],children:[s.jsx("img",{src:"/Logo para página de login.png",alt:"Mascote Petzia",className:nt["logo-mascote"]}),s.jsx("h1",{className:nt["login-title"],children:"Recuperar senha"}),s.jsx("p",{className:nt["login-subtitle"],children:"Informe seu e-mail para receber o link de redefinição de senha."}),s.jsxs("form",{className:nt["login-form"],onSubmit:a,children:[s.jsx("input",{type:"email",placeholder:"E-mail",className:nt["login-input"],value:t,onChange:c=>e(c.target.value),required:!0}),s.jsxs("button",{type:"submit",className:nt["login-btn"],disabled:n,children:[n&&s.jsx(ff,{className:nt["spin-icon"]}),n?"Enviando...":"Enviar e-mail de recuperação"]})]}),o&&o.type==="success"&&s.jsx("p",{className:nt["success-msg"],style:{color:"#3A86FF",marginTop:16},children:o.message}),o&&o.type==="error"&&s.jsx("p",{className:nt["error-msg"],style:{marginTop:16},children:o.message}),s.jsxs("div",{style:{marginTop:24},children:[s.jsx("span",{style:{color:"#666",fontSize:15},children:"Lembrou da senha?"}),s.jsx(ic,{to:"/login",className:nt["forgot-link"],style:{display:"inline",marginLeft:6},children:"Entre na sua conta"})]})]})})}const N6=g.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));N6.displayName="Card";const Lae=g.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("flex flex-col space-y-1.5 p-6",t),...e}));Lae.displayName="CardHeader";const Vae=g.forwardRef(({className:t,...e},n)=>s.jsx("h3",{ref:n,className:Se("text-2xl font-semibold leading-none tracking-tight",t),...e}));Vae.displayName="CardTitle";const zae=g.forwardRef(({className:t,...e},n)=>s.jsx("p",{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));zae.displayName="CardDescription";const $6=g.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("p-6 pt-0",t),...e}));$6.displayName="CardContent";const Bae=g.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Se("flex items-center p-6 pt-0",t),...e}));Bae.displayName="CardFooter";function Uae(){Ee();const{userDoc:t}=ka(),e=()=>{var n,r,o;return((n=t.plan)==null?void 0:n.status)==="active"?"Ativo":((r=t.plan)==null?void 0:r.status)==="refunded"?"Reembolsado":((o=t.plan)==null?void 0:o.status)==="chargedback"?"Pedido de chargeback":"Inativo"};return t?s.jsxs("div",{className:"mt-5 px-0 py-5 w-full xl:w-3/5 mx-auto 2xl:w-1/3",children:[s.jsx("h1",{className:"font-medium text-xl",children:"Gerenciar assinatura"}),s.jsx("p",{className:"text-muted-foreground font-light text-md text-left",children:"Gerencie a sua assinatura do Generic App"}),s.jsx(N6,{className:"mt-2.5 w-full",children:s.jsxs($6,{children:[s.jsx("p",{className:"mt-5 text-muted-foreground mb-1.5",children:"Plano atual"}),s.jsx(gd,{disabled:!0,value:"Premium",readOnly:!0,type:"text"}),s.jsx("p",{className:"mt-5 text-muted-foreground mb-1.5",children:"Status do plano"}),s.jsx(gd,{disabled:!0,value:e(),readOnly:!0}),s.jsx("p",{className:"mt-5 mb-1.5",children:"Para recuperar o acesso à Generic App, adquira novamente uma assinatura clicando no botão abaixo:"}),s.jsx(la,{className:"mt-2.5",onClick:()=>{window.open("https://checkoutlink.com")},children:"Assinar agora"})]})})]}):s.jsx(Zn,{})}const qae={happy:"Feliz e energético",neutral:"Estado normal",sad:"Precisando de atenção"},Wae=()=>{const{dashboardData:t}=Ye(),[e,n]=g.useState("neutral"),[r,o]=g.useState(""),[i,a]=g.useState([]),[c,l]=g.useState(!1),d=u=>{if(!u)return null;try{return u&&u.toDate?u.toDate():u&&u.seconds?new Date(u.seconds*1e3):u instanceof Date?u:typeof u=="string"?new Date(u):(console.error("Formato de timestamp não reconhecido:",u),null)}catch(f){return console.error("Erro ao processar timestamp:",f,u),null}};g.useEffect(()=>{var W,B,J,ue,ce,U,se,L,X,$e,be,Ie,ke,me,Ae,fn,rr,vr,zo,zi,Bi,Bo,q,ge,pe,Te;if(!t)return;console.log("Dashboard data recebido:",new Date().toLocaleString()),console.log("Dashboard completo:",JSON.stringify(t,(he,rt)=>rt&&typeof rt=="object"&&rt.toDate?"[Timestamp]":rt,2));const u=new Date;console.log("Verificando última alimentação..."),t.lastFoodEntry?console.log("lastFoodEntry encontrado:",t.lastFoodEntry):(B=(W=t.activities)==null?void 0:W.food)!=null&&B.lastEntry?console.log("activities.food.lastEntry encontrado:",t.activities.food.lastEntry):(ue=(J=t.activities)==null?void 0:J.lastFood)!=null&&ue.date?console.log("activities.lastFood.date encontrado:",t.activities.lastFood.date):console.log("Nenhum registro de alimentação encontrado no dashboard");const f=((ce=t.lastFoodEntry)==null?void 0:ce.date)||((U=t.lastFoodEntry)==null?void 0:U.timestamp)||((X=(L=(se=t.activities)==null?void 0:se.food)==null?void 0:L.lastEntry)==null?void 0:X.timestamp)||((be=($e=t.activities)==null?void 0:$e.lastFood)==null?void 0:be.date);console.log("Dados brutos da última alimentação:",f);const v=d(f);console.log("Timestamp processado da última alimentação:",v?v.toLocaleString():"NULL");const x=(Ie=t.lastFoodEntry)!=null&&Ie.feedingInterval?parseInt(t.lastFoodEntry.feedingInterval,10):8,y={good:x/2,late:x},_={good:12,late:24};console.log("Verificando último passeio..."),t.lastWalkEntry?console.log("lastWalkEntry encontrado:",t.lastWalkEntry):(me=(ke=t.activities)==null?void 0:ke.walk)!=null&&me.lastEntry?console.log("activities.walk.lastEntry encontrado:",t.activities.walk.lastEntry):(fn=(Ae=t.activities)==null?void 0:Ae.lastWalk)!=null&&fn.date?console.log("activities.lastWalk.date encontrado:",t.activities.lastWalk.date):console.log("Nenhum registro de passeio encontrado no dashboard");const w=((rr=t.lastWalkEntry)==null?void 0:rr.date)||((vr=t.lastWalkEntry)==null?void 0:vr.timestamp)||((Bi=(zi=(zo=t.activities)==null?void 0:zo.walk)==null?void 0:zi.lastEntry)==null?void 0:Bi.timestamp)||((q=(Bo=t.activities)==null?void 0:Bo.lastWalk)==null?void 0:q.date);console.log("Dados brutos do último passeio:",w);const E=d(w);console.log("Timestamp processado do último passeio:",E?E.toLocaleString():"NULL");const I=d((pe=(ge=t.activities)==null?void 0:ge.lastTraining)==null?void 0:pe.date),j=d((Te=t.lastVaccine)==null?void 0:Te.date);let D=null;if(v&&!isNaN(v.getTime()))if(v>u)console.error("ALERTA: Data da última alimentação está no futuro:",v.toLocaleString()),console.error("Data atual:",u.toLocaleString()),D=x+1,console.log("CORREÇÃO: Ajustando para considerar alimentação atrasada devido à data futura");else{const he=u.getTime()-v.getTime();D=Math.floor(he/(1e3*60*60)),console.log("Diferença em milissegundos:",he),console.log("Diferença calculada em horas desde última alimentação:",D)}else console.error("Não foi possível calcular o tempo desde a última alimentação - timestamp inválido");let $=null;if(E&&!isNaN(E.getTime()))if(E>u)console.error("ALERTA: Data do último passeio está no futuro:",E.toLocaleString()),console.error("Data atual:",u.toLocaleString()),$=_.late+1,console.log("CORREÇÃO: Ajustando para considerar passeio atrasado devido à data futura");else{const he=u.getTime()-E.getTime();$=Math.floor(he/(1e3*60*60)),console.log("Diferença calculada em horas desde último passeio:",$)}else console.error("Não foi possível calcular o tempo desde o último passeio - timestamp inválido");const k=I?Math.floor((u-I)/(1e3*60*60*24)):null,S=j?Math.floor((u-j)/(1e3*60*60*24)):null;console.log("Horas desde última refeição:",D),console.log("Intervalo de alimentação configurado:",x,"horas"),console.log("Horas desde último passeio:",$),console.log("Dias desde último treino:",k),console.log("Dias desde última vacina:",S);let C="unknown",P=0;console.log("Verificando status de alimentação:"),console.log("- Horas desde última refeição:",D),console.log("- Intervalo configurado:",x,"horas"),console.log("- Limites: bom < "+y.good+" horas, atrasado >= "+y.late+" horas"),D!==null?D<0?(C="late",P=-1,console.log("Alimentação: ATRASADA - Data futura detectada")):D<y.good?(C="recent",P=1,console.log("Alimentação: Recente")):D>=y.late?(C="late",P=-1,console.log("Alimentação: ATRASADA - Já se passaram",D,"horas (limite:",y.late,"horas)")):(C="normal",P=0,console.log("Alimentação: Normal")):console.log("Status de alimentação não pôde ser determinado");let N="unknown",O=0;console.log("Verificando status de passeio:"),console.log("- Horas desde último passeio:",$),console.log("- Limites: bom < "+_.good+" horas, atrasado >= "+_.late+" horas"),$!==null?$<0?(N="late",O=-1,console.log("Passeio: ATRASADO - Data futura detectada")):$<_.good?(N="recent",O=1,console.log("Passeio: Recente")):$>=_.late?(N="late",O=-1,console.log("Passeio: ATRASADO - Já se passaram",$,"horas (limite:",_.late,"horas)")):(N="normal",O=0,console.log("Passeio: Normal")):console.log("Status de passeio não pôde ser determinado");let R=0;k!==null&&(k<2?(R=1,console.log("Treino: Recente")):k>7?(R=-1,console.log("Treino: Atrasado")):console.log("Treino: Normal"));let K=0;S!==null&&S>365&&(K=-1,console.log("Vacina: Atrasada"));const re=P+O+R+K;console.log("Pontuação total:",re);let oe="neutral";re>=1?oe="happy":re<=-2&&(oe="sad"),n(oe);const xe=[];if(C==="late"&&xe.push(`Estou com fome! Já se passaram ${D} horas desde minha última refeição.`),N==="late"&&xe.push(`Quero dar um passeio! Faz mais de ${Math.floor($)} horas que não saio.`),k!==null&&k>7&&xe.push("Que tal praticarmos alguns truques?"),K<0&&xe.push("Minhas vacinas estão atrasadas!"),xe.length===0&&(oe==="happy"?xe.push("Estou super bem hoje!"):oe==="neutral"?xe.push("Estou bem. O que vamos fazer hoje?"):xe.push("Preciso de mais atenção...")),a(xe),o(xe[0]||"Olá!"),t.lastFoodEntry)try{const he=t.lastFoodEntry.date;let rt=null;if(he&&he.toDate?rt=he.toDate():he&&he.seconds?rt=new Date(he.seconds*1e3):he instanceof Date&&(rt=he),rt&&!isNaN(rt.getTime())){const yt=parseInt(t.lastFoodEntry.feedingInterval||"8",10),Ot=new Date;console.log("VERIFICAÇÃO FINAL DE ALIMENTAÇÃO:"),console.log("- Data da última alimentação:",rt.toLocaleString()),console.log("- Data atual do sistema:",Ot.toLocaleString()),console.log("- Intervalo configurado:",yt,"horas");let Wr,ol;if(rt>Ot?(console.error("ALERTA: A data da última alimentação está no futuro!"),Wr=yt+1,ol="ATRASADO (data futura)"):(Wr=(Ot.getTime()-rt.getTime())/(1e3*60*60),ol=Wr>=yt?"ATRASADO":"EM DIA"),console.log("- Horas decorridas:",Wr),console.log("- Status calculado:",ol),(Wr>=yt||rt>Ot)&&C!=="late"){console.warn("Corrigindo status de alimentação para ATRASADO");const Aa=[...xe],om=Aa.findIndex(im=>im.includes("com fome"));om!==-1&&Aa.splice(om,1);const Pa=rt>Ot?"Data futura detectada!":`Já se passaram ${Math.floor(Wr)} horas`;Aa.unshift(`Estou com fome! ${Pa} desde minha última refeição.`),a(Aa),(re===0||re>0)&&n("neutral")}}}catch(he){console.error("Erro na verificação de segurança:",he)}l(!0)},[t]);const h=u=>{const f=u.toLowerCase();return f.includes("passeio")||f.includes("fome")||f.includes("atenção")||f.includes("atençao")?"atencao":f.includes("vacina")||f.includes("crítico")||f.includes("critico")||f.includes("saúde")||f.includes("saude")?"critico":(f.includes("feliz")||f.includes("super bem")||f.includes("bem hoje"),"feliz")};return s.jsx("div",{className:"pet-status-container",children:s.jsxs("div",{className:"pet-status-content",children:[s.jsx("div",{className:"pet-container",children:s.jsxs("div",{className:`pet ${e}`,children:[s.jsx("div",{className:"ear left"}),s.jsx("div",{className:"ear right"}),s.jsx("div",{className:"head"}),s.jsx("div",{className:"eye left"}),s.jsx("div",{className:"eye right"}),s.jsx("div",{className:"nose"}),s.jsx("div",{className:"mouth"})]})}),s.jsxs("div",{className:"pet-status-info",children:[s.jsx("h2",{children:`Como ${t!=null&&t.petName?t.petName:"seu pet"} está hoje:`}),c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`mood-description ${e==="happy"?"feliz":e==="sad"?"critico":"atencao"}`,children:qae[e]}),s.jsx("div",{className:"mood-messages",children:i.map((u,f)=>s.jsx("div",{className:`mood-message ${h(u)}`,children:u},f))})]}):s.jsx("div",{className:"mood-description",children:"Carregando..."})]})]})})},Hae=()=>{var c,l,d,h,u,f,v,x,y,_,w,E,I,j,D,$,k,S,C,P,N,O,R,K,re,oe,xe,W,B,J,ue,ce;const{dashboardData:t,loading:e,error:n}=Ye();if(e)return s.jsx("div",{className:"stats-summary-container",children:"Carregando..."});if(n)return s.jsxs("div",{className:"stats-summary-container",children:["Erro: ",n]});if(!t)return s.jsx("div",{className:"stats-summary-container",children:"Nenhum dado disponível"});const r=U=>{if(!U)return"Não registrado";try{let se;if(console.log("Formatando data para timestamp (tipo):",typeof U,U),Object.prototype.toString.call(U)==="[object Date]"?(console.log("É um objeto Date nativo"),se=U):typeof U=="string"&&!isNaN(new Date(U).getTime())?(console.log("É uma string de data válida"),se=new Date(U)):U&&typeof U=="object"&&U.toDate?(console.log("É um timestamp Firestore"),se=U.toDate()):U&&typeof U=="object"&&U.seconds?(console.log("É um objeto com seconds"),se=new Date(U.seconds*1e3)):U&&typeof U=="object"&&U.date?(console.log("Tem propriedade date:",U.date),U.date.toDate?(console.log("date é um timestamp Firestore"),se=U.date.toDate()):U.date.seconds?(console.log("date tem seconds"),se=new Date(U.date.seconds*1e3)):typeof U.date=="string"?(console.log("date é uma string"),se=new Date(U.date)):Object.prototype.toString.call(U.date)==="[object Date]"&&(console.log("date é um objeto Date"),se=U.date)):U&&typeof U=="object"&&(U.appliedDate?(console.log("Tentando usar appliedDate"),se=new Date(U.appliedDate)):U.timestamp&&(console.log("Tentando usar timestamp"),se=new Date(U.timestamp))),!se||isNaN(se.getTime()))return console.log("Data inválida ou não reconhecida:",U),"Data não disponível";const L=se.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return console.log("Data formatada final:",L),L}catch(se){return console.error("Erro ao formatar data:",se,U),"Data não disponível"}},o=U=>{if(!U)return"Não registrado";try{if(console.log("Formatando data de vacina:",U),U.date){const se=r(U.date);if(se!=="Data não disponível")return se}return U.appliedDate?r(U.appliedDate):U.timestamp?r(U.timestamp):r(U)}catch(se){return console.error("Erro ao formatar data da vacina:",se),"Data não disponível"}},i=(U,se="activity")=>{var X,$e;if(!U)return se==="vaccine"?"pending":"atrasado";if(se==="vaccine")return(($e=(X=t.health)==null?void 0:X.vaccines)==null?void 0:$e.status)==="up_to_date"||U.status==="Aplicada"?"up_to_date":"pending";let L;try{if(Object.prototype.toString.call(U)==="[object Date]"?L=U:U.toDate?L=U.toDate():typeof U=="string"?L=new Date(U):U.seconds&&(L=new Date(U.seconds*1e3)),!L||isNaN(L.getTime()))return"atrasado";const Ie=(new Date-L)/(1e3*60*60);return se==="food"?Ie<=8?"up_to_date":"atrasado":Ie<=24?"up_to_date":"atrasado"}catch{return"atrasado"}},a=(l=(c=t.health)==null?void 0:c.vaccines)==null?void 0:l.lastVaccine;return s.jsxs("div",{className:"stats-summary-container",children:[s.jsx("h2",{children:"Estatísticas do Pet"}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-card activity-card",children:[s.jsx("h3",{children:"Passeio e Alimentação"}),s.jsxs("div",{className:"activity-section",children:[s.jsxs("div",{className:"activity-item",children:[s.jsxs("div",{className:"content",children:[s.jsx("h4",{children:"Último Passeio"}),s.jsx("p",{className:"datetime",children:r((u=(h=(d=t.activities)==null?void 0:d.walk)==null?void 0:h.lastEntry)==null?void 0:u.timestamp)}),((x=(v=(f=t.activities)==null?void 0:f.walk)==null?void 0:v.lastEntry)==null?void 0:x.notes)&&s.jsx("p",{className:"notes",children:t.activities.walk.lastEntry.notes})]}),s.jsx("div",{className:`status-badge ${i((w=(_=(y=t.activities)==null?void 0:y.walk)==null?void 0:_.lastEntry)==null?void 0:w.timestamp,"walk")}`,children:i((j=(I=(E=t.activities)==null?void 0:E.walk)==null?void 0:I.lastEntry)==null?void 0:j.timestamp,"walk")==="up_to_date"?"Em dia":"Atrasado"})]}),s.jsxs("div",{className:"activity-item",children:[s.jsxs("div",{className:"content",children:[s.jsx("h4",{children:"Última Alimentação"}),s.jsx("p",{className:"datetime",children:r((k=($=(D=t.activities)==null?void 0:D.food)==null?void 0:$.lastEntry)==null?void 0:k.timestamp)})]}),s.jsx("div",{className:`status-badge ${i((P=(C=(S=t.activities)==null?void 0:S.food)==null?void 0:C.lastEntry)==null?void 0:P.timestamp,"food")}`,children:i((R=(O=(N=t.activities)==null?void 0:N.food)==null?void 0:O.lastEntry)==null?void 0:R.timestamp,"food")==="up_to_date"?"Em dia":"Atrasado"})]})]})]}),s.jsxs("div",{className:"stat-card health-training-card",children:[s.jsx("h3",{children:"Saúde e Treinamento"}),s.jsxs("div",{className:"health-training-section",children:[s.jsxs("div",{className:"vaccine-section",children:[s.jsxs("div",{className:"content",children:[s.jsx("h4",{children:"Vacinação"}),((re=(K=t.health)==null?void 0:K.vaccines)==null?void 0:re.nextVaccine)&&s.jsx("div",{className:"next-dose",children:s.jsxs("p",{className:"datetime",children:["Próxima dose: ",r(t.health.vaccines.nextVaccine)]})}),s.jsx("div",{className:"vaccine-history",children:s.jsxs("p",{className:"datetime",children:["Última dose: ",a?o(t.health.vaccines.lastVaccine):"Não registrado"]})})]}),s.jsx("div",{className:"vaccine-status",children:s.jsx("span",{className:`status-badge ${i((xe=(oe=t.health)==null?void 0:oe.vaccines)==null?void 0:xe.lastVaccine,"vaccine")}`,children:i((B=(W=t.health)==null?void 0:W.vaccines)==null?void 0:B.lastVaccine,"vaccine")==="up_to_date"?"Em dia":"Pendente"})})]}),s.jsxs("div",{className:"training-section",children:[s.jsxs("div",{className:"content",children:[s.jsx("h4",{children:"Treinamento"}),s.jsxs("div",{className:"training-progress",children:[s.jsxs("p",{children:["Progresso: ",((J=t.training)==null?void 0:J.completedLessons)||0," aulas concluídas"]}),s.jsx("div",{className:"progress-bar",children:s.jsx("div",{className:"progress-fill",style:{width:`${(((ue=t.training)==null?void 0:ue.completedLessons)||0)*10}%`,backgroundColor:"#4CAF50"}})})]})]}),s.jsxs("p",{className:"level-badge",children:["Nível: ",((ce=t.training)==null?void 0:ce.currentLevel)||"Iniciante"]})]})]})]})]})]})};var O6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IP=Be.createContext&&Be.createContext(O6),Gae=["attr","size","title"];function Kae(t,e){if(t==null)return{};var n=Yae(t,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ox(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qae(t,e,n){return e=Xae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xae(t){var e=Jae(t,"string");return typeof e=="symbol"?e:e+""}function Jae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F6(t){return t&&t.map((e,n)=>Be.createElement(e.tag,ox({key:n},e.attr),F6(e.child)))}function Ca(t){return e=>Be.createElement(Zae,rx({attr:ox({},t.attr)},e),F6(t.child))}function Zae(t){var e=n=>{var{attr:r,size:o,title:i}=t,a=Kae(t,Gae),c=o||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Be.createElement("svg",rx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:ox(ox({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),i&&Be.createElement("title",null,i),t.children)};return IP!==void 0?Be.createElement(IP.Consumer,null,n=>e(n)):e(O6)}function XS(t){return Ca({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function ece(t){return Ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function tce(t){return Ca({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function M6(t){return Ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function nce(t){return Ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 174.8l55.7 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-55.7-55.8-45.3 45.3 55.8 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L111 265.2l-26.4 26.4c-17.3 17.3-25.6 41.1-23 65.4l7.1 63.6L2.3 487c-3.1 3.1-3.1 8.2 0 11.3l11.3 11.3c3.1 3.1 8.2 3.1 11.3 0l66.3-66.3 63.6 7.1c23.9 2.6 47.9-5.4 65.4-23l181.9-181.9-135.7-135.7-64.9 65zm308.2-93.3L430.5 2.3c-3.1-3.1-8.2-3.1-11.3 0l-11.3 11.3c-3.1 3.1-3.1 8.2 0 11.3l28.3 28.3-45.3 45.3-56.6-56.6-17-17c-3.1-3.1-8.2-3.1-11.3 0l-33.9 33.9c-3.1 3.1-3.1 8.2 0 11.3l17 17L424.8 223l17 17c3.1 3.1 8.2 3.1 11.3 0l33.9-34c3.1-3.1 3.1-8.2 0-11.3l-73.5-73.5 45.3-45.3 28.3 28.3c3.1 3.1 8.2 3.1 11.3 0l11.3-11.3c3.1-3.2 3.1-8.2 0-11.4z"},child:[]}]})(t)}function L6(t){return Ca({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function rce(t){return Ca({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function oce(t){return Ca({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M208 96c26.5 0 48-21.5 48-48S234.5 0 208 0s-48 21.5-48 48 21.5 48 48 48zm94.5 149.1l-23.3-11.8-9.7-29.4c-14.7-44.6-55.7-75.8-102.2-75.9-36-.1-55.9 10.1-93.3 25.2-21.6 8.7-39.3 25.2-49.7 46.2L17.6 213c-7.8 15.8-1.5 35 14.2 42.9 15.6 7.9 34.6 1.5 42.5-14.3L81 228c3.5-7 9.3-12.5 16.5-15.4l26.8-10.8-15.2 60.7c-5.2 20.8.4 42.9 14.9 58.8l59.9 65.4c7.2 7.9 12.3 17.4 14.9 27.7l18.3 73.3c4.3 17.1 21.7 27.6 38.8 23.3 17.1-4.3 27.6-21.7 23.3-38.8l-22.2-89c-2.6-10.3-7.7-19.9-14.9-27.7l-45.5-49.7 17.2-68.7 5.5 16.5c5.3 16.1 16.7 29.4 31.7 37l23.3 11.8c15.6 7.9 34.6 1.5 42.5-14.3 7.7-15.7 1.4-35.1-14.3-43zM73.6 385.8c-3.2 8.1-8 15.4-14.2 21.5l-50 50.1c-12.5 12.5-12.5 32.8 0 45.3s32.7 12.5 45.2 0l59.4-59.4c6.1-6.1 10.9-13.4 14.2-21.5l13.5-33.8c-55.3-60.3-38.7-41.8-47.4-53.7l-20.7 51.5z"},child:[]}]})(t)}var dt="-ms-",_p="-moz-",Qe="-webkit-",V6="comm",Rb="rule",JS="decl",ice="@import",z6="@keyframes",sce="@layer",B6=Math.abs,ZS=String.fromCharCode,bE=Object.assign;function ace(t,e){return dn(t,0)^45?(((e<<2^dn(t,0))<<2^dn(t,1))<<2^dn(t,2))<<2^dn(t,3):0}function U6(t){return t.trim()}function ii(t,e){return(t=e.exec(t))?t[0]:t}function Pe(t,e,n){return t.replace(e,n)}function Hv(t,e,n){return t.indexOf(e,n)}function dn(t,e){return t.charCodeAt(e)|0}function Wd(t,e,n){return t.slice(e,n)}function xo(t){return t.length}function q6(t){return t.length}function ep(t,e){return e.push(t),t}function cce(t,e){return t.map(e).join("")}function kP(t,e){return t.filter(function(n){return!ii(n,e)})}var Db=1,Hd=1,W6=0,Br=0,Xt=0,bu="";function Nb(t,e,n,r,o,i,a,c){return{value:t,root:e,parent:n,type:r,props:o,children:i,line:Db,column:Hd,length:a,return:"",siblings:c}}function Ts(t,e){return bE(Nb("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function yl(t){for(;t.root;)t=Ts(t.root,{children:[t]});ep(t,t.siblings)}function lce(){return Xt}function dce(){return Xt=Br>0?dn(bu,--Br):0,Hd--,Xt===10&&(Hd=1,Db--),Xt}function eo(){return Xt=Br<W6?dn(bu,Br++):0,Hd++,Xt===10&&(Hd=1,Db++),Xt}function bc(){return dn(bu,Br)}function Gv(){return Br}function $b(t,e){return Wd(bu,t,e)}function yE(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uce(t){return Db=Hd=1,W6=xo(bu=t),Br=0,[]}function hce(t){return bu="",t}function m1(t){return U6($b(Br-1,wE(t===91?t+2:t===40?t+1:t)))}function pce(t){for(;(Xt=bc())&&Xt<33;)eo();return yE(t)>2||yE(Xt)>3?"":" "}function fce(t,e){for(;--e&&eo()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return $b(t,Gv()+(e<6&&bc()==32&&eo()==32))}function wE(t){for(;eo();)switch(Xt){case t:return Br;case 34:case 39:t!==34&&t!==39&&wE(Xt);break;case 40:t===41&&wE(t);break;case 92:eo();break}return Br}function mce(t,e){for(;eo()&&t+Xt!==57;)if(t+Xt===84&&bc()===47)break;return"/*"+$b(e,Br-1)+"*"+ZS(t===47?t:eo())}function gce(t){for(;!yE(bc());)eo();return $b(t,Br)}function vce(t){return hce(Kv("",null,null,null,[""],t=uce(t),0,[0],t))}function Kv(t,e,n,r,o,i,a,c,l){for(var d=0,h=0,u=a,f=0,v=0,x=0,y=1,_=1,w=1,E=0,I="",j=o,D=i,$=r,k=I;_;)switch(x=E,E=eo()){case 40:if(x!=108&&dn(k,u-1)==58){Hv(k+=Pe(m1(E),"&","&\f"),"&\f",B6(d?c[d-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:k+=m1(E);break;case 9:case 10:case 13:case 32:k+=pce(x);break;case 92:k+=fce(Gv()-1,7);continue;case 47:switch(bc()){case 42:case 47:ep(xce(mce(eo(),Gv()),e,n,l),l);break;default:k+="/"}break;case 123*y:c[d++]=xo(k)*w;case 125*y:case 59:case 0:switch(E){case 0:case 125:_=0;case 59+h:w==-1&&(k=Pe(k,/\f/g,"")),v>0&&xo(k)-u&&ep(v>32?jP(k+";",r,n,u-1,l):jP(Pe(k," ","")+";",r,n,u-2,l),l);break;case 59:k+=";";default:if(ep($=CP(k,e,n,d,h,o,c,I,j=[],D=[],u,i),i),E===123)if(h===0)Kv(k,e,$,$,j,i,u,c,D);else switch(f===99&&dn(k,3)===110?100:f){case 100:case 108:case 109:case 115:Kv(t,$,$,r&&ep(CP(t,$,$,0,0,o,c,I,o,j=[],u,D),D),o,D,u,c,r?j:D);break;default:Kv(k,$,$,$,[""],D,0,c,D)}}d=h=v=0,y=w=1,I=k="",u=a;break;case 58:u=1+xo(k),v=x;default:if(y<1){if(E==123)--y;else if(E==125&&y++==0&&dce()==125)continue}switch(k+=ZS(E),E*y){case 38:w=h>0?1:(k+="\f",-1);break;case 44:c[d++]=(xo(k)-1)*w,w=1;break;case 64:bc()===45&&(k+=m1(eo())),f=bc(),h=u=xo(I=k+=gce(Gv())),E++;break;case 45:x===45&&xo(k)==2&&(y=0)}}return i}function CP(t,e,n,r,o,i,a,c,l,d,h,u){for(var f=o-1,v=o===0?i:[""],x=q6(v),y=0,_=0,w=0;y<r;++y)for(var E=0,I=Wd(t,f+1,f=B6(_=a[y])),j=t;E<x;++E)(j=U6(_>0?v[E]+" "+I:Pe(I,/&\f/g,v[E])))&&(l[w++]=j);return Nb(t,e,n,o===0?Rb:c,l,d,h,u)}function xce(t,e,n,r){return Nb(t,e,n,V6,ZS(lce()),Wd(t,2,-2),0,r)}function jP(t,e,n,r,o){return Nb(t,e,n,JS,Wd(t,0,r),Wd(t,r+1,-1),r,o)}function H6(t,e,n){switch(ace(t,e)){case 5103:return Qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+t+t;case 4789:return _p+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+t+_p+t+dt+t+t;case 5936:switch(dn(t,e+11)){case 114:return Qe+t+dt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qe+t+dt+Pe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qe+t+dt+Pe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Qe+t+dt+t+t;case 6165:return Qe+t+dt+"flex-"+t+t;case 5187:return Qe+t+Pe(t,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+dt+"flex-$1$2")+t;case 5443:return Qe+t+dt+"flex-item-"+Pe(t,/flex-|-self/g,"")+(ii(t,/flex-|baseline/)?"":dt+"grid-row-"+Pe(t,/flex-|-self/g,""))+t;case 4675:return Qe+t+dt+"flex-line-pack"+Pe(t,/align-content|flex-|-self/g,"")+t;case 5548:return Qe+t+dt+Pe(t,"shrink","negative")+t;case 5292:return Qe+t+dt+Pe(t,"basis","preferred-size")+t;case 6060:return Qe+"box-"+Pe(t,"-grow","")+Qe+t+dt+Pe(t,"grow","positive")+t;case 4554:return Qe+Pe(t,/([^-])(transform)/g,"$1"+Qe+"$2")+t;case 6187:return Pe(Pe(Pe(t,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),t,"")+t;case 5495:case 3959:return Pe(t,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Pe(Pe(t,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+dt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+t+t;case 4200:if(!ii(t,/flex-|baseline/))return dt+"grid-column-align"+Wd(t,e)+t;break;case 2592:case 3360:return dt+Pe(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,o){return e=o,ii(r.props,/grid-\w+-end/)})?~Hv(t+(n=n[e].value),"span",0)?t:dt+Pe(t,"-start","")+t+dt+"grid-row-span:"+(~Hv(n,"span",0)?ii(n,/\d+/):+ii(n,/\d+/)-+ii(t,/\d+/))+";":dt+Pe(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ii(r.props,/grid-\w+-start/)})?t:dt+Pe(Pe(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Pe(t,/(.+)-inline(.+)/,Qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xo(t)-1-e>6)switch(dn(t,e+1)){case 109:if(dn(t,e+4)!==45)break;case 102:return Pe(t,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+_p+(dn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Hv(t,"stretch",0)?H6(Pe(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Pe(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,a,c,l,d){return dt+o+":"+i+d+(a?dt+o+"-span:"+(c?l:+l-+i)+d:"")+t});case 4949:if(dn(t,e+6)===121)return Pe(t,":",":"+Qe)+t;break;case 6444:switch(dn(t,dn(t,14)===45?18:11)){case 120:return Pe(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Qe+(dn(t,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+dt+"$2box$3")+t;case 100:return Pe(t,":",":"+dt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Pe(t,"scroll-","scroll-snap-")+t}return t}function ix(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function bce(t,e,n,r){switch(t.type){case sce:if(t.children.length)break;case ice:case JS:return t.return=t.return||t.value;case V6:return"";case z6:return t.return=t.value+"{"+ix(t.children,r)+"}";case Rb:if(!xo(t.value=t.props.join(",")))return""}return xo(n=ix(t.children,r))?t.return=t.value+"{"+n+"}":""}function yce(t){var e=q6(t);return function(n,r,o,i){for(var a="",c=0;c<e;c++)a+=t[c](n,r,o,i)||"";return a}}function wce(t){return function(e){e.root||(e=e.return)&&t(e)}}function _ce(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case JS:t.return=H6(t.value,t.length,n);return;case z6:return ix([Ts(t,{value:Pe(t.value,"@","@"+Qe)})],r);case Rb:if(t.length)return cce(n=t.props,function(o){switch(ii(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":yl(Ts(t,{props:[Pe(o,/:(read-\w+)/,":"+_p+"$1")]})),yl(Ts(t,{props:[o]})),bE(t,{props:kP(n,r)});break;case"::placeholder":yl(Ts(t,{props:[Pe(o,/:(plac\w+)/,":"+Qe+"input-$1")]})),yl(Ts(t,{props:[Pe(o,/:(plac\w+)/,":"+_p+"$1")]})),yl(Ts(t,{props:[Pe(o,/:(plac\w+)/,dt+"input-$1")]})),yl(Ts(t,{props:[o]})),bE(t,{props:kP(n,r)});break}return""})}}var Ece={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yr={},Gd=typeof process<"u"&&yr!==void 0&&(yr.REACT_APP_SC_ATTR||yr.SC_ATTR)||"data-styled",G6="active",K6="data-styled-version",Ob="6.1.17",e2=`/*!sc*/
`,sx=typeof window<"u"&&"HTMLElement"in window,Tce=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&yr!==void 0&&yr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&yr.REACT_APP_SC_DISABLE_SPEEDY!==""?yr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&yr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&yr!==void 0&&yr.SC_DISABLE_SPEEDY!==void 0&&yr.SC_DISABLE_SPEEDY!==""&&yr.SC_DISABLE_SPEEDY!=="false"&&yr.SC_DISABLE_SPEEDY),Fb=Object.freeze([]),Kd=Object.freeze({});function Ice(t,e,n){return n===void 0&&(n=Kd),t.theme!==n.theme&&t.theme||e||n.theme}var Y6=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Sce=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kce=/(^-|-$)/g;function AP(t){return t.replace(Sce,"-").replace(kce,"")}var Cce=/(a)(d)/gi,ig=52,PP=function(t){return String.fromCharCode(t+(t>25?39:97))};function _E(t){var e,n="";for(e=Math.abs(t);e>ig;e=e/ig|0)n=PP(e%ig)+n;return(PP(e%ig)+n).replace(Cce,"$1-$2")}var g1,Q6=5381,Zl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},X6=function(t){return Zl(Q6,t)};function J6(t){return _E(X6(t)>>>0)}function jce(t){return t.displayName||t.name||"Component"}function v1(t){return typeof t=="string"&&!0}var Z6=typeof Symbol=="function"&&Symbol.for,eM=Z6?Symbol.for("react.memo"):60115,Ace=Z6?Symbol.for("react.forward_ref"):60112,Pce={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Rce={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},tM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Dce=((g1={})[Ace]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},g1[eM]=tM,g1);function RP(t){return("type"in(e=t)&&e.type.$$typeof)===eM?tM:"$$typeof"in t?Dce[t.$$typeof]:Pce;var e}var Nce=Object.defineProperty,$ce=Object.getOwnPropertyNames,DP=Object.getOwnPropertySymbols,Oce=Object.getOwnPropertyDescriptor,Fce=Object.getPrototypeOf,NP=Object.prototype;function nM(t,e,n){if(typeof e!="string"){if(NP){var r=Fce(e);r&&r!==NP&&nM(t,r,n)}var o=$ce(e);DP&&(o=o.concat(DP(e)));for(var i=RP(t),a=RP(e),c=0;c<o.length;++c){var l=o[c];if(!(l in Rce||n&&n[l]||a&&l in a||i&&l in i)){var d=Oce(e,l);try{Nce(t,l,d)}catch{}}}}return t}function Yd(t){return typeof t=="function"}function t2(t){return typeof t=="object"&&"styledComponentId"in t}function hc(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function EE(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function mf(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function TE(t,e,n){if(n===void 0&&(n=!1),!n&&!mf(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=TE(t[r],e[r]);else if(mf(e))for(var r in e)t[r]=TE(t[r],e[r]);return t}function n2(t,e){Object.defineProperty(t,"toString",{value:e})}function Zf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Mce=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;e>=i;)if((i<<=1)<0)throw Zf(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var a=o;a<i;a++)this.groupSizes[a]=0}for(var c=this.indexOfGroup(e+1),l=(a=0,n.length);a<l;a++)this.tag.insertRule(c,n[a])&&(this.groupSizes[e]++,c++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),o=r+n;this.groupSizes[e]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],o=this.indexOfGroup(e),i=o+r,a=o;a<i;a++)n+="".concat(this.tag.getRule(a)).concat(e2);return n},t}(),Yv=new Map,ax=new Map,Qv=1,sg=function(t){if(Yv.has(t))return Yv.get(t);for(;ax.has(Qv);)Qv++;var e=Qv++;return Yv.set(t,e),ax.set(e,t),e},Lce=function(t,e){Qv=e+1,Yv.set(t,e),ax.set(e,t)},Vce="style[".concat(Gd,"][").concat(K6,'="').concat(Ob,'"]'),zce=new RegExp("^".concat(Gd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Bce=function(t,e,n){for(var r,o=n.split(","),i=0,a=o.length;i<a;i++)(r=o[i])&&t.registerName(e,r)},Uce=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(e2),o=[],i=0,a=r.length;i<a;i++){var c=r[i].trim();if(c){var l=c.match(zce);if(l){var d=0|parseInt(l[1],10),h=l[2];d!==0&&(Lce(h,d),Bce(t,h,l[3]),t.getTag().insertRules(d,o)),o.length=0}else o.push(c)}}},$P=function(t){for(var e=document.querySelectorAll(Vce),n=0,r=e.length;n<r;n++){var o=e[n];o&&o.getAttribute(Gd)!==G6&&(Uce(t,o),o.parentNode&&o.parentNode.removeChild(o))}};function qce(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var rM=function(t){var e=document.head,n=t||e,r=document.createElement("style"),o=function(c){var l=Array.from(c.querySelectorAll("style[".concat(Gd,"]")));return l[l.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(Gd,G6),r.setAttribute(K6,Ob);var a=qce();return a&&r.setAttribute("nonce",a),n.insertBefore(r,i),r},Wce=function(){function t(e){this.element=rM(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var a=r[o];if(a.ownerNode===n)return a}throw Zf(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),Hce=function(){function t(e){this.element=rM(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Gce=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),OP=sx,Kce={isServer:!sx,useCSSOMInjection:!Tce},oM=function(){function t(e,n,r){e===void 0&&(e=Kd),n===void 0&&(n={});var o=this;this.options=jt(jt({},Kce),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&sx&&OP&&(OP=!1,$P(this)),n2(this,function(){return function(i){for(var a=i.getTag(),c=a.length,l="",d=function(u){var f=function(w){return ax.get(w)}(u);if(f===void 0)return"continue";var v=i.names.get(f),x=a.getGroup(u);if(v===void 0||!v.size||x.length===0)return"continue";var y="".concat(Gd,".g").concat(u,'[id="').concat(f,'"]'),_="";v!==void 0&&v.forEach(function(w){w.length>0&&(_+="".concat(w,","))}),l+="".concat(x).concat(y,'{content:"').concat(_,'"}').concat(e2)},h=0;h<c;h++)d(h);return l}(o)})}return t.registerId=function(e){return sg(e)},t.prototype.rehydrate=function(){!this.server&&sx&&$P(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(jt(jt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new Gce(o):r?new Wce(o):new Hce(o)}(this.options),new Mce(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(sg(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(sg(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(sg(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Yce=/&/g,Qce=/^\s*\/\/.*$/gm;function iM(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=iM(n.children,e)),n})}function Xce(t){var e,n,r,o=Kd,i=o.options,a=i===void 0?Kd:i,c=o.plugins,l=c===void 0?Fb:c,d=function(f,v,x){return x.startsWith(n)&&x.endsWith(n)&&x.replaceAll(n,"").length>0?".".concat(e):f},h=l.slice();h.push(function(f){f.type===Rb&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(Yce,n).replace(r,d))}),a.prefix&&h.push(_ce),h.push(bce);var u=function(f,v,x,y){v===void 0&&(v=""),x===void 0&&(x=""),y===void 0&&(y="&"),e=y,n=v,r=new RegExp("\\".concat(n,"\\b"),"g");var _=f.replace(Qce,""),w=vce(x||v?"".concat(x," ").concat(v," { ").concat(_," }"):_);a.namespace&&(w=iM(w,a.namespace));var E=[];return ix(w,yce(h.concat(wce(function(I){return E.push(I)})))),E};return u.hash=l.length?l.reduce(function(f,v){return v.name||Zf(15),Zl(f,v.name)},Q6).toString():"",u}var Jce=new oM,IE=Xce(),sM=Be.createContext({shouldForwardProp:void 0,styleSheet:Jce,stylis:IE});sM.Consumer;Be.createContext(void 0);function FP(){return g.useContext(sM)}var aM=function(){function t(e,n){var r=this;this.inject=function(o,i){i===void 0&&(i=IE);var a=r.name+i.hash;o.hasNameForId(r.id,a)||o.insertRules(r.id,a,i(r.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,n2(this,function(){throw Zf(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=IE),this.name+e.hash},t}(),Zce=function(t){return t>="A"&&t<="Z"};function MP(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Zce(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var cM=function(t){return t==null||t===!1||t===""},lM=function(t){var e,n,r=[];for(var o in t){var i=t[o];t.hasOwnProperty(o)&&!cM(i)&&(Array.isArray(i)&&i.isCss||Yd(i)?r.push("".concat(MP(o),":"),i,";"):mf(i)?r.push.apply(r,kd(kd(["".concat(o," {")],lM(i),!1),["}"],!1)):r.push("".concat(MP(o),": ").concat((e=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in Ece||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function yc(t,e,n,r){if(cM(t))return[];if(t2(t))return[".".concat(t.styledComponentId)];if(Yd(t)){if(!Yd(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var o=t(e);return yc(o,e,n,r)}var i;return t instanceof aM?n?(t.inject(n,r),[t.getName(r)]):[t]:mf(t)?lM(t):Array.isArray(t)?Array.prototype.concat.apply(Fb,t.map(function(a){return yc(a,e,n,r)})):[t.toString()]}function ele(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Yd(n)&&!t2(n))return!1}return!0}var tle=X6(Ob),nle=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&ele(e),this.componentId=n,this.baseHash=Zl(tle,n),this.baseStyle=r,oM.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=hc(o,this.staticRulesId);else{var i=EE(yc(this.rules,e,n,r)),a=_E(Zl(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,a)){var c=r(i,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,c)}o=hc(o,a),this.staticRulesId=a}else{for(var l=Zl(this.baseHash,r.hash),d="",h=0;h<this.rules.length;h++){var u=this.rules[h];if(typeof u=="string")d+=u;else if(u){var f=EE(yc(u,e,n,r));l=Zl(l,f+h),d+=f}}if(d){var v=_E(l>>>0);n.hasNameForId(this.componentId,v)||n.insertRules(this.componentId,v,r(d,".".concat(v),void 0,this.componentId)),o=hc(o,v)}}return o},t}(),dM=Be.createContext(void 0);dM.Consumer;var x1={};function rle(t,e,n){var r=t2(t),o=t,i=!v1(t),a=e.attrs,c=a===void 0?Fb:a,l=e.componentId,d=l===void 0?function(j,D){var $=typeof j!="string"?"sc":AP(j);x1[$]=(x1[$]||0)+1;var k="".concat($,"-").concat(J6(Ob+$+x1[$]));return D?"".concat(D,"-").concat(k):k}(e.displayName,e.parentComponentId):l,h=e.displayName,u=h===void 0?function(j){return v1(j)?"styled.".concat(j):"Styled(".concat(jce(j),")")}(t):h,f=e.displayName&&e.componentId?"".concat(AP(e.displayName),"-").concat(e.componentId):e.componentId||d,v=r&&o.attrs?o.attrs.concat(c).filter(Boolean):c,x=e.shouldForwardProp;if(r&&o.shouldForwardProp){var y=o.shouldForwardProp;if(e.shouldForwardProp){var _=e.shouldForwardProp;x=function(j,D){return y(j,D)&&_(j,D)}}else x=y}var w=new nle(n,f,r?o.componentStyle:void 0);function E(j,D){return function($,k,S){var C=$.attrs,P=$.componentStyle,N=$.defaultProps,O=$.foldedComponentIds,R=$.styledComponentId,K=$.target,re=Be.useContext(dM),oe=FP(),xe=$.shouldForwardProp||oe.shouldForwardProp,W=Ice(k,re,N)||Kd,B=function(L,X,$e){for(var be,Ie=jt(jt({},X),{className:void 0,theme:$e}),ke=0;ke<L.length;ke+=1){var me=Yd(be=L[ke])?be(Ie):be;for(var Ae in me)Ie[Ae]=Ae==="className"?hc(Ie[Ae],me[Ae]):Ae==="style"?jt(jt({},Ie[Ae]),me[Ae]):me[Ae]}return X.className&&(Ie.className=hc(Ie.className,X.className)),Ie}(C,k,W),J=B.as||K,ue={};for(var ce in B)B[ce]===void 0||ce[0]==="$"||ce==="as"||ce==="theme"&&B.theme===W||(ce==="forwardedAs"?ue.as=B.forwardedAs:xe&&!xe(ce,J)||(ue[ce]=B[ce]));var U=function(L,X){var $e=FP(),be=L.generateAndInjectStyles(X,$e.styleSheet,$e.stylis);return be}(P,B),se=hc(O,R);return U&&(se+=" "+U),B.className&&(se+=" "+B.className),ue[v1(J)&&!Y6.has(J)?"class":"className"]=se,S&&(ue.ref=S),g.createElement(J,ue)}(I,j,D)}E.displayName=u;var I=Be.forwardRef(E);return I.attrs=v,I.componentStyle=w,I.displayName=u,I.shouldForwardProp=x,I.foldedComponentIds=r?hc(o.foldedComponentIds,o.styledComponentId):"",I.styledComponentId=f,I.target=r?o.target:t,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(j){this._foldedDefaultProps=r?function(D){for(var $=[],k=1;k<arguments.length;k++)$[k-1]=arguments[k];for(var S=0,C=$;S<C.length;S++)TE(D,C[S],!0);return D}({},o.defaultProps,j):j}}),n2(I,function(){return".".concat(I.styledComponentId)}),i&&nM(I,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function LP(t,e){for(var n=[t[0]],r=0,o=e.length;r<o;r+=1)n.push(e[r],t[r+1]);return n}var VP=function(t){return Object.assign(t,{isCss:!0})};function Mb(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Yd(t)||mf(t))return VP(yc(LP(Fb,kd([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?yc(r):VP(yc(LP(r,e)))}function SE(t,e,n){if(n===void 0&&(n=Kd),!e)throw Zf(1,e);var r=function(o){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return t(e,n,Mb.apply(void 0,kd([o],i,!1)))};return r.attrs=function(o){return SE(t,e,jt(jt({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return SE(t,e,jt(jt({},n),o))},r}var uM=function(t){return SE(rle,t)},m=uM;Y6.forEach(function(t){m[t]=uM(t)});function yu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=EE(Mb.apply(void 0,kd([t],e,!1))),o=J6(r);return new aM(o,r)}const ole=m.div`
  background-color: white;
  border-radius: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 1.25rem;
  margin-bottom: 1rem;
  max-width: 100%;
  height: 220px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;

  @media (max-width: 768px) {
    height: 200px;
    padding: 1rem;
  }
`,ile=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.25rem;

  h2 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #2c3e50;
    margin: 0;
  }
`,sle=m.div`
  display: flex;
  gap: 0.5rem;
`,zP=m.button`
  background-color: #f8f9fa;
  border: 1px solid #dee2e6;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  color: #495057;
  font-size: 1rem;
  font-weight: bold;

  &:hover {
    background-color: #e9ecef;
    border-color: #ced4da;
  }
`,ale=m.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex: 1;
  padding-right: 0.5rem;
`,cle=m.div`
  display: flex;
  align-items: center;
  padding: 0.75rem;
  border-radius: 0.75rem;
  background-color: #f8f9fa;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  margin-top: 0.25rem;
`,lle=m.div`
  flex-grow: 1;
  padding-right: 0.5rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 0.5rem;

  h3 {
    color: #2c3e50;
    margin-bottom: 0.25rem;
    font-size: 1rem;
    line-height: 1.2;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  p {
    color: #666;
    margin-bottom: 0;
    font-size: 0.9rem;
    line-height: 1.3;
    padding-left: 1.75rem;
  }
`,dle=m.button`
  background-color: #FF6B6B;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  color: white;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
  align-self: center;
  margin-left: 0.5rem;
  box-shadow: 0 2px 4px rgba(255, 107, 107, 0.2);

  &:hover {
    background-color: #ff5252;
    transform: translateY(-1px);
    box-shadow: 0 4px 6px rgba(255, 107, 107, 0.3);
  }
`,ule=()=>{const{dashboardData:t}=Ye(),e=Ue(),[n,r]=g.useState(0),o=d=>{var h;switch(d){case"training":!((h=t.training)!=null&&h.completedLessons)||t.training.completedLessons<5?e("/content/training/starthere"):t.training.completedLessons<10?e("/content/training/behavior"):t.training.completedLessons<15?e("/content/training/socialization"):t.training.completedLessons<20?e("/content/training/hygiene"):t.training.completedLessons<25?e("/content/training/badhabits"):e("/content/training/mental");break;case"walk":case"food":e("/diario");break;case"vaccine":e("/vacinas");break}},i=[{type:"training",title:"Treinamento Básico",description:"25 lições para ensinar comandos básicos ao seu pet",icon:s.jsx(tce,{}),action:"Iniciar Treino",time:"Recomendado diariamente"},{type:"walk",title:"Passeio",description:"Seu pet precisa de um passeio para gastar energia",icon:s.jsx(oce,{}),action:"Registrar Passeio",time:"Último passeio: 2 horas atrás"},{type:"food",title:"Alimentação",description:"Hora de alimentar seu pet",icon:s.jsx(rce,{}),action:"Registrar Alimentação",time:"Última refeição: 4 horas atrás"},{type:"vaccine",title:"Vacinação",description:"Vacina contra raiva está próxima do vencimento",icon:s.jsx(nce,{}),action:"Ver Calendário",time:"Vencimento em 15 dias"}],a=()=>{r(d=>(d+1)%i.length)},c=()=>{r(d=>(d-1+i.length)%i.length)},l=i[n];return s.jsxs(ole,{children:[s.jsxs(ile,{children:[s.jsx("h2",{children:"Recomendações"}),s.jsxs(sle,{children:[s.jsx(zP,{onClick:c,children:"<"}),s.jsx(zP,{onClick:a,children:">"})]})]}),s.jsx(ale,{children:s.jsxs(cle,{children:[s.jsxs(lle,{children:[s.jsxs("h3",{children:[l.icon,l.title]}),s.jsx("p",{children:l.description})]}),s.jsx(dle,{onClick:()=>o(l.type),children:l.action})]})})]})},hM=()=>s.jsx(Sa,{children:s.jsxs("div",{className:"dashboard-container",children:[s.jsx("div",{className:"dashboard-main-section",children:s.jsx("div",{className:"pet-status-wrapper",children:s.jsx(Wae,{})})}),s.jsxs("div",{className:"dashboard-secondary-section",children:[s.jsx(Hae,{}),s.jsx(ule,{})]})]})});function hle(){const{user:t}=Ee(),{userDoc:e}=ka(),{onboardingCompleted:n}=Hf();Sb("(min-width: 1920px)");const r=Ue();return g.useEffect(()=>{t&&!n&&r("/onboarding")},[t,n,r]),e?s.jsx("div",{className:"w-full",children:s.jsx(hM,{})}):s.jsx(Zn,{})}const ple=g.createContext(void 0);function pM(t){const e=g.useContext(ple);return t||e||"ltr"}const kE="dismissableLayer.update",fle="dismissableLayer.pointerDownOutside",mle="dismissableLayer.focusOutside";let BP;const gle=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vle=g.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:l,...d}=t,h=g.useContext(gle),[u,f]=g.useState(null),v=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,x]=g.useState({}),y=bt(e,S=>f(S)),_=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=_.indexOf(w),I=u?_.indexOf(u):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,D=I>=E,$=xle(S=>{const C=S.target,P=[...h.branches].some(N=>N.contains(C));!D||P||(i==null||i(S),c==null||c(S),S.defaultPrevented||l==null||l())},v),k=ble(S=>{const C=S.target;[...h.branches].some(N=>N.contains(C))||(a==null||a(S),c==null||c(S),S.defaultPrevented||l==null||l())},v);return $S(S=>{I===h.layers.size-1&&(o==null||o(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},v),g.useEffect(()=>{if(u)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(BP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(u)),h.layers.add(u),UP(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=BP)}},[u,v,r,h]),g.useEffect(()=>()=>{u&&(h.layers.delete(u),h.layersWithOutsidePointerEventsDisabled.delete(u),UP())},[u,h]),g.useEffect(()=>{const S=()=>x({});return document.addEventListener(kE,S),()=>document.removeEventListener(kE,S)},[]),g.createElement(Ge.div,Z({},d,{ref:y,style:{pointerEvents:j?D?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,$.onPointerDownCapture)}))});function xle(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=g.useRef(!1),o=g.useRef(()=>{});return g.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let h=function(){fM(fle,n,d,{discrete:!0})};var l=h;const d={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ble(t,e=globalThis==null?void 0:globalThis.document){const n=Gt(t),r=g.useRef(!1);return g.useEffect(()=>{const o=i=>{i.target&&!r.current&&fM(mle,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UP(){const t=new CustomEvent(kE);document.dispatchEvent(t)}function fM(t,e,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?Gf(o,i):o.dispatchEvent(i)}const b1="focusScope.autoFocusOnMount",y1="focusScope.autoFocusOnUnmount",qP={bubbles:!1,cancelable:!0},yle=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...a}=t,[c,l]=g.useState(null),d=Gt(o),h=Gt(i),u=g.useRef(null),f=bt(e,y=>l(y)),v=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let E=function($){if(v.paused||!c)return;const k=$.target;c.contains(k)?u.current=k:Is(u.current,{select:!0})},I=function($){if(v.paused||!c)return;const k=$.relatedTarget;k!==null&&(c.contains(k)||Is(u.current,{select:!0}))},j=function($){const k=document.activeElement;for(const S of $)S.removedNodes.length>0&&(c!=null&&c.contains(k)||Is(c))};var y=E,_=I,w=j;document.addEventListener("focusin",E),document.addEventListener("focusout",I);const D=new MutationObserver(j);return c&&D.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",I),D.disconnect()}}},[r,c,v.paused]),g.useEffect(()=>{if(c){HP.add(v);const y=document.activeElement;if(!c.contains(y)){const w=new CustomEvent(b1,qP);c.addEventListener(b1,d),c.dispatchEvent(w),w.defaultPrevented||(wle(Sle(mM(c)),{select:!0}),document.activeElement===y&&Is(c))}return()=>{c.removeEventListener(b1,d),setTimeout(()=>{const w=new CustomEvent(y1,qP);c.addEventListener(y1,h),c.dispatchEvent(w),w.defaultPrevented||Is(y??document.body,{select:!0}),c.removeEventListener(y1,h),HP.remove(v)},0)}}},[c,d,h,v]);const x=g.useCallback(y=>{if(!n&&!r||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(_&&w){const E=y.currentTarget,[I,j]=_le(E);I&&j?!y.shiftKey&&w===j?(y.preventDefault(),n&&Is(I,{select:!0})):y.shiftKey&&w===I&&(y.preventDefault(),n&&Is(j,{select:!0})):w===E&&y.preventDefault()}},[n,r,v.paused]);return g.createElement(Ge.div,Z({tabIndex:-1},a,{ref:f,onKeyDown:x}))});function wle(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Is(r,{select:e}),document.activeElement!==n)return}function _le(t){const e=mM(t),n=WP(e,t),r=WP(e.reverse(),t);return[n,r]}function mM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WP(t,e){for(const n of t)if(!Ele(n,{upTo:e}))return n}function Ele(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Tle(t){return t instanceof HTMLInputElement&&"select"in t}function Is(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Tle(t)&&e&&t.select()}}const HP=Ile();function Ile(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=GP(t,e),t.unshift(e)},remove(e){var n;t=GP(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function GP(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Sle(t){return t.filter(e=>e.tagName!=="A")}const kle=["top","right","bottom","left"],ua=Math.min,Er=Math.max,cx=Math.round,ag=Math.floor,ha=t=>({x:t,y:t}),Cle={left:"right",right:"left",bottom:"top",top:"bottom"},jle={start:"end",end:"start"};function CE(t,e,n){return Er(t,ua(e,n))}function ki(t,e){return typeof t=="function"?t(e):t}function Ci(t){return t.split("-")[0]}function wu(t){return t.split("-")[1]}function r2(t){return t==="x"?"y":"x"}function o2(t){return t==="y"?"height":"width"}function _u(t){return["top","bottom"].includes(Ci(t))?"y":"x"}function i2(t){return r2(_u(t))}function Ale(t,e,n){n===void 0&&(n=!1);const r=wu(t),o=i2(t),i=o2(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=lx(a)),[a,lx(a)]}function Ple(t){const e=lx(t);return[jE(t),e,jE(e)]}function jE(t){return t.replace(/start|end/g,e=>jle[e])}function Rle(t,e,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:a;default:return[]}}function Dle(t,e,n,r){const o=wu(t);let i=Rle(Ci(t),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),e&&(i=i.concat(i.map(jE)))),i}function lx(t){return t.replace(/left|right|bottom|top/g,e=>Cle[e])}function Nle(t){return{top:0,right:0,bottom:0,left:0,...t}}function gM(t){return typeof t!="number"?Nle(t):{top:t,right:t,bottom:t,left:t}}function dx(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function KP(t,e,n){let{reference:r,floating:o}=t;const i=_u(e),a=i2(e),c=o2(a),l=Ci(e),d=i==="y",h=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,f=r[c]/2-o[c]/2;let v;switch(l){case"top":v={x:h,y:r.y-o.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:u};break;case"left":v={x:r.x-o.width,y:u};break;default:v={x:r.x,y:r.y}}switch(wu(e)){case"start":v[a]-=f*(n&&d?-1:1);break;case"end":v[a]+=f*(n&&d?-1:1);break}return v}const $le=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:h,y:u}=KP(d,r,l),f=r,v={},x=0;for(let y=0;y<c.length;y++){const{name:_,fn:w}=c[y],{x:E,y:I,data:j,reset:D}=await w({x:h,y:u,initialPlacement:r,placement:f,strategy:o,middlewareData:v,rects:d,platform:a,elements:{reference:t,floating:e}});if(h=E??h,u=I??u,v={...v,[_]:{...v[_],...j}},D&&x<=50){x++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(d=D.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:o}):D.rects),{x:h,y:u}=KP(d,f,l)),y=-1;continue}}return{x:h,y:u,placement:f,strategy:o,middlewareData:v}};async function gf(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:i,rects:a,elements:c,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:f=!1,padding:v=0}=ki(e,t),x=gM(v),_=c[f?u==="floating"?"reference":"floating":u],w=dx(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:h,strategy:l})),E=u==="floating"?{...a.floating,x:r,y:o}:a.reference,I=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),j=await(i.isElement==null?void 0:i.isElement(I))?await(i.getScale==null?void 0:i.getScale(I))||{x:1,y:1}:{x:1,y:1},D=dx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:E,offsetParent:I,strategy:l}):E);return{top:(w.top-D.top+x.top)/j.y,bottom:(D.bottom-w.bottom+x.bottom)/j.y,left:(w.left-D.left+x.left)/j.x,right:(D.right-w.right+x.right)/j.x}}const YP=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:i,platform:a,elements:c}=e,{element:l,padding:d=0}=ki(t,e)||{};if(l==null)return{};const h=gM(d),u={x:n,y:r},f=i2(o),v=o2(f),x=await a.getDimensions(l),y=f==="y",_=y?"top":"left",w=y?"bottom":"right",E=y?"clientHeight":"clientWidth",I=i.reference[v]+i.reference[f]-u[f]-i.floating[v],j=u[f]-i.reference[f],D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let $=D?D[E]:0;(!$||!await(a.isElement==null?void 0:a.isElement(D)))&&($=c.floating[E]||i.floating[v]);const k=I/2-j/2,S=$/2-x[v]/2-1,C=ua(h[_],S),P=ua(h[w],S),N=C,O=$-x[v]-P,R=$/2-x[v]/2+k,K=CE(N,R,O),oe=wu(o)!=null&&R!=K&&i.reference[v]/2-(R<N?C:P)-x[v]/2<0?R<N?N-R:O-R:0;return{[f]:u[f]-oe,data:{[f]:K,centerOffset:R-K+oe}}}}),Ole=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...y}=ki(t,e),_=Ci(r),w=Ci(a)===a,E=await(c.isRTL==null?void 0:c.isRTL(l.floating)),I=u||(w||!x?[lx(a)]:Ple(a));!u&&v!=="none"&&I.push(...Dle(a,x,v,E));const j=[a,...I],D=await gf(e,y),$=[];let k=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&$.push(D[_]),h){const N=Ale(r,i,E);$.push(D[N[0]],D[N[1]])}if(k=[...k,{placement:r,overflows:$}],!$.every(N=>N<=0)){var S,C;const N=(((S=o.flip)==null?void 0:S.index)||0)+1,O=j[N];if(O)return{data:{index:N,overflows:k},reset:{placement:O}};let R=(C=k.filter(K=>K.overflows[0]<=0).sort((K,re)=>K.overflows[1]-re.overflows[1])[0])==null?void 0:C.placement;if(!R)switch(f){case"bestFit":{var P;const K=(P=k.map(re=>[re.placement,re.overflows.filter(oe=>oe>0).reduce((oe,xe)=>oe+xe,0)]).sort((re,oe)=>re[1]-oe[1])[0])==null?void 0:P[0];K&&(R=K);break}case"initialPlacement":R=a;break}if(r!==R)return{reset:{placement:R}}}return{}}}};function QP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function XP(t){return kle.some(e=>t[e]>=0)}const Fle=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=ki(t,e);switch(r){case"referenceHidden":{const i=await gf(e,{...o,elementContext:"reference"}),a=QP(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:XP(a)}}}case"escaped":{const i=await gf(e,{...o,altBoundary:!0}),a=QP(i,n.floating);return{data:{escapedOffsets:a,escaped:XP(a)}}}default:return{}}}}};async function Mle(t,e){const{placement:n,platform:r,elements:o}=t,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Ci(n),c=wu(n),l=_u(n)==="y",d=["left","top"].includes(a)?-1:1,h=i&&l?-1:1,u=ki(e,t);let{mainAxis:f,crossAxis:v,alignmentAxis:x}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return c&&typeof x=="number"&&(v=c==="end"?x*-1:x),l?{x:v*h,y:f*d}:{x:f*d,y:v*h}}const Lle=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,o=await Mle(e,t);return{x:n+o.x,y:r+o.y,data:o}}}},Vle=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:_=>{let{x:w,y:E}=_;return{x:w,y:E}}},...l}=ki(t,e),d={x:n,y:r},h=await gf(e,l),u=_u(Ci(o)),f=r2(u);let v=d[f],x=d[u];if(i){const _=f==="y"?"top":"left",w=f==="y"?"bottom":"right",E=v+h[_],I=v-h[w];v=CE(E,v,I)}if(a){const _=u==="y"?"top":"left",w=u==="y"?"bottom":"right",E=x+h[_],I=x-h[w];x=CE(E,x,I)}const y=c.fn({...e,[f]:v,[u]:x});return{...y,data:{x:y.x-n,y:y.y-r}}}}},zle=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=ki(t,e),h={x:n,y:r},u=_u(o),f=r2(u);let v=h[f],x=h[u];const y=ki(c,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const I=f==="y"?"height":"width",j=i.reference[f]-i.floating[I]+_.mainAxis,D=i.reference[f]+i.reference[I]-_.mainAxis;v<j?v=j:v>D&&(v=D)}if(d){var w,E;const I=f==="y"?"width":"height",j=["top","left"].includes(Ci(o)),D=i.reference[u]-i.floating[I]+(j&&((w=a.offset)==null?void 0:w[u])||0)+(j?0:_.crossAxis),$=i.reference[u]+i.reference[I]+(j?0:((E=a.offset)==null?void 0:E[u])||0)-(j?_.crossAxis:0);x<D?x=D:x>$&&(x=$)}return{[f]:v,[u]:x}}}},Ble=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:o,elements:i}=e,{apply:a=()=>{},...c}=ki(t,e),l=await gf(e,c),d=Ci(n),h=wu(n),u=_u(n)==="y",{width:f,height:v}=r.floating;let x,y;d==="top"||d==="bottom"?(x=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(y=d,x=h==="end"?"top":"bottom");const _=v-l[x],w=f-l[y],E=!e.middlewareData.shift;let I=_,j=w;if(u){const $=f-l.left-l.right;j=h||E?ua(w,$):$}else{const $=v-l.top-l.bottom;I=h||E?ua(_,$):$}if(E&&!h){const $=Er(l.left,0),k=Er(l.right,0),S=Er(l.top,0),C=Er(l.bottom,0);u?j=f-2*($!==0||k!==0?$+k:Er(l.left,l.right)):I=v-2*(S!==0||C!==0?S+C:Er(l.top,l.bottom))}await a({...e,availableWidth:j,availableHeight:I});const D=await o.getDimensions(i.floating);return f!==D.width||v!==D.height?{reset:{rects:!0}}:{}}}};function pa(t){return vM(t)?(t.nodeName||"").toLowerCase():"#document"}function kr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vi(t){var e;return(e=(vM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vM(t){return t instanceof Node||t instanceof kr(t).Node}function ji(t){return t instanceof Element||t instanceof kr(t).Element}function Vo(t){return t instanceof HTMLElement||t instanceof kr(t).HTMLElement}function JP(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kr(t).ShadowRoot}function em(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Ur(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function Ule(t){return["table","td","th"].includes(pa(t))}function s2(t){const e=a2(),n=Ur(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qle(t){let e=Qd(t);for(;Vo(e)&&!Lb(e);){if(s2(e))return e;e=Qd(e)}return null}function a2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lb(t){return["html","body","#document"].includes(pa(t))}function Ur(t){return kr(t).getComputedStyle(t)}function Vb(t){return ji(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Qd(t){if(pa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||JP(t)&&t.host||Vi(t);return JP(e)?e.host:e}function xM(t){const e=Qd(t);return Lb(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vo(e)&&em(e)?e:xM(e)}function ux(t,e){var n;e===void 0&&(e=[]);const r=xM(t),o=r===((n=t.ownerDocument)==null?void 0:n.body),i=kr(r);return o?e.concat(i,i.visualViewport||[],em(r)?r:[]):e.concat(r,ux(r))}function bM(t){const e=Ur(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Vo(t),i=o?t.offsetWidth:n,a=o?t.offsetHeight:r,c=cx(n)!==i||cx(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function c2(t){return ji(t)?t:t.contextElement}function vd(t){const e=c2(t);if(!Vo(e))return ha(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=bM(e);let a=(i?cx(n.width):n.width)/r,c=(i?cx(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const Wle=ha(0);function yM(t){const e=kr(t);return!a2()||!e.visualViewport?Wle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Hle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==kr(t)?!1:e}function qc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),i=c2(t);let a=ha(1);e&&(r?ji(r)&&(a=vd(r)):a=vd(t));const c=Hle(i,n,r)?yM(i):ha(0);let l=(o.left+c.x)/a.x,d=(o.top+c.y)/a.y,h=o.width/a.x,u=o.height/a.y;if(i){const f=kr(i),v=r&&ji(r)?kr(r):r;let x=f.frameElement;for(;x&&r&&v!==f;){const y=vd(x),_=x.getBoundingClientRect(),w=Ur(x),E=_.left+(x.clientLeft+parseFloat(w.paddingLeft))*y.x,I=_.top+(x.clientTop+parseFloat(w.paddingTop))*y.y;l*=y.x,d*=y.y,h*=y.x,u*=y.y,l+=E,d+=I,x=kr(x).frameElement}}return dx({width:h,height:u,x:l,y:d})}function Gle(t){let{rect:e,offsetParent:n,strategy:r}=t;const o=Vo(n),i=Vi(n);if(n===i)return e;let a={scrollLeft:0,scrollTop:0},c=ha(1);const l=ha(0);if((o||!o&&r!=="fixed")&&((pa(n)!=="body"||em(i))&&(a=Vb(n)),Vo(n))){const d=qc(n);c=vd(n),l.x=d.x+n.clientLeft,l.y=d.y+n.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-a.scrollLeft*c.x+l.x,y:e.y*c.y-a.scrollTop*c.y+l.y}}function Kle(t){return Array.from(t.getClientRects())}function wM(t){return qc(Vi(t)).left+Vb(t).scrollLeft}function Yle(t){const e=Vi(t),n=Vb(t),r=t.ownerDocument.body,o=Er(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Er(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+wM(t);const c=-n.scrollTop;return Ur(r).direction==="rtl"&&(a+=Er(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:c}}function Qle(t,e){const n=kr(t),r=Vi(t),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,l=0;if(o){i=o.width,a=o.height;const d=a2();(!d||d&&e==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:c,y:l}}function Xle(t,e){const n=qc(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=Vo(t)?vd(t):ha(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,l=o*i.x,d=r*i.y;return{width:a,height:c,x:l,y:d}}function ZP(t,e,n){let r;if(e==="viewport")r=Qle(t,n);else if(e==="document")r=Yle(Vi(t));else if(ji(e))r=Xle(e,n);else{const o=yM(t);r={...e,x:e.x-o.x,y:e.y-o.y}}return dx(r)}function _M(t,e){const n=Qd(t);return n===e||!ji(n)||Lb(n)?!1:Ur(n).position==="fixed"||_M(n,e)}function Jle(t,e){const n=e.get(t);if(n)return n;let r=ux(t).filter(c=>ji(c)&&pa(c)!=="body"),o=null;const i=Ur(t).position==="fixed";let a=i?Qd(t):t;for(;ji(a)&&!Lb(a);){const c=Ur(a),l=s2(a);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||em(a)&&!l&&_M(t,a))?r=r.filter(h=>h!==a):o=c,a=Qd(a)}return e.set(t,r),r}function Zle(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const a=[...n==="clippingAncestors"?Jle(e,this._c):[].concat(n),r],c=a[0],l=a.reduce((d,h)=>{const u=ZP(e,h,o);return d.top=Er(u.top,d.top),d.right=ua(u.right,d.right),d.bottom=ua(u.bottom,d.bottom),d.left=Er(u.left,d.left),d},ZP(e,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ede(t){return bM(t)}function tde(t,e,n){const r=Vo(e),o=Vi(e),i=n==="fixed",a=qc(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const l=ha(0);if(r||!r&&!i)if((pa(e)!=="body"||em(o))&&(c=Vb(e)),r){const d=qc(e,!0,i,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else o&&(l.x=wM(o));return{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function eR(t,e){return!Vo(t)||Ur(t).position==="fixed"?null:e?e(t):t.offsetParent}function EM(t,e){const n=kr(t);if(!Vo(t))return n;let r=eR(t,e);for(;r&&Ule(r)&&Ur(r).position==="static";)r=eR(r,e);return r&&(pa(r)==="html"||pa(r)==="body"&&Ur(r).position==="static"&&!s2(r))?n:r||qle(t)||n}const nde=async function(t){let{reference:e,floating:n,strategy:r}=t;const o=this.getOffsetParent||EM,i=this.getDimensions;return{reference:tde(e,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function rde(t){return Ur(t).direction==="rtl"}const ode={convertOffsetParentRelativeRectToViewportRelativeRect:Gle,getDocumentElement:Vi,getClippingRect:Zle,getOffsetParent:EM,getElementRects:nde,getClientRects:Kle,getDimensions:ede,getScale:vd,isElement:ji,isRTL:rde};function ide(t,e){let n=null,r;const o=Vi(t);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:d,top:h,width:u,height:f}=t.getBoundingClientRect();if(c||e(),!u||!f)return;const v=ag(h),x=ag(o.clientWidth-(d+u)),y=ag(o.clientHeight-(h+f)),_=ag(d),E={rootMargin:-v+"px "+-x+"px "+-y+"px "+-_+"px",threshold:Er(0,ua(1,l))||1};let I=!0;function j(D){const $=D[0].intersectionRatio;if($!==l){if(!I)return a();$?a(!1,$):r=setTimeout(()=>{a(!1,1e-7)},100)}I=!1}try{n=new IntersectionObserver(j,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(j,E)}n.observe(t)}return a(!0),i}function sde(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=c2(t),h=o||i?[...d?ux(d):[],...ux(e)]:[];h.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const u=d&&c?ide(d,n):null;let f=-1,v=null;a&&(v=new ResizeObserver(w=>{let[E]=w;E&&E.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{v&&v.observe(e)})),n()}),d&&!l&&v.observe(d),v.observe(e));let x,y=l?qc(t):null;l&&_();function _(){const w=qc(t);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&n(),y=w,x=requestAnimationFrame(_)}return n(),()=>{h.forEach(w=>{o&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),u&&u(),v&&v.disconnect(),v=null,l&&cancelAnimationFrame(x)}}const ade=(t,e,n)=>{const r=new Map,o={platform:ode,...n},i={...o.platform,_c:r};return $le(t,e,{...o,platform:i})},cde=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:o}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?YP({element:r.current,padding:o}).fn(n):{}:r?YP({element:r,padding:o}).fn(n):{}}}};var Xv=typeof document<"u"?g.useLayoutEffect:g.useEffect;function hx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!hx(t[r],e[r]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&t.$$typeof)&&!hx(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function TM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tR(t,e){const n=TM(t);return Math.round(e*n)/n}function nR(t){const e=g.useRef(t);return Xv(()=>{e.current=t}),e}function lde(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:l,open:d}=t,[h,u]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,v]=g.useState(r);hx(f,r)||v(r);const[x,y]=g.useState(null),[_,w]=g.useState(null),E=g.useCallback(oe=>{oe!=$.current&&($.current=oe,y(oe))},[y]),I=g.useCallback(oe=>{oe!==k.current&&(k.current=oe,w(oe))},[w]),j=i||x,D=a||_,$=g.useRef(null),k=g.useRef(null),S=g.useRef(h),C=nR(l),P=nR(o),N=g.useCallback(()=>{if(!$.current||!k.current)return;const oe={placement:e,strategy:n,middleware:f};P.current&&(oe.platform=P.current),ade($.current,k.current,oe).then(xe=>{const W={...xe,isPositioned:!0};O.current&&!hx(S.current,W)&&(S.current=W,eu.flushSync(()=>{u(W)}))})},[f,e,n,P]);Xv(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,u(oe=>({...oe,isPositioned:!1})))},[d]);const O=g.useRef(!1);Xv(()=>(O.current=!0,()=>{O.current=!1}),[]),Xv(()=>{if(j&&($.current=j),D&&(k.current=D),j&&D){if(C.current)return C.current(j,D,N);N()}},[j,D,N,C]);const R=g.useMemo(()=>({reference:$,floating:k,setReference:E,setFloating:I}),[E,I]),K=g.useMemo(()=>({reference:j,floating:D}),[j,D]),re=g.useMemo(()=>{const oe={position:n,left:0,top:0};if(!K.floating)return oe;const xe=tR(K.floating,h.x),W=tR(K.floating,h.y);return c?{...oe,transform:"translate("+xe+"px, "+W+"px)",...TM(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:xe,top:W}},[n,c,K.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:N,refs:R,elements:K,floatingStyles:re}),[h,N,R,K,re])}function dde(t){const[e,n]=g.useState(void 0);return ca(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let a,c;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;a=d.inlineSize,c=d.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const IM="Popper",[SM,kM]=Mi(IM),[ude,CM]=SM(IM),hde=t=>{const{__scopePopper:e,children:n}=t,[r,o]=g.useState(null);return g.createElement(ude,{scope:e,anchor:r,onAnchorChange:o},n)},pde="PopperAnchor",fde=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...o}=t,i=CM(pde,n),a=g.useRef(null),c=bt(e,a);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:g.createElement(Ge.div,Z({},o,{ref:c}))}),jM="PopperContent",[mde,k_e]=SM(jM),gde=g.forwardRef((t,e)=>{var n,r,o,i,a,c,l,d;const{__scopePopper:h,side:u="bottom",sideOffset:f=0,align:v="center",alignOffset:x=0,arrowPadding:y=0,collisionBoundary:_=[],collisionPadding:w=0,sticky:E="partial",hideWhenDetached:I=!1,avoidCollisions:j=!0,onPlaced:D,...$}=t,k=CM(jM,h),[S,C]=g.useState(null),P=bt(e,rr=>C(rr)),[N,O]=g.useState(null),R=dde(N),K=(n=R==null?void 0:R.width)!==null&&n!==void 0?n:0,re=(r=R==null?void 0:R.height)!==null&&r!==void 0?r:0,oe=u+(v!=="center"?"-"+v:""),xe=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},W=Array.isArray(_)?_:[_],B=W.length>0,J={padding:xe,boundary:W.filter(vde),altBoundary:B},{refs:ue,floatingStyles:ce,placement:U,isPositioned:se,middlewareData:L}=lde({strategy:"fixed",placement:oe,whileElementsMounted:sde,elements:{reference:k.anchor},middleware:[Lle({mainAxis:f+re,alignmentAxis:x}),j&&Vle({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?zle():void 0,...J}),j&&Ole({...J}),Ble({...J,apply:({elements:rr,rects:vr,availableWidth:zo,availableHeight:zi})=>{const{width:Bi,height:Bo}=vr.reference,q=rr.floating.style;q.setProperty("--radix-popper-available-width",`${zo}px`),q.setProperty("--radix-popper-available-height",`${zi}px`),q.setProperty("--radix-popper-anchor-width",`${Bi}px`),q.setProperty("--radix-popper-anchor-height",`${Bo}px`)}}),N&&cde({element:N,padding:y}),xde({arrowWidth:K,arrowHeight:re}),I&&Fle({strategy:"referenceHidden"})]}),[X,$e]=AM(U),be=Gt(D);ca(()=>{se&&(be==null||be())},[se,be]);const Ie=(o=L.arrow)===null||o===void 0?void 0:o.x,ke=(i=L.arrow)===null||i===void 0?void 0:i.y,me=((a=L.arrow)===null||a===void 0?void 0:a.centerOffset)!==0,[Ae,fn]=g.useState();return ca(()=>{S&&fn(window.getComputedStyle(S).zIndex)},[S]),g.createElement("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:se?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(c=L.transformOrigin)===null||c===void 0?void 0:c.x,(l=L.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},g.createElement(mde,{scope:h,placedSide:X,onArrowChange:O,arrowX:Ie,arrowY:ke,shouldHideArrow:me},g.createElement(Ge.div,Z({"data-side":X,"data-align":$e},$,{ref:P,style:{...$.style,animation:se?void 0:"none",opacity:(d=L.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function vde(t){return t!==null}const xde=t=>({name:"transformOrigin",options:t,fn(e){var n,r,o,i,a;const{placement:c,rects:l,middlewareData:d}=e,u=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=u?0:t.arrowWidth,v=u?0:t.arrowHeight,[x,y]=AM(c),_={start:"0%",center:"50%",end:"100%"}[y],w=((r=(o=d.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+f/2,E=((i=(a=d.arrow)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0)+v/2;let I="",j="";return x==="bottom"?(I=u?_:`${w}px`,j=`${-v}px`):x==="top"?(I=u?_:`${w}px`,j=`${l.floating.height+v}px`):x==="right"?(I=`${-v}px`,j=u?_:`${E}px`):x==="left"&&(I=`${l.floating.width+v}px`,j=u?_:`${E}px`),{data:{x:I,y:j}}}});function AM(t){const[e,n="center"]=t.split("-");return[e,n]}const bde=hde,yde=fde,wde=gde,_de=g.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=t;return r?jT.createPortal(g.createElement(Ge.div,Z({},o,{ref:e})),r):null}),w1="rovingFocusGroup.onEntryFocus",Ede={bubbles:!1,cancelable:!0},l2="RovingFocusGroup",[AE,PM,Tde]=NS(l2),[Ide,RM]=Mi(l2,[Tde]),[Sde,kde]=Ide(l2),Cde=g.forwardRef((t,e)=>g.createElement(AE.Provider,{scope:t.__scopeRovingFocusGroup},g.createElement(AE.Slot,{scope:t.__scopeRovingFocusGroup},g.createElement(jde,Z({},t,{ref:e}))))),jde=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,...h}=t,u=g.useRef(null),f=bt(e,u),v=pM(i),[x=null,y]=yb({prop:a,defaultProp:c,onChange:l}),[_,w]=g.useState(!1),E=Gt(d),I=PM(n),j=g.useRef(!1),[D,$]=g.useState(0);return g.useEffect(()=>{const k=u.current;if(k)return k.addEventListener(w1,E),()=>k.removeEventListener(w1,E)},[E]),g.createElement(Sde,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:x,onItemFocus:g.useCallback(k=>y(k),[y]),onItemShiftTab:g.useCallback(()=>w(!0),[]),onFocusableItemAdd:g.useCallback(()=>$(k=>k+1),[]),onFocusableItemRemove:g.useCallback(()=>$(k=>k-1),[])},g.createElement(Ge.div,Z({tabIndex:_||D===0?-1:0,"data-orientation":r},h,{ref:f,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{j.current=!0}),onFocus:ye(t.onFocus,k=>{const S=!j.current;if(k.target===k.currentTarget&&S&&!_){const C=new CustomEvent(w1,Ede);if(k.currentTarget.dispatchEvent(C),!C.defaultPrevented){const P=I().filter(re=>re.focusable),N=P.find(re=>re.active),O=P.find(re=>re.id===x),K=[N,O,...P].filter(Boolean).map(re=>re.ref.current);DM(K)}}j.current=!1}),onBlur:ye(t.onBlur,()=>w(!1))})))}),Ade="RovingFocusGroupItem",Pde=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,...a}=t,c=fd(),l=i||c,d=kde(Ade,n),h=d.currentTabStopId===l,u=PM(n),{onFocusableItemAdd:f,onFocusableItemRemove:v}=d;return g.useEffect(()=>{if(r)return f(),()=>v()},[r,f,v]),g.createElement(AE.ItemSlot,{scope:n,id:l,focusable:r,active:o},g.createElement(Ge.span,Z({tabIndex:h?0:-1,"data-orientation":d.orientation},a,{ref:e,onMouseDown:ye(t.onMouseDown,x=>{r?d.onItemFocus(l):x.preventDefault()}),onFocus:ye(t.onFocus,()=>d.onItemFocus(l)),onKeyDown:ye(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=Nde(x,d.orientation,d.dir);if(y!==void 0){x.preventDefault();let w=u().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const E=w.indexOf(x.currentTarget);w=d.loop?$de(w,E+1):w.slice(E+1)}setTimeout(()=>DM(w))}})})))}),Rde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Dde(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Nde(t,e,n){const r=Dde(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Rde[r]}function DM(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function $de(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Ode=Cde,Fde=Pde,PE=["Enter"," "],Mde=["ArrowDown","PageUp","Home"],NM=["ArrowUp","PageDown","End"],Lde=[...Mde,...NM],Vde={ltr:[...PE,"ArrowRight"],rtl:[...PE,"ArrowLeft"]},zde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},zb="Menu",[vf,Bde,Ude]=NS(zb),[tl,$M]=Mi(zb,[Ude,kM,RM]),d2=kM(),OM=RM(),[qde,nl]=tl(zb),[Wde,tm]=tl(zb),Hde=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:o,onOpenChange:i,modal:a=!0}=t,c=d2(e),[l,d]=g.useState(null),h=g.useRef(!1),u=Gt(i),f=pM(o);return g.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),g.createElement(bde,c,g.createElement(qde,{scope:e,open:n,onOpenChange:u,content:l,onContentChange:d},g.createElement(Wde,{scope:e,onClose:g.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:h,dir:f,modal:a},r)))},FM=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,o=d2(n);return g.createElement(yde,Z({},o,r,{ref:e}))}),MM="MenuPortal",[Gde,LM]=tl(MM,{forceMount:void 0}),Kde=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:o}=t,i=nl(MM,e);return g.createElement(Gde,{scope:e,forceMount:n},g.createElement(Li,{present:n||i.open},g.createElement(_de,{asChild:!0,container:o},r)))},to="MenuContent",[Yde,u2]=tl(to),Qde=g.forwardRef((t,e)=>{const n=LM(to,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,i=nl(to,t.__scopeMenu),a=tm(to,t.__scopeMenu);return g.createElement(vf.Provider,{scope:t.__scopeMenu},g.createElement(Li,{present:r||i.open},g.createElement(vf.Slot,{scope:t.__scopeMenu},a.modal?g.createElement(Xde,Z({},o,{ref:e})):g.createElement(Jde,Z({},o,{ref:e})))))}),Xde=g.forwardRef((t,e)=>{const n=nl(to,t.__scopeMenu),r=g.useRef(null),o=bt(e,r);return g.useEffect(()=>{const i=r.current;if(i)return t6(i)},[]),g.createElement(h2,Z({},t,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Jde=g.forwardRef((t,e)=>{const n=nl(to,t.__scopeMenu);return g.createElement(h2,Z({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),h2=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:v,disableOutsideScroll:x,...y}=t,_=nl(to,n),w=tm(to,n),E=d2(n),I=OM(n),j=Bde(n),[D,$]=g.useState(null),k=g.useRef(null),S=bt(e,k,_.onContentChange),C=g.useRef(0),P=g.useRef(""),N=g.useRef(0),O=g.useRef(null),R=g.useRef("right"),K=g.useRef(0),re=x?KS:g.Fragment,oe=x?{as:Uc,allowPinchZoom:!0}:void 0,xe=B=>{var J,ue;const ce=P.current+B,U=j().filter(Ie=>!Ie.disabled),se=document.activeElement,L=(J=U.find(Ie=>Ie.ref.current===se))===null||J===void 0?void 0:J.textValue,X=U.map(Ie=>Ie.textValue),$e=fue(X,ce,L),be=(ue=U.find(Ie=>Ie.textValue===$e))===null||ue===void 0?void 0:ue.ref.current;(function Ie(ke){P.current=ke,window.clearTimeout(C.current),ke!==""&&(C.current=window.setTimeout(()=>Ie(""),1e3))})(ce),be&&setTimeout(()=>be.focus())};g.useEffect(()=>()=>window.clearTimeout(C.current),[]),G8();const W=g.useCallback(B=>{var J,ue;return R.current===((J=O.current)===null||J===void 0?void 0:J.side)&&gue(B,(ue=O.current)===null||ue===void 0?void 0:ue.area)},[]);return g.createElement(Yde,{scope:n,searchRef:P,onItemEnter:g.useCallback(B=>{W(B)&&B.preventDefault()},[W]),onItemLeave:g.useCallback(B=>{var J;W(B)||((J=k.current)===null||J===void 0||J.focus(),$(null))},[W]),onTriggerLeave:g.useCallback(B=>{W(B)&&B.preventDefault()},[W]),pointerGraceTimerRef:N,onPointerGraceIntentChange:g.useCallback(B=>{O.current=B},[])},g.createElement(re,oe,g.createElement(yle,{asChild:!0,trapped:o,onMountAutoFocus:ye(i,B=>{var J;B.preventDefault(),(J=k.current)===null||J===void 0||J.focus()}),onUnmountAutoFocus:a},g.createElement(vle,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:u,onInteractOutside:f,onDismiss:v},g.createElement(Ode,Z({asChild:!0},I,{dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:$,onEntryFocus:ye(l,B=>{w.isUsingKeyboardRef.current||B.preventDefault()})}),g.createElement(wde,Z({role:"menu","aria-orientation":"vertical","data-state":qM(_.open),"data-radix-menu-content":"",dir:w.dir},E,y,{ref:S,style:{outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,B=>{const ue=B.target.closest("[data-radix-menu-content]")===B.currentTarget,ce=B.ctrlKey||B.altKey||B.metaKey,U=B.key.length===1;ue&&(B.key==="Tab"&&B.preventDefault(),!ce&&U&&xe(B.key));const se=k.current;if(B.target!==se||!Lde.includes(B.key))return;B.preventDefault();const X=j().filter($e=>!$e.disabled).map($e=>$e.ref.current);NM.includes(B.key)&&X.reverse(),hue(X)}),onBlur:ye(t.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:ye(t.onPointerMove,xf(B=>{const J=B.target,ue=K.current!==B.clientX;if(B.currentTarget.contains(J)&&ue){const ce=B.clientX>K.current?"right":"left";R.current=ce,K.current=B.clientX}}))})))))))}),Zde=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.createElement(Ge.div,Z({},r,{ref:e}))}),RE="MenuItem",rR="menu.itemSelect",p2=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...o}=t,i=g.useRef(null),a=tm(RE,t.__scopeMenu),c=u2(RE,t.__scopeMenu),l=bt(e,i),d=g.useRef(!1),h=()=>{const u=i.current;if(!n&&u){const f=new CustomEvent(rR,{bubbles:!0,cancelable:!0});u.addEventListener(rR,v=>r==null?void 0:r(v),{once:!0}),Gf(u,f),f.defaultPrevented?d.current=!1:a.onClose()}};return g.createElement(VM,Z({},o,{ref:l,disabled:n,onClick:ye(t.onClick,h),onPointerDown:u=>{var f;(f=t.onPointerDown)===null||f===void 0||f.call(t,u),d.current=!0},onPointerUp:ye(t.onPointerUp,u=>{var f;d.current||(f=u.currentTarget)===null||f===void 0||f.click()}),onKeyDown:ye(t.onKeyDown,u=>{const f=c.searchRef.current!=="";n||f&&u.key===" "||PE.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})}))}),VM=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...i}=t,a=u2(RE,n),c=OM(n),l=g.useRef(null),d=bt(e,l),[h,u]=g.useState(!1),[f,v]=g.useState("");return g.useEffect(()=>{const x=l.current;if(x){var y;v(((y=x.textContent)!==null&&y!==void 0?y:"").trim())}},[i.children]),g.createElement(vf.ItemSlot,{scope:n,disabled:r,textValue:o??f},g.createElement(Fde,Z({asChild:!0},c,{focusable:!r}),g.createElement(Ge.div,Z({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},i,{ref:d,onPointerMove:ye(t.onPointerMove,xf(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus())})),onPointerLeave:ye(t.onPointerLeave,xf(x=>a.onItemLeave(x))),onFocus:ye(t.onFocus,()=>u(!0)),onBlur:ye(t.onBlur,()=>u(!1))}))))}),eue=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...o}=t;return g.createElement(BM,{scope:t.__scopeMenu,checked:n},g.createElement(p2,Z({role:"menuitemcheckbox","aria-checked":px(n)?"mixed":n},o,{ref:e,"data-state":f2(n),onSelect:ye(o.onSelect,()=>r==null?void 0:r(px(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),tue="MenuRadioGroup",[C_e,nue]=tl(tue,{value:void 0,onValueChange:()=>{}}),rue="MenuRadioItem",oue=g.forwardRef((t,e)=>{const{value:n,...r}=t,o=nue(rue,t.__scopeMenu),i=n===o.value;return g.createElement(BM,{scope:t.__scopeMenu,checked:i},g.createElement(p2,Z({role:"menuitemradio","aria-checked":i},r,{ref:e,"data-state":f2(i),onSelect:ye(r.onSelect,()=>{var a;return(a=o.onValueChange)===null||a===void 0?void 0:a.call(o,n)},{checkForDefaultPrevented:!1})})))}),zM="MenuItemIndicator",[BM,iue]=tl(zM,{checked:!1}),sue=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...o}=t,i=iue(zM,n);return g.createElement(Li,{present:r||px(i.checked)||i.checked===!0},g.createElement(Ge.span,Z({},o,{ref:e,"data-state":f2(i.checked)})))}),aue=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.createElement(Ge.div,Z({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),cue="MenuSub",[j_e,UM]=tl(cue),cg="MenuSubTrigger",lue=g.forwardRef((t,e)=>{const n=nl(cg,t.__scopeMenu),r=tm(cg,t.__scopeMenu),o=UM(cg,t.__scopeMenu),i=u2(cg,t.__scopeMenu),a=g.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=i,d={__scopeMenu:t.__scopeMenu},h=g.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const u=c.current;return()=>{window.clearTimeout(u),l(null)}},[c,l]),g.createElement(FM,Z({asChild:!0},d),g.createElement(VM,Z({id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":qM(n.open)},t,{ref:bb(e,o.onTriggerChange),onClick:u=>{var f;(f=t.onClick)===null||f===void 0||f.call(t,u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,xf(u=>{i.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ye(t.onPointerLeave,xf(u=>{var f;h();const v=(f=n.content)===null||f===void 0?void 0:f.getBoundingClientRect();if(v){var x;const y=(x=n.content)===null||x===void 0?void 0:x.dataset.side,_=y==="right",w=_?-5:5,E=v[_?"left":"right"],I=v[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+w,y:u.clientY},{x:E,y:v.top},{x:I,y:v.top},{x:I,y:v.bottom},{x:E,y:v.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,u=>{const f=i.searchRef.current!=="";if(!(t.disabled||f&&u.key===" ")&&Vde[r.dir].includes(u.key)){var v;n.onOpenChange(!0),(v=n.content)===null||v===void 0||v.focus(),u.preventDefault()}})})))}),due="MenuSubContent",uue=g.forwardRef((t,e)=>{const n=LM(to,t.__scopeMenu),{forceMount:r=n.forceMount,...o}=t,i=nl(to,t.__scopeMenu),a=tm(to,t.__scopeMenu),c=UM(due,t.__scopeMenu),l=g.useRef(null),d=bt(e,l);return g.createElement(vf.Provider,{scope:t.__scopeMenu},g.createElement(Li,{present:r||i.open},g.createElement(vf.Slot,{scope:t.__scopeMenu},g.createElement(h2,Z({id:c.contentId,"aria-labelledby":c.triggerId},o,{ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var u;a.isUsingKeyboardRef.current&&((u=l.current)===null||u===void 0||u.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ye(t.onFocusOutside,h=>{h.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ye(t.onKeyDown,h=>{const u=h.currentTarget.contains(h.target),f=zde[a.dir].includes(h.key);if(u&&f){var v;i.onOpenChange(!1),(v=c.trigger)===null||v===void 0||v.focus(),h.preventDefault()}})})))))});function qM(t){return t?"open":"closed"}function px(t){return t==="indeterminate"}function f2(t){return px(t)?"indeterminate":t?"checked":"unchecked"}function hue(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function pue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function fue(t,e,n){const o=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=pue(t,Math.max(i,0));o.length===1&&(a=a.filter(d=>d!==n));const l=a.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function mue(t,e){const{x:n,y:r}=t;let o=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i].x,l=e[i].y,d=e[a].x,h=e[a].y;l>r!=h>r&&n<(d-c)*(r-l)/(h-l)+c&&(o=!o)}return o}function gue(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return mue(n,e)}function xf(t){return e=>e.pointerType==="mouse"?t(e):void 0}const vue=Hde,xue=FM,bue=Kde,yue=Qde,wue=Zde,_ue=p2,Eue=eue,Tue=oue,Iue=sue,Sue=aue,kue=lue,Cue=uue,WM="DropdownMenu",[jue,A_e]=Mi(WM,[$M]),qr=$M(),[Aue,HM]=jue(WM),Pue=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:o,defaultOpen:i,onOpenChange:a,modal:c=!0}=t,l=qr(e),d=g.useRef(null),[h=!1,u]=yb({prop:o,defaultProp:i,onChange:a});return g.createElement(Aue,{scope:e,triggerId:fd(),triggerRef:d,contentId:fd(),open:h,onOpenChange:u,onOpenToggle:g.useCallback(()=>u(f=>!f),[u]),modal:c},g.createElement(vue,Z({},l,{open:h,onOpenChange:u,dir:r,modal:c}),n))},Rue="DropdownMenuTrigger",Due=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=t,i=HM(Rue,n),a=qr(n);return g.createElement(xue,Z({asChild:!0},a),g.createElement(Ge.button,Z({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:bb(e,i.triggerRef),onPointerDown:ye(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:ye(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})))}),Nue=t=>{const{__scopeDropdownMenu:e,...n}=t,r=qr(e);return g.createElement(bue,Z({},r,n))},$ue="DropdownMenuContent",Oue=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=HM($ue,n),i=qr(n),a=g.useRef(!1);return g.createElement(yue,Z({id:o.contentId,"aria-labelledby":o.triggerId},i,r,{ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,c=>{var l;a.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;(!o.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Fue=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=qr(n);return g.createElement(wue,Z({},o,r,{ref:e}))}),Mue=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=qr(n);return g.createElement(_ue,Z({},o,r,{ref:e}))}),Lue=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=qr(n);return g.createElement(Eue,Z({},o,r,{ref:e}))}),Vue=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=qr(n);return g.createElement(Tue,Z({},o,r,{ref:e}))}),zue=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=qr(n);return g.createElement(Iue,Z({},o,r,{ref:e}))}),Bue=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=qr(n);return g.createElement(Sue,Z({},o,r,{ref:e}))}),Uue=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=qr(n);return g.createElement(kue,Z({},o,r,{ref:e}))}),que=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,o=qr(n);return g.createElement(Cue,Z({},o,r,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Wue=Pue,Hue=Due,Gue=Nue,GM=Oue,KM=Fue,YM=Mue,QM=Lue,XM=Vue,JM=zue,ZM=Bue,eL=Uue,tL=que,Kue=Wue,Yue=Hue,Que=g.forwardRef(({className:t,inset:e,children:n,...r},o)=>s.jsxs(eL,{ref:o,className:Se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,s.jsx(Pne,{className:"ml-auto h-4 w-4"})]}));Que.displayName=eL.displayName;const Xue=g.forwardRef(({className:t,...e},n)=>s.jsx(tL,{ref:n,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Xue.displayName=tL.displayName;const nL=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(Gue,{children:s.jsx(GM,{ref:r,sideOffset:e,className:Se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));nL.displayName=GM.displayName;const Jv=g.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(YM,{ref:r,className:Se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Jv.displayName=YM.displayName;const Jue=g.forwardRef(({className:t,children:e,checked:n,...r},o)=>s.jsxs(QM,{ref:o,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(JM,{children:s.jsx(Ane,{className:"h-4 w-4"})})}),e]}));Jue.displayName=QM.displayName;const Zue=g.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(XM,{ref:r,className:Se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(JM,{children:s.jsx($ne,{className:"h-2 w-2 fill-current"})})}),e]}));Zue.displayName=XM.displayName;const ehe=g.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(KM,{ref:r,className:Se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ehe.displayName=KM.displayName;const the=g.forwardRef(({className:t,...e},n)=>s.jsx(ZM,{ref:n,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));the.displayName=ZM.displayName;function nhe(){const{setTheme:t}=DS();return s.jsxs(Kue,{children:[s.jsx(Yue,{asChild:!0,children:s.jsxs(la,{variant:"outline",size:"icon",children:[s.jsx(nre,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(Yne,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Claro/Escuro"})]})}),s.jsxs(nL,{align:"end",children:[s.jsx(Jv,{onClick:()=>t("light"),children:"Claro"}),s.jsx(Jv,{onClick:()=>t("dark"),children:"Escuro"}),s.jsx(Jv,{onClick:()=>t("system"),children:"Sistema"})]})]})}const rhe="https://us-central1-petzia-f86b4.cloudfunctions.net/changePassword";function ohe({rerender:t,setRerender:e}){const{user:n}=Ee(),{userDoc:r}=ka(),[o,i]=g.useState(""),[a,c]=g.useState(""),[l,d]=g.useState(""),[h,u]=g.useState(""),f=!(n!=null&&n.providerData&&n.providerData.length&&n.providerData[0].providerId==="google.com"),{resetOnboarding:v}=Hf(),x=async _=>{if(_.preventDefault(),l!==h){i("As senhas não coincidem.");return}const w=await n.getIdToken(!0);await fetch(rhe,{method:"POST",headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"},body:JSON.stringify({oldPassword:a,newPassword:l})})},y=async()=>{try{await v(),pf({title:"Onboarding resetado",description:"O processo de onboarding foi resetado com sucesso. Faça logout e login novamente para testar."})}catch{pf({title:"Erro",description:"Não foi possível resetar o onboarding.",variant:"destructive"})}};return!r||!n?s.jsx(Zn,{}):s.jsxs("div",{className:"profile-container",children:[t&&s.jsx("span",{className:"hidden"}),s.jsxs("div",{className:"profile-header",children:[s.jsx("h1",{children:"Sua conta"}),s.jsx("p",{className:"profile-subtitle",children:"Altere os dados da sua conta"})]}),s.jsx("div",{className:"profile-form",children:s.jsxs("div",{className:"form-section",children:[s.jsx("h2",{children:"Informações Pessoais"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Nome completo"}),s.jsx("input",{disabled:!0,value:(n==null?void 0:n.displayName)||"",readOnly:!0,type:"text"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"E-mail"}),s.jsx("input",{disabled:!0,value:(n==null?void 0:n.email)||"",readOnly:!0,type:"email"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Tema (claro/escuro)"}),s.jsx("div",{className:"theme-toggle",children:s.jsx(nhe,{})})]}),f&&s.jsxs("form",{onSubmit:x,className:"password-form",children:[s.jsx("h2",{children:"Alterar Senha"}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Senha atual"}),s.jsx("input",{autoComplete:"current-password",value:a,onChange:_=>c(_.target.value),type:"password"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Nova senha"}),s.jsx("input",{autoComplete:"new-password",value:l,onChange:_=>{d(_.target.value),i("")},type:"password"})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Confirme a senha"}),s.jsx("input",{autoComplete:"new-password",value:h,onChange:_=>{u(_.target.value),i("")},type:"password"})]}),o&&s.jsx("p",{className:"error-message",children:o}),s.jsx("div",{className:"form-actions",children:s.jsx("button",{type:"submit",className:"save-button",children:"Alterar a senha"})})]})]})}),s.jsx("div",{className:"grid gap-4 mt-6",children:s.jsx(la,{onClick:y,variant:"outline",className:"w-full",children:"Resetar Onboarding (Teste)"})})]})}const _1=[{id:"welcome",message:`Olá! Sou o Tobias e vou ajudar você a configurar seu perfil! 🐾

Vamos começar?`,options:[{id:"start",label:"Vamos lá! 👋"}],nextStep:"pet-name"},{id:"pet-name",message:"Como se chama o seu amigo de quatro patas?",input:!0,inputPlaceholder:"Digite o nome do seu pet",nextStep:"pet-type"},{id:"pet-type",message:t=>`${t} é um cachorro ou gato?`,options:[{id:"dog",label:"Cachorro 🐶"},{id:"cat",label:"Gato 🐱"}],nextStep:"pet-breed"},{id:"pet-breed",message:(t,e)=>`Qual é a raça do ${t}?`,input:!0,inputPlaceholder:"Digite a raça do seu pet",nextStep:"pet-age"},{id:"pet-age",message:t=>`Qual é a idade aproximada do ${t}?`,options:[{id:"puppy",label:"Filhote (0-1 ano)"},{id:"young",label:"Jovem (1-3 anos)"},{id:"adult",label:"Adulto (3-8 anos)"},{id:"senior",label:"Sênior (8+ anos)"}],nextStep:"pet-behavior"},{id:"pet-behavior",message:t=>`Quais comportamentos o ${t} apresenta? (Selecione todos que se aplicam)`,options:[{id:"barking",label:"Late/Mia excessivamente"},{id:"chewing",label:"Mastiga objetos"},{id:"jumping",label:"Pula nas pessoas"},{id:"pulling",label:"Puxa a guia durante passeios"},{id:"aggression",label:"Agressividade com outros animais"},{id:"anxiety",label:"Ansiedade de separação"},{id:"house-soiling",label:"Faz necessidades em local inapropriado"},{id:"fearful",label:"Medo de barulhos/situações"},{id:"well-behaved",label:"Bem comportado, sem problemas"}],multiSelect:!0,nextStep:"training-goals"},{id:"training-goals",message:"Quais são seus objetivos principais de treinamento?",options:[{id:"basic-obedience",label:"Comandos básicos"},{id:"stop-bad-behaviors",label:"Parar comportamentos indesejados"},{id:"socialization",label:"Melhorar socialização"},{id:"tricks",label:"Ensinar truques divertidos"},{id:"mental-stimulation",label:"Estimulação mental"}],multiSelect:!0,nextStep:"experience-level"},{id:"experience-level",message:"Qual é o seu nível de experiência com treinamento de pets?",options:[{id:"beginner",label:"Iniciante (primeira vez)"},{id:"some-experience",label:"Alguma experiência"},{id:"experienced",label:"Experiente"}],nextStep:"final-confirmation"},{id:"final-confirmation",message:t=>`Ótimo! Agora conhecemos melhor ${t.petName}. Estamos prontos para preparar uma experiência personalizada para vocês.`,options:[{id:"complete",label:"Finalizar e ir para o app"}],nextStep:"complete"},{id:"complete",message:"Pronto! Seu perfil foi criado com sucesso. Vamos começar essa jornada de treinamento juntos!",isCompleted:!0}],rl={primary:"#3A86FF",primaryDark:"#2A76EF",secondary:"#FF5C8D",accent:"#FFD166",background:"#FFFFFF",lighterPrimary:"#EEF4FF",lightGray:"#F2F2F2",textDark:"#333333",textLight:"#FFFFFF",textMedium:"#666666",success:"#4CAF50",error:"#F44336",warning:"#FF9800",info:"#2196F3",border:"#E0E0E0",divider:"#EEEEEE"},nm=yu`
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,ihe=yu`
  from {
    width: 0;
  }
  to {
    width: 100%;
  }
`;m.div`
  display: flex;
  flex-direction: column;
  max-width: 500px;
  width: 100%;
  margin: 0 auto;
  min-height: 600px;
  background-color: ${rl.background};
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  overflow: hidden;
`;m.div`
  display: flex;
  justify-content: center;
  margin-bottom: 30px;
`;m.div`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background-color: ${t=>t.active?"#0078ff":t.completed?"#7ed321":"#eee"};
  color: ${t=>t.active||t.completed?"white":"#888"};
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 5px;
  position: relative;
  
  &:not(:last-child):after {
    content: '';
    position: absolute;
    height: 2px;
    width: 30px;
    background-color: ${t=>t.completed?"#7ed321":"#eee"};
    right: -25px;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.div`
  font-size: 12px;
  color: #666;
  text-align: center;
  margin-top: 5px;
  max-width: 80px;
`;m.div`
  display: flex;
  flex-direction: column;
  align-items: center;
`;m.div`
  padding: 20px;
  max-width: 600px;
  margin: 0 auto;
  width: 100%;
`;m.h2`
  font-size: 28px;
  margin-bottom: 10px;
  color: #333;
  text-align: center;
`;m.p`
  font-size: 16px;
  color: #666;
  margin-bottom: 30px;
  text-align: center;
`;m.div`
  font-size: 14px;
  color: #888;
  margin-bottom: 10px;
  text-align: center;
`;m.div`
  margin-bottom: 20px;
`;m.label`
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: #333;
`;m.input`
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 16px;
  transition: border-color 0.3s;
  
  &:focus {
    border-color: #0078ff;
    outline: none;
  }
  
  ${t=>t.error&&Mb`
    border-color: #e74c3c;
  `}
`;m.select`
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 16px;
  background-color: white;
  transition: border-color 0.3s;
  
  &:focus {
    border-color: #0078ff;
    outline: none;
  }
  
  ${t=>t.error&&Mb`
    border-color: #e74c3c;
  `}
`;m.textarea`
  width: 100%;
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-size: 16px;
  min-height: 100px;
  resize: vertical;
  transition: border-color 0.3s;
  
  &:focus {
    border-color: #0078ff;
    outline: none;
  }
`;m.p`
  color: #e74c3c;
  font-size: 14px;
  margin-top: 5px;
`;m.div`
  display: flex;
  align-items: center;
  margin-bottom: 12px;
`;m.label`
  display: flex;
  align-items: center;
  cursor: pointer;
  font-size: 16px;
  color: #333;
`;m.input.attrs({type:"checkbox"})`
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
`;m.div`
  width: 20px;
  height: 20px;
  border: 1px solid #ddd;
  border-radius: 4px;
  margin-right: 10px;
  position: relative;
  transition: all 0.2s;
  background-color: ${t=>t.checked?"#0078ff":"white"};
  
  &:after {
    content: '';
    position: absolute;
    display: ${t=>t.checked?"block":"none"};
    left: 6px;
    top: 2px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }
`;m.span`
  font-size: 16px;
`;m.div`
  display: flex;
  justify-content: space-between;
  margin-top: 30px;
`;m.button`
  background-color: #0078ff;
  color: white;
  border: none;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.3s;
  
  &:hover {
    background-color: #0062cc;
  }
  
  &:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
  }
`;m.button`
  background-color: white;
  color: #0078ff;
  border: 1px solid #0078ff;
  padding: 12px 24px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s;
  
  &:hover {
    background-color: #f0f7ff;
  }
  
  &:disabled {
    border-color: #cccccc;
    color: #cccccc;
    cursor: not-allowed;
  }
`;m.div`
  background-color: ${rl.background.light};
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
`;m.div`
  margin-bottom: 15px;
  
  &:last-child {
    margin-bottom: 0;
  }
`;m.span`
  font-weight: 600;
  color: ${rl.textDark};
  display: block;
  margin-bottom: 5px;
  font-size: 14px;
`;m.span`
  color: ${rl.textMedium};
  font-size: 16px;
`;m.ul`
  margin: 0;
  padding-left: 20px;
  
  li {
    margin-bottom: 5px;
  }
`;m.div`
  width: 150px;
  height: 150px;
  margin: 0 auto 30px;
  background-color: ${rl.lightGray};
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  
  img {
    max-width: 80%;
    max-height: 80%;
    object-fit: contain;
  }
`;m.h1`
  font-size: 28px;
  color: ${rl.primary};
  text-align: center;
  margin-bottom: 20px;
  font-weight: 700;
`;m.p`
  font-size: 16px;
  color: ${rl.textMedium};
  text-align: center;
  margin-bottom: 40px;
  line-height: 1.6;
`;yu`
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
`;yu`
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
`;yu`
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  70% {
    transform: scale(1.05);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
`;const she=m.div`
  display: flex;
  flex-direction: column;
  max-width: 600px;
  margin: 0 auto;
  height: 100vh;
  background: linear-gradient(to bottom, #e6f2ff, #f8f9fa) !important;
  color: #222 !important;
  overflow: hidden;
  position: relative;
  font-family: 'Inter', 'Segoe UI', sans-serif;
  * { box-sizing: border-box; }
  @media (max-width: 600px) {
    max-width: 100%;
    border-radius: 0;
  }
`,ahe=m.header`
  position: sticky;
  top: 0;
  background: linear-gradient(to right, #4a89dc, #5ca9fb);
  padding: 8px 16px 8px 16px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  z-index: 10;
  display: flex;
  justify-content: center;
  align-items: center;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  margin-bottom: 0;
  flex-shrink: 0;
`,che=m.div`
  font-size: 16px;
  font-weight: 600;
  color: white;
  letter-spacing: 0.5px;
`,lhe=m.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;
  padding: 8px 20px 30px 20px;
  
  /* Estilizar scrollbar */
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 20px;
  }
`,dhe=m.div`
  max-width: 80%;
  padding: 14px 18px;
  border-radius: 20px;
  margin-bottom: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  line-height: 1.5;
  font-size: 16px;
  word-wrap: break-word;
  background-color: white;
  color: #333;
  align-self: flex-start;
  border-bottom-left-radius: 4px;
  animation: ${nm} 0.3s ease-in-out;
  &.system-bubble {}

  .typing-cursor {
    display: inline-block;
    width: 2px;
    height: 16px;
    background-color: currentColor;
    margin-left: 2px;
    animation: blink 1s infinite;
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }
  }
`,uhe=m.div`
  display: flex;
  align-items: center;
  padding: 12px 18px;
  background-color: white;
  border-radius: 20px;
  border-bottom-left-radius: 4px;
  margin-bottom: 16px;
  align-self: flex-start;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  width: auto;
  animation: ${nm} 0.3s ease-in-out;
  &.typing-indicator {}

  .typing-text {
    font-size: 14px;
    color: #666;
    margin-right: 8px;
  }

  span {
    height: 10px;
    width: 10px;
    background-color: #4a89dc;
    border-radius: 50%;
    display: inline-block;
    margin: 0 3px;
    animation: pulse 1.5s infinite ease-in-out;
  }

  span:nth-child(1) {
    animation-delay: 0s;
  }

  span:nth-child(2) {
    animation-delay: 0.2s;
  }

  span:nth-child(3) {
    animation-delay: 0.4s;
  }

  @keyframes pulse {
    0%, 60%, 100% {
      transform: scale(1);
      opacity: 0.6;
    }
    30% {
      transform: scale(1.5);
      opacity: 1;
    }
  }
`,Fa=m.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
  animation: ${nm} 0.5s ease-out;
  align-self: center;
  margin-top: 8px;
  
  @media (min-width: 480px) {
    max-width: 90%;
  }
`,Rs=m.button`
  padding: 12px 16px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 16px;
  background-color: white;
  font-size: 15px;
  font-weight: 500;
  text-align: left;
  margin-bottom: 5px;
  position: relative;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  overflow: hidden;
  animation: ${nm} 0.3s ease-out;
  animation-delay: ${t=>t.$index*.05}s;
  opacity: 0;
  animation-fill-mode: forwards;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  max-width: 90%;
  align-self: flex-start;
  width: 100%;
  
  &:hover {
    background-color: #f7f9fd;
    border-color: #4a89dc;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  &:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }
`;m(Rs)`
  background-color: ${t=>t.$selected?"#f0f6ff":"white"};
  border-color: ${t=>t.$selected?"#4a89dc":"rgba(0, 0, 0, 0.1)"};
  
  &::before {
    content: '';
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: 2px solid ${t=>t.$selected?"#4a89dc":"#ddd"};
    background-color: ${t=>t.$selected?"#4a89dc":"transparent"};
    transition: all 0.2s ease;
  }
  
  &::after {
    content: '';
    position: absolute;
    right: 19px;
    top: 46.5%;
    transform: translateY(-50%) rotate(45deg);
    width: 6px;
    height: 10px;
    border-bottom: 2px solid white;
    border-right: 2px solid white;
    opacity: ${t=>t.$selected?1:0};
  }
`;const E1=m(Rs)`
  background-color: #4a89dc;
  color: white;
  text-align: center;
  font-weight: 600;
  
  &:hover {
    background-color: #3d7bcb;
  }
`;m.div`
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(5px);
  padding: 16px 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  z-index: 10;
  max-width: 600px;
  margin: 0 auto;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
  animation: ${nm} 0.3s ease-out;
  &.input-container {}
`;const oR=m.input`
  flex: 1;
  padding: 14px 20px;
  border-radius: 24px;
  border: 1px solid #e0e0e0;
  font-size: 16px;
  outline: none;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  transition: all 0.3s;
  color: #333333;
  &.text-input {}

  &:focus {
    border-color: #4a89dc;
    box-shadow: 0 2px 8px rgba(74, 137, 220, 0.3);
  }
  
  &::placeholder {
    color: #aaa;
  }
`,DE=m.button`
  background: linear-gradient(to right, #4a89dc, #5ca9fb);
  color: white;
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-left: 12px;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);

  &:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }

  &:active {
    transform: scale(0.95);
  }

  &:disabled {
    background: #cccccc;
    cursor: not-allowed;
    box-shadow: none;
  }
  
  svg {
    width: 22px;
    height: 22px;
    fill: none;
    stroke: white;
    stroke-width: 2;
  }
`;m.div`
  overflow: hidden;
  white-space: nowrap;
  animation: ${ihe} 1s steps(40, end);
`;const hhe=({message:t,isUser:e,showInstantly:n=!1,onTypingComplete:r})=>{const[o,i]=g.useState(n),[a,c]=g.useState(""),[l,d]=g.useState(!1),h=g.useRef(!1),u=Be.useMemo(()=>t==null?"":typeof t=="string"?t:typeof t=="number"?String(t):typeof t=="object"?t.label?t.label:t.text?t.text:JSON.stringify(t):String(t),[t]);if(g.useEffect(()=>{h.current=!1},[t]),g.useEffect(()=>{if(n)c(u);else{const v=setTimeout(()=>{i(!0),e?c(u):d(!0)},e?300:600);return()=>clearTimeout(v)}},[e,n,u]),g.useEffect(()=>{if(l&&a.length<u.length){const v=Math.random()*30+10,x=setTimeout(()=>{c(u.substring(0,a.length+1))},v);return()=>clearTimeout(x)}else l&&a.length===u.length&&(d(!1),r&&!h.current&&(h.current=!0,setTimeout(()=>{r()},500)))},[l,a,u,r]),!o)return null;const f=e?"user-bubble":"system-bubble";return s.jsxs(dhe,{$isUser:e,className:f,children:[e?u:a,l&&s.jsx("span",{className:"typing-cursor",children:"|"})]})},phe=({delay:t=300,duration:e=1800})=>{const[n,r]=g.useState(!1);return g.useEffect(()=>{const o=setTimeout(()=>{r(!0)},t),i=setTimeout(()=>{r(!1)},t+e);return()=>{clearTimeout(o),clearTimeout(i)}},[t,e]),n?s.jsxs(uhe,{children:[s.jsx("div",{className:"typing-text",children:"Digitando"}),s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]}):null},fhe=yu`
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,iR=m.div`
  display: flex;
  width: 100%;
  gap: 8px;
`;m(DE)`
  margin-left: 8px;
`;const mhe=m.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  width: 100%;
  max-width: 100%;
  animation: ${fhe} 0.5s ease-out;
  background-color: white;
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
`,ghe=m.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  width: 100%;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 12px;
  padding: 16px;
  background-color: #f9f9f9;
`,vhe=m.h3`
  font-size: 18px;
  margin: 0 0 8px;
  color: #333;
  font-weight: 600;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding-bottom: 8px;
`,nh=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 0;
`,rh=m.span`
  font-weight: 500;
  color: #666;
  font-size: 15px;
`,oh=m.span`
  color: #333;
  font-size: 15px;
  font-weight: 500;
`,sR=m(Rs)`
  background-color: ${t=>t.$selected?"#f0f6ff":"white"};
  border-color: ${t=>t.$selected?"#4a89dc":"rgba(0, 0, 0, 0.1)"};
  padding-right: 40px;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: 2px solid ${t=>t.$selected?"#4a89dc":"#ddd"};
    background-color: ${t=>t.$selected?"#4a89dc":"transparent"};
    transition: all 0.2s ease;
  }
  
  &::after {
    content: '';
    position: absolute;
    right: 19px;
    top: 46.5%;
    transform: translateY(-50%) rotate(45deg);
    width: 6px;
    height: 10px;
    border-bottom: 2px solid white;
    border-right: 2px solid white;
    opacity: ${t=>t.$selected?1:0};
  }
`,_e={WELCOME:{id:"welcome",message:`Olá! Sou o Tobias e vou ajudar você a configurar seu perfil! 🐾

Vamos começar?`,buttonText:"Vamos lá! 👋",nextStep:"pet-name"},PET_NAME:{id:"pet-name",message:"Como se chama o seu amigo de quatro patas?",placeholder:"Digite o nome do seu pet...",nextStep:"pet-type"},PET_TYPE:{id:"pet-type",getMessage:t=>`${t} é um cachorro ou gato?`,options:[{value:"cachorro",label:"Cachorro 🐶"},{value:"gato",label:"Gato 🐱"}],nextStep:"pet-breed"},PET_BREED:{id:"pet-breed",getMessage:(t,e)=>`Qual é a raça do ${t}?`,placeholder:"Digite a raça do seu pet...",nextStep:"pet-gender"},PET_GENDER:{id:"pet-gender",getMessage:(t,e)=>`${t} é ${e==="cachorro"?"um cachorro":"um gato"}! E qual é o gênero?`,options:[{value:"macho",label:"Macho"},{value:"femea",label:"Fêmea"}],nextStep:"pet-age"},PET_AGE:{id:"pet-age",getMessage:(t,e)=>`${t} é ${e==="macho"?"um menino":"uma menina"}! E qual é a idade aproximada?`,options:[{value:"filhote",label:"Filhote (até 1 ano)"},{value:"adulto",label:"Adulto (1 a 7 anos)"},{value:"idoso",label:"Idoso (mais de 7 anos)"}],nextStep:"pet-behavior"},PET_BEHAVIOR:{id:"pet-behavior",getMessage:t=>`Quais comportamentos o ${t} apresenta? (Selecione todos que se aplicam)`,options:[{value:"barking",label:"Late/Mia excessivamente"},{value:"chewing",label:"Mastiga objetos"},{value:"jumping",label:"Pula nas pessoas"},{value:"pulling",label:"Puxa a guia durante passeios"},{value:"aggression",label:"Agressividade com outros animais"},{value:"anxiety",label:"Ansiedade de separação"},{value:"house-soiling",label:"Faz necessidades em local inapropriado"},{value:"fearful",label:"Medo de barulhos/situações"},{value:"well-behaved",label:"Bem comportado, sem problemas"}],multiSelect:!0,nextStep:"training-goals"},TRAINING_GOALS:{id:"training-goals",message:"Quais são seus objetivos principais de treinamento?",options:[{value:"basic-obedience",label:"Comandos básicos"},{value:"stop-bad-behaviors",label:"Parar comportamentos indesejados"},{value:"socialization",label:"Melhorar socialização"},{value:"tricks",label:"Ensinar truques divertidos"},{value:"mental-stimulation",label:"Estimulação mental"}],multiSelect:!0,nextStep:"experience-level"},EXPERIENCE_LEVEL:{id:"experience-level",message:"Qual é o seu nível de experiência com treinamento de pets?",options:[{value:"beginner",label:"Iniciante (primeira vez)"},{value:"some-experience",label:"Alguma experiência"},{value:"experienced",label:"Experiente"}],nextStep:"final-confirmation"},FINAL_CONFIRMATION:{id:"final-confirmation",getMessage:t=>`Ótimo! Agora conhecemos melhor ${t}. Estamos prontos para preparar uma experiência personalizada para vocês.`,buttonText:"Finalizar e ir para o app",nextStep:"complete"},COMPLETE:{id:"complete",message:"Pronto! Seu perfil foi criado com sucesso. Vamos começar essa jornada de treinamento juntos!",isCompleted:!0}},xhe=()=>{const{completeOnboarding:t}=Hf(),{user:e}=Ee(),n=Ue(),[r,o]=g.useState([]),[i,a]=g.useState(_e.WELCOME.id),[c,l]=g.useState({}),[d,h]=g.useState(!1),[u,f]=g.useState(!1),[v,x]=g.useState(1),[y,_]=g.useState(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),[w,E]=g.useState(""),[I,j]=g.useState(""),[D,$]=g.useState(""),[k,S]=g.useState(""),[C,P]=g.useState(""),[N,O]=g.useState(""),[R,K]=g.useState([]),[re,oe]=g.useState([]),[xe,W]=g.useState("");g.useState(!1);const[B,J]=g.useState([]),[ue,ce]=g.useState([]),[U,se]=g.useState(!1);g.useEffect(()=>{console.log("Estado messageTypingComplete mudou:",U)},[U]);const L=g.useRef(null),X=g.useRef(null);Object.values(_e).find(q=>q.id===i),g.useEffect(()=>{const q=window.matchMedia("(prefers-color-scheme: dark)"),ge=pe=>{_(pe.matches)};return q.addEventListener?q.addEventListener("change",ge):q.addListener(ge),()=>{q.removeEventListener?q.removeEventListener("change",ge):q.removeListener(ge)}},[]),g.useEffect(()=>{r.length===0&&(se(!1),setTimeout(()=>{o([{id:`system-${Date.now()}`,text:_e.WELCOME.message,type:"system"}])},500))},[]),g.useEffect(()=>{if(X.current){const q=()=>{X.current.scrollIntoView({behavior:"smooth",block:"end"})};q();const ge=setTimeout(q,100),pe=setTimeout(q,500);return()=>{clearTimeout(ge),clearTimeout(pe)}}},[r,u,U]),g.useEffect(()=>{const q=()=>{X.current&&X.current.scrollIntoView({behavior:"smooth",block:"end"})},ge=setTimeout(q,200),pe=setTimeout(q,600);return()=>{clearTimeout(ge),clearTimeout(pe)}},[i]),g.useEffect(()=>{if(U&&!u&&X.current){const q=setTimeout(()=>{X.current.scrollIntoView({behavior:"smooth",block:"end"})},300);return()=>clearTimeout(q)}},[U,u]),g.useEffect(()=>{Object.keys(c).length>0&&localStorage.setItem("onboarding_progress",JSON.stringify({currentStepId:i,petData:c,messages:r}))},[i,c,r]),g.useEffect(()=>{const q=localStorage.getItem("onboarding_progress");if(q)try{const{currentStepId:ge,petData:pe,messages:Te}=JSON.parse(q),he=_1.find(rt=>rt.id===ge);if(he&&!he.isCompleted){a(ge),l(pe),o(Te);const rt=_1.findIndex(yt=>yt.id===ge)+1;x(rt)}}catch(ge){console.error("Erro ao restaurar progresso do onboarding:",ge)}},[]),g.useEffect(()=>{const q=_1.findIndex(ge=>ge.id===i)+1;q>0&&x(q)},[i]);const be=async()=>{if(e)try{localStorage.removeItem("onboarding_progress"),await t(c),n("/")}catch(q){console.error("Erro ao finalizar onboarding:",q)}},Ie=()=>{if(u||!U)return null;if(i===_e.WELCOME.id)return setTimeout(()=>{window.dispatchEvent(new CustomEvent("optionsRendered"))},50),s.jsx(Fa,{children:s.jsx(Rs,{$index:0,onClick:()=>{o(q=>[...q,{id:`user-${Date.now()}`,text:_e.WELCOME.buttonText,type:"user"}]),a(_e.WELCOME.nextStep),x(q=>q+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(q=>[...q,{id:`system-${Date.now()}`,text:_e.PET_NAME.message,type:"system"}])},1500)},style:{backgroundColor:"#4a89dc",color:"white",textAlign:"center",fontWeight:"600",padding:"15px 20px",maxWidth:"200px",margin:"0 auto"},children:_e.WELCOME.buttonText})});if(i===_e.PET_NAME.id)return s.jsxs(iR,{children:[s.jsx(oR,{value:w,onChange:ke,placeholder:_e.PET_NAME.placeholder,onKeyPress:q=>{q.key==="Enter"&&w.trim()&&me()}}),s.jsx(DE,{onClick:()=>w.trim()&&me(),disabled:!w.trim(),type:"button",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M22 2L11 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]});if(i===_e.PET_TYPE.id){const{options:q}=_e.PET_TYPE;return setTimeout(()=>{window.dispatchEvent(new CustomEvent("optionsRendered"))},50),s.jsx(Fa,{children:q.map((ge,pe)=>s.jsx(Rs,{$index:pe,onClick:()=>Ae(ge.value),children:ge.label},ge.value))})}if(i===_e.PET_BREED.id)return s.jsxs(iR,{children:[s.jsx(oR,{value:w,onChange:ke,placeholder:_e.PET_BREED.placeholder,onKeyPress:q=>{q.key==="Enter"&&w.trim()&&vr()}}),s.jsx(DE,{onClick:()=>w.trim()&&vr(),disabled:!w.trim(),type:"button",children:s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M22 2L11 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]});if(i===_e.PET_GENDER.id){const{options:q}=_e.PET_GENDER;return setTimeout(()=>{window.dispatchEvent(new CustomEvent("optionsRendered"))},50),s.jsx(Fa,{children:q.map((ge,pe)=>s.jsx(Rs,{$index:pe,onClick:()=>fn(ge.value),children:ge.label},ge.value))})}if(i===_e.PET_AGE.id){const{options:q}=_e.PET_AGE;return setTimeout(()=>{window.dispatchEvent(new CustomEvent("optionsRendered"))},50),s.jsx(Fa,{children:q.map((ge,pe)=>s.jsx(Rs,{$index:pe,onClick:()=>rr(ge.value),children:ge.label},ge.value))})}if(i===_e.PET_BEHAVIOR.id){const{options:q}=_e.PET_BEHAVIOR;setTimeout(()=>{window.dispatchEvent(new CustomEvent("optionsRendered"))},50);const ge=pe=>{J(Te=>Te.includes(pe)?Te.filter(he=>he!==pe):[...Te,pe])};return s.jsxs("div",{style:{width:"100%"},children:[s.jsx(Fa,{children:q.map((pe,Te)=>s.jsx(sR,{$index:Te,$selected:B.includes(pe.value),onClick:()=>ge(pe.value),children:pe.label},pe.value))}),s.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"15px"},children:s.jsxs(E1,{onClick:()=>zo(B),disabled:B.length===0,style:{maxWidth:"200px"},children:["Confirmar (",B.length," selecionado",B.length!==1?"s":"",")"]})})]})}if(i===_e.TRAINING_GOALS.id){const{options:q}=_e.TRAINING_GOALS;setTimeout(()=>{window.dispatchEvent(new CustomEvent("optionsRendered"))},50);const ge=pe=>{ce(Te=>Te.includes(pe)?Te.filter(he=>he!==pe):[...Te,pe])};return s.jsxs("div",{style:{width:"100%"},children:[s.jsx(Fa,{children:q.map((pe,Te)=>s.jsx(sR,{$index:Te,$selected:ue.includes(pe.value),onClick:()=>ge(pe.value),children:pe.label},pe.value))}),s.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"15px"},children:s.jsxs(E1,{onClick:()=>zi(ue),disabled:ue.length===0,style:{maxWidth:"200px"},children:["Confirmar (",ue.length," selecionado",ue.length!==1?"s":"",")"]})})]})}if(i===_e.EXPERIENCE_LEVEL.id){const{options:q}=_e.EXPERIENCE_LEVEL;return setTimeout(()=>{window.dispatchEvent(new CustomEvent("optionsRendered"))},50),s.jsx(Fa,{children:q.map((ge,pe)=>s.jsx(Rs,{$index:pe,onClick:()=>Bi(ge.value),children:ge.label},ge.value))})}return i===_e.FINAL_CONFIRMATION.id?(setTimeout(()=>{window.dispatchEvent(new CustomEvent("optionsRendered"))},50),s.jsxs(mhe,{children:[s.jsxs(ghe,{children:[s.jsx(vhe,{children:"Resumo do Perfil"}),s.jsxs(nh,{children:[s.jsx(rh,{children:"Nome:"}),s.jsx(oh,{children:I})]}),s.jsxs(nh,{children:[s.jsx(rh,{children:"Tipo:"}),s.jsx(oh,{children:D==="cachorro"?"Cachorro":"Gato"})]}),s.jsxs(nh,{children:[s.jsx(rh,{children:"Raça:"}),s.jsx(oh,{children:k})]}),s.jsxs(nh,{children:[s.jsx(rh,{children:"Gênero:"}),s.jsx(oh,{children:C==="macho"?"Macho":"Fêmea"})]}),s.jsxs(nh,{children:[s.jsx(rh,{children:"Idade:"}),s.jsx(oh,{children:N==="filhote"?"Filhote (até 1 ano)":N==="adulto"?"Adulto (1 a 7 anos)":"Idoso (mais de 7 anos)"})]})]}),s.jsx(E1,{onClick:Bo,style:{textAlign:"center"},children:_e.FINAL_CONFIRMATION.buttonText})]})):null};g.useEffect(()=>{const q=()=>{X.current&&setTimeout(()=>{X.current.scrollIntoView({behavior:"smooth",block:"end"})},100)};return window.addEventListener("optionsRendered",q),()=>{window.removeEventListener("optionsRendered",q)}},[]);const ke=q=>{E(q.target.value)},me=()=>{if(w.trim()){const q=w.trim();j(q),o(pe=>[...pe,{id:`user-${Date.now()}`,text:q,type:"user"}]);const ge={...c,petName:q};l(ge),E(""),a(_e.PET_NAME.nextStep),x(pe=>pe+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(pe=>[...pe,{id:`system-${Date.now()}`,text:_e.PET_TYPE.getMessage(q),type:"system"}])},1500)}},Ae=q=>{var Te;$(q);const ge=((Te=_e.PET_TYPE.options.find(he=>he.value===q))==null?void 0:Te.label)||q;o(he=>[...he,{id:`user-${Date.now()}`,text:ge,type:"user"}]);const pe={...c,petType:q};l(pe),a(_e.PET_TYPE.nextStep),x(he=>he+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(he=>[...he,{id:`system-${Date.now()}`,text:_e.PET_BREED.getMessage(I,q),type:"system"}])},1500)},fn=q=>{var Te;P(q);const ge=((Te=_e.PET_GENDER.options.find(he=>he.value===q))==null?void 0:Te.label)||q;o(he=>[...he,{id:`user-${Date.now()}`,text:ge,type:"user"}]);const pe={...c,petGender:q};l(pe),a(_e.PET_GENDER.nextStep),x(he=>he+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(he=>[...he,{id:`system-${Date.now()}`,text:_e.PET_AGE.getMessage(I,q),type:"system"}])},1500)},rr=q=>{var Te;O(q);const ge=((Te=_e.PET_AGE.options.find(he=>he.value===q))==null?void 0:Te.label)||q;o(he=>[...he,{id:`user-${Date.now()}`,text:ge,type:"user"}]);const pe={...c,petAge:q};l(pe),a(_e.PET_AGE.nextStep),x(he=>he+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(he=>[...he,{id:`system-${Date.now()}`,text:_e.PET_BEHAVIOR.getMessage(I),type:"system"}])},1500)},vr=()=>{if(w.trim()){const q=w.trim();S(q),o(pe=>[...pe,{id:`user-${Date.now()}`,text:q,type:"user"}]);const ge={...c,petBreed:q};l(ge),E(""),a(_e.PET_BREED.nextStep),x(pe=>pe+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(pe=>[...pe,{id:`system-${Date.now()}`,text:`${I} é um ${q}! E qual é o gênero?`,type:"system"}])},1500)}},zo=q=>{K(q);const ge=q.map(Te=>{var he;return((he=_e.PET_BEHAVIOR.options.find(rt=>rt.value===Te))==null?void 0:he.label)||Te}).join(", ");o(Te=>[...Te,{id:`user-${Date.now()}`,text:ge||"Nenhum comportamento selecionado",type:"user"}]);const pe={...c,behaviors:q};l(pe),a(_e.PET_BEHAVIOR.nextStep),x(Te=>Te+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(Te=>[...Te,{id:`system-${Date.now()}`,text:_e.TRAINING_GOALS.message,type:"system"}])},1500)},zi=q=>{oe(q);const ge=q.map(Te=>{var he;return((he=_e.TRAINING_GOALS.options.find(rt=>rt.value===Te))==null?void 0:he.label)||Te}).join(", ");o(Te=>[...Te,{id:`user-${Date.now()}`,text:ge||"Nenhum objetivo selecionado",type:"user"}]);const pe={...c,trainingGoals:q};l(pe),a(_e.TRAINING_GOALS.nextStep),x(Te=>Te+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(Te=>[...Te,{id:`system-${Date.now()}`,text:_e.EXPERIENCE_LEVEL.message,type:"system"}])},1500)},Bi=q=>{var Te;W(q);const ge=((Te=_e.EXPERIENCE_LEVEL.options.find(he=>he.value===q))==null?void 0:Te.label)||q;o(he=>[...he,{id:`user-${Date.now()}`,text:ge,type:"user"}]);const pe={...c,experienceLevel:q};l(pe),a(_e.EXPERIENCE_LEVEL.nextStep),x(he=>he+1),f(!0),se(!1),setTimeout(()=>{f(!1),o(he=>[...he,{id:`system-${Date.now()}`,text:_e.FINAL_CONFIRMATION.getMessage(I),type:"system"}])},1500)},Bo=()=>{o(q=>[...q,{id:`user-${Date.now()}`,text:_e.FINAL_CONFIRMATION.buttonText,type:"user"}]),a(_e.COMPLETE.id),h(!0),f(!0),se(!1),setTimeout(()=>{f(!1),o(q=>[...q,{id:`system-${Date.now()}`,text:_e.COMPLETE.message,type:"system"}]),setTimeout(()=>{be()},2e3)},1500)};return s.jsxs(she,{className:y?"dark-mode":"light-mode",children:[s.jsx(ahe,{children:s.jsxs(che,{children:["Etapa ",v," de ",Object.keys(_e).length-1]})}),s.jsxs(lhe,{ref:L,children:[r.map((q,ge)=>s.jsx(hhe,{message:q.text,isUser:q.type==="user",showInstantly:q.showInstantly,onTypingComplete:ge===r.length-1&&q.type==="system"?()=>{setTimeout(()=>{se(!0)},200)}:void 0},q.id)),u&&s.jsx(phe,{}),!u&&!d&&U&&s.jsx("div",{style:{paddingTop:"10px",paddingBottom:"25px"},children:Ie()}),s.jsx("div",{ref:X,style:{height:"20px",width:"100%"}})]})]})},bhe=()=>s.jsx(xhe,{}),yhe=()=>{const{resetOnboarding:t}=Hf(),[e,n]=g.useState(!1),[r,o]=g.useState(!1),[i,a]=g.useState(null),c=Ue(),l=async()=>{n(!0),a(null);try{await t(),o(!0),c("/onboarding")}catch(d){a("Erro ao resetar onboarding: "+d.message)}finally{n(!1)}};return s.jsx("div",{className:"flex flex-col items-center justify-center h-screen",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md w-full",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Reset de Onboarding"}),s.jsx("p",{className:"mb-6 text-gray-600",children:"Esta página permite resetar seu progresso de onboarding para fins de teste. Todos os dados do processo serão apagados e você poderá iniciar novamente."}),i&&s.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),r?s.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"Onboarding resetado com sucesso! Redirecionando..."}):s.jsx("button",{onClick:l,disabled:e,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded w-full",children:e?"Resetando...":"Resetar Onboarding"})]})})};function whe(){Ee();const{userDoc:t}=ka();Sb("(min-width: 1920px)");const e=Ue(),[n,r]=g.useState(!(t!=null&&t.startHere)),[o,i]=g.useState(!1),[a,c]=g.useState(!1),[l,d]=g.useState(!1),[h,u]=g.useState(!1);g.useEffect(()=>{const _=localStorage.getItem("behavior_unlocked")==="true",w=localStorage.getItem("socialization_unlocked")==="true",E=localStorage.getItem("hygiene_unlocked")==="true",I=localStorage.getItem("badhabits_unlocked")==="true",j=localStorage.getItem("isContentLocked")==="true";i(_),c(w),d(E),u(I),r(j)},[]),g.useEffect(()=>{const _=()=>{const w=localStorage.getItem("isContentLocked")==="true";r(w)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[]);const f=()=>{const _=!n;r(_),localStorage.setItem("isContentLocked",_.toString()),_?(localStorage.removeItem("behavior_unlocked"),localStorage.removeItem("socialization_unlocked"),localStorage.removeItem("hygiene_unlocked"),localStorage.removeItem("badhabits_unlocked"),localStorage.removeItem("mental_unlocked"),i(!1),c(!1),d(!1),u(!1)):(localStorage.setItem("behavior_unlocked","true"),localStorage.setItem("socialization_unlocked","true"),localStorage.setItem("hygiene_unlocked","true"),localStorage.setItem("badhabits_unlocked","true"),localStorage.setItem("mental_unlocked","true"),i(!0),c(!0),d(!0),u(!0)),window.dispatchEvent(new Event("storage"))},v=()=>{localStorage.removeItem("behavior1_unlocked"),localStorage.removeItem("behavior_unlocked"),localStorage.removeItem("socialization1_unlocked"),localStorage.removeItem("socialization_unlocked"),localStorage.removeItem("hygiene1_unlocked"),localStorage.removeItem("hygiene_unlocked"),localStorage.removeItem("badhabits1_unlocked"),localStorage.removeItem("badhabits_unlocked"),localStorage.removeItem("mental1_unlocked"),localStorage.removeItem("mental_unlocked"),localStorage.removeItem("starthere1_completed"),localStorage.removeItem("starthere2_completed"),localStorage.removeItem("starthere3_completed"),localStorage.removeItem("starthere4_completed"),localStorage.removeItem("starthere5_completed"),localStorage.removeItem("behavior1_completed"),localStorage.removeItem("behavior2_completed"),localStorage.removeItem("behavior3_completed"),localStorage.removeItem("behavior4_completed"),localStorage.removeItem("behavior5_completed"),localStorage.setItem("isContentLocked","true"),i(!1),c(!1),d(!1),u(!1),r(!0),window.dispatchEvent(new Event("storage"))},x=[{name:"Comece aqui",icon:s.jsx(rE,{className:"h-6 w-6 sm:w-8 sm:h-8 shrink-0 text-brand"}),description:"Fundamentos essenciais para treinar seu cão e estabelecer uma comunicação efetiva.",route:"/content/training/starthere"}],y=[{name:"Comportamento Essencial",icon:s.jsx(VS,{className:"h-6 w-6 sm:w-8 sm:h-8 shrink-0 text-brand"}),description:"Desenvolva comportamentos essenciais para uma convivência harmoniosa com seu cão.",route:"/content/training/behavior",isLocked:!o},{name:"Socialização e Controle",icon:s.jsx(qS,{className:"h-6 w-6 sm:w-8 sm:h-8 shrink-0 text-brand"}),description:"Aprenda a socializar seu cão e controlar seus impulsos em diferentes situações.",route:"/content/training/socialization",isLocked:!a},{name:"Higiene e Rotina",icon:s.jsx(f8,{className:"h-6 w-6 sm:w-8 sm:h-8 shrink-0 text-brand"}),description:"Estabeleça uma rotina saudável e hábitos de higiene com seu cão.",route:"/content/training/hygiene",isLocked:!l},{name:"Evitando Maus Hábitos",icon:s.jsx(US,{className:"h-6 w-6 sm:w-8 sm:h-8 shrink-0 text-brand"}),description:"Aprenda a prevenir e corrigir comportamentos indesejados.",route:"/content/training/badhabits",isLocked:!h},{name:"Exercícios Mentais",icon:s.jsx(u8,{className:"h-6 w-6 sm:w-8 sm:h-8 shrink-0 text-brand"}),description:"Mantenha seu cão mentalmente ativo e feliz com jogos e atividades.",route:"/content/training/mental",isLocked:n}];return t?t.plan.status!=="active"?s.jsx(Uae,{}):s.jsxs("div",{className:"h-[200vh] py-2.5 px-2.5 sm:px-0 lg:w-1/2",children:[s.jsxs("div",{className:"fixed top-4 right-4 z-50 flex gap-2",children:[s.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors",children:[s.jsx(g8,{className:"h-4 w-4"}),"Resetar Progresso"]}),s.jsx("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-brand text-white rounded-md hover:bg-brand/90 transition-colors",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Wne,{className:"h-4 w-4"}),"Desbloquear Conteúdo"]}):s.jsxs(s.Fragment,{children:[s.jsx(J0,{className:"h-4 w-4"}),"Bloquear Conteúdo"]})})]}),s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx(rE,{className:"text-brand"}),s.jsx("h1",{className:"text-xl font-medium text-black/75",children:"Comece aqui"})]}),s.jsx("div",{className:"mt-3 sm:mt-5 flex gap-6",children:x.map(_=>s.jsxs("div",{className:"flex items-center sm:gap-5 border p-3 sm:p-6 bg-white rounded-md cursor-pointer",onClick:()=>e(_.route),children:[s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("p",{className:"text-md font-medium text-brand",children:_.name}),s.jsx("p",{className:"text-black/75 text-[13px] sm:text-sm",children:_.description})]}),_.icon]},_.name))}),s.jsxs("div",{className:"mt-5 flex gap-3 items-center",children:[s.jsx(Xne,{className:"text-brand"}),s.jsx("h1",{className:"text-xl font-medium text-black/75",children:"Módulos de Treinamento"})]}),s.jsx("div",{className:"mt-1",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:'Conclua o módulo "Comece por aqui" para desbloquear o restante do conteúdo.'})}),s.jsx("div",{className:"mt-2.5 flex flex-col lg:flex-row gap-2.5 sm:gap-6 flex-wrap",children:y.map(_=>s.jsxs("div",{className:`${_.isLocked?"opacity-50 grayscale":""} relative flex flex-nowrap items-center gap-2.5 sm:gap-5 border p-3 sm:p-6 bg-white rounded-md cursor-pointer`,onClick:()=>{_.isLocked||(console.log("Navegando para:",_.route),e(_.route))},children:[s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("p",{className:"text-md font-medium text-brand",children:_.name}),s.jsx("p",{className:"text-black/75 text-sm",children:_.description})]}),_.isLocked?s.jsx(J0,{className:"h-6 w-6 sm:w-8 sm:h-8 shrink-0"}):_.icon]},_.name))})]}):s.jsx(Zn,{})}const bf=[{id:"starthere",title:"Comece Aqui 🎯",description:"Fundamentos essenciais para começar a treinar seu cão",duration:"1 hora",route:"/content/training/start-here",icon:LS,lessons:[{id:"starthere1",title:"Introdução ao Adestramento",description:"Entenda os conceitos básicos do adestramento positivo",duration:"10 min",component:"StartHere1"},{id:"starthere2",title:"Comunicação com seu Cão",description:"Aprenda a se comunicar efetivamente com seu cão",duration:"15 min",component:"StartHere2"},{id:"starthere3",title:"Recompensas e Reforço Positivo",description:"Como usar recompensas para motivar seu cão",duration:"15 min",component:"StartHere3"},{id:"starthere4",title:"Timing e Consistência",description:"A importância do timing e da consistência no treinamento",duration:"15 min",component:"StartHere4"},{id:"starthere5",title:"Ambiente de Treinamento",description:"Como criar o ambiente ideal para o treinamento",duration:"15 min",component:"StartHere5"}]},{id:"behavior",title:"Comportamento 🐕",description:"Aprenda a entender e modificar comportamentos indesejados",duration:"1 hora",route:"/content/training/behavior",icon:VS},{id:"socialization",title:"Socialização 👥",description:"Aprenda a socializar seu cão e controlar seus impulsos",duration:"1 hora",route:"/content/training/socialization",icon:qS},{id:"hygiene",title:"Higiene e Rotina 🚿",description:"Aprenda a estabelecer uma rotina de higiene saudável",duration:"1 hora",route:"/content/training/hygiene",icon:f8},{id:"badhabits",title:"Evitando Maus Hábitos ⚠️",description:"Prevenção e correção de comportamentos indesejados",duration:"1 hora",route:"/content/training/badhabits",icon:US},{id:"mental",title:"Exercícios Mentais 🧠",description:"Estimule a mente do seu cão com exercícios desafiadores",duration:"1 hora",route:"/content/training/mental",icon:u8}],_he=m.div`
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
`,Ehe=m.h1`
  font-size: 28px;
  color: #333;
  margin-bottom: 30px;
`,The=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
`,Ihe=m.div`
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: ${t=>t.locked?"not-allowed":"pointer"};
  opacity: ${t=>t.locked?.7:1};
  transition: transform 0.2s;
  position: relative;

  &:hover {
    transform: ${t=>t.locked?"none":"translateY(-2px)"};
  }
`,She=m.div`
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
`,khe=m.div`
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f0f0f0;
  border-radius: 8px;
  color: #007bff;
`,Che=m.h2`
  font-size: 20px;
  color: #333;
  margin: 0;
`,jhe=m.p`
  color: #666;
  margin-bottom: 15px;
`,Ahe=m.span`
  color: #007bff;
  font-size: 14px;
  font-weight: 500;
`,Phe=m.div`
  position: absolute;
  top: 10px;
  right: 10px;
  color: #ff4444;
`;function Rhe(){const t=Ue();Ee(),Ye();const[e,n]=g.useState({starthere:!0,behavior:!1,socialization:!1,hygiene:!1,badhabits:!1,mental:!1});g.useEffect(()=>{const o=()=>{const i={starthere:!0,behavior:localStorage.getItem("behavior_unlocked")==="true",socialization:localStorage.getItem("socialization_unlocked")==="true",hygiene:localStorage.getItem("hygiene_unlocked")==="true",badhabits:localStorage.getItem("badhabits_unlocked")==="true",mental:localStorage.getItem("mental_unlocked")==="true"};n(i)};return o(),window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},[]);const r=o=>{const i=bf.find(a=>a.id===o);i&&i.route&&e[o]&&t(i.route)};return s.jsxs(_he,{children:[s.jsx(Ehe,{children:"Módulos de Treinamento"}),s.jsx(The,{children:bf.map(o=>s.jsxs(Ihe,{onClick:()=>r(o.id),locked:!e[o.id].toString(),children:[s.jsxs(She,{children:[s.jsx(khe,{children:s.jsx(o.icon,{size:24})}),s.jsx(Che,{children:o.title})]}),s.jsx(jhe,{children:o.description}),s.jsx(Ahe,{children:o.duration}),!e[o.id]&&s.jsx(Phe,{children:s.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),s.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})})]},o.id))})]})}const Dhe="/assets/starthere1-C9ioJPtr.png",Nhe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,$he=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Ohe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Fhe=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,Mhe=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Lhe=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Ji=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,Vhe=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,T1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const zhe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,aR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Bhe=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,Uhe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;m.button`
  padding: 0.5rem 1rem;
  background: #48BB78;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;
  margin-left: 1rem;

  &:hover {
    background: #38A169;
  }
`;const lg=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,ot=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,qhe=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,ih=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.div`
  flex: 1;
  overflow-y: auto;
  padding-right: 10px;
  max-height: 420px;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`;m.h3`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`;const Whe=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;function Hhe({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=async()=>{if(e===3){localStorage.setItem("starthere1_completed","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const u={lessonId:"starthere1",moduleId:"starthere",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:1,currentLevel:"beginner",lastSession:new Date,totalTime:5}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição StartHere1 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}}catch(u){console.error("Erro ao processar progresso da lição:",u)}}else n(u=>(u+1)%4)},l=()=>{n(u=>(u-1+4)%4)},d=u=>{n(u)},h=[{title:"Introdução ao Adestramento",content:s.jsxs(s.Fragment,{children:[s.jsx(Whe,{src:Dhe,alt:"Introdução ao Adestramento"}),s.jsx(Ji,{children:"Bem-vindo ao mundo do adestramento positivo! Neste módulo, você aprenderá os fundamentos essenciais para começar a treinar seu cão de forma eficaz e respeitosa."}),s.jsx(Ji,{children:"O adestramento positivo é uma abordagem baseada em recompensas que fortalece o vínculo entre você e seu cão, tornando o processo de aprendizado mais agradável e eficiente para ambos."})]})},{title:"Como os Cães Aprendem?",content:s.jsxs(s.Fragment,{children:[s.jsx(Ji,{children:"Os cães aprendem através de associação e repetição. Quando um comportamento é seguido por algo agradável (como um petisco ou carinho), eles tendem a repetir esse comportamento."}),s.jsx(Ji,{children:"O reforço positivo é a forma mais eficaz de treinamento, pois:"}),s.jsxs(lg,{children:[s.jsx(ot,{children:"Cria uma associação positiva com o aprendizado, tornando o treinamento mais prazeroso"}),s.jsx(ot,{children:"Fortaleca o vínculo entre tutor e pet, aumentando a confiança mútua"}),s.jsx(ot,{children:"Reduz o estresse e a ansiedade, criando um ambiente seguro para o aprendizado"}),s.jsx(ot,{children:"Estimula o cão a pensar e tomar decisões, desenvolvendo sua inteligência"}),s.jsx(ot,{children:"Torna o treinamento mais divertido para ambos, fortalecendo o relacionamento"})]}),s.jsx(Ji,{children:"O reforço negativo e punições não são recomendados, pois podem:"}),s.jsxs(qhe,{children:[s.jsx(ih,{children:"Gerar medo e ansiedade, prejudicando o bem-estar do cão"}),s.jsx(ih,{children:"Danificar a confiança do cão, afetando o relacionamento com o tutor"}),s.jsx(ih,{children:"Criar associações negativas com o treinamento, dificultando o aprendizado"}),s.jsx(ih,{children:"Inibir o comportamento natural do cão, afetando sua personalidade"}),s.jsx(ih,{children:"Prejudicar o relacionamento entre tutor e pet, criando tensão"})]})]})},{title:"Exercício Prático: Reforço Positivo",content:s.jsxs(s.Fragment,{children:[s.jsx(Ji,{children:"Vamos praticar o reforço positivo com um exercício simples:"}),s.jsxs(Vhe,{children:[s.jsx(T1,{"data-step":"1",children:"Pegue um petisco e segure na mão, mantendo uma postura relaxada e amigável"}),s.jsx(T1,{"data-step":"2",children:"Quando o cão olhar para você ou sentar espontaneamente, recompense imediatamente com o petisco e um elogio animado"}),s.jsx(T1,{"data-step":"3",children:"Repita 5 a 10 vezes para ensinar que prestar atenção no tutor traz benefícios positivos"})]}),s.jsx(Ji,{children:"Dicas importantes para o sucesso:"}),s.jsxs(lg,{children:[s.jsx(ot,{children:"Escolha um petisco que seu cão goste muito, aumentando a motivação"}),s.jsx(ot,{children:"Recompense imediatamente após o comportamento desejado, criando uma associação clara"}),s.jsx(ot,{children:"Mantenha as sessões curtas (5-10 minutos) para evitar cansaço ou desinteresse"}),s.jsx(ot,{children:"Escolha um ambiente calmo e sem distrações, facilitando o foco do cão"}),s.jsx(ot,{children:"Use um tom de voz animado e entusiasmado ao dar a recompensa, reforçando a positividade"}),s.jsx(ot,{children:"Se o cão não responder, tente com um petisco mais atraente ou reduza as distrações do ambiente"})]}),s.jsx(Ji,{children:"Lembre-se sempre:"}),s.jsxs(lg,{children:[s.jsx(ot,{children:"Seja paciente - cada cão tem seu próprio ritmo de aprendizado e desenvolvimento"}),s.jsx(ot,{children:"Celebre pequenos progressos, mesmo que pareçam insignificantes, mantendo a motivação"}),s.jsx(ot,{children:"Termine sempre com uma nota positiva, mesmo que o cão não tenha respondido como esperado"}),s.jsx(ot,{children:"Consistência é fundamental - use sempre os mesmos comandos e gestos para evitar confusão"}),s.jsx(ot,{children:"O treinamento deve ser uma experiência positiva para ambos, fortalecendo o vínculo"})]})]})},{title:"Resumo Rápido",content:s.jsx(s.Fragment,{children:s.jsxs(lg,{children:[s.jsx(ot,{children:"Use reforço positivo sempre que possível, criando uma experiência agradável para o cão"}),s.jsx(ot,{children:"Seja consistente nos comandos e recompensas, evitando confusão no aprendizado"}),s.jsx(ot,{children:"Mantenha as sessões curtas e divertidas, respeitando o tempo de atenção do cão"}),s.jsx(ot,{children:"Observe e respeite os limites do seu cão, adaptando o treinamento ao seu ritmo"}),s.jsx(ot,{children:"Pratique regularmente em diferentes ambientes, aumentando a generalização do aprendizado"}),s.jsx(ot,{children:"Celebre cada pequeno progresso, mantendo a motivação do cão e do tutor"}),s.jsx(ot,{children:"Mantenha a paciência e o bom humor, tornando o treinamento uma experiência positiva"}),s.jsx(ot,{children:"Adapte o treinamento à personalidade do seu cão, respeitando suas características individuais"}),s.jsx(ot,{children:"Use petiscos de alto valor para recompensas, aumentando a motivação do cão"}),s.jsx(ot,{children:"Estabeleça uma rotina de treinamento, criando hábitos consistentes"})]})})}];return s.jsxs(Nhe,{children:[s.jsxs($he,{children:["Introdução ao Treinamento",localStorage.getItem("starthere1_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(Ohe,{children:[h.map((u,f)=>s.jsx(Fhe,{active:e===f,children:s.jsxs(Mhe,{children:[s.jsx(Lhe,{children:u.title}),u.content]})},f)),s.jsxs(zhe,{children:[s.jsx(aR,{onClick:l,disabled:e===0,children:"Anterior"}),s.jsx(Bhe,{children:h.map((u,f)=>s.jsx(Uhe,{active:e===f,onClick:()=>d(f)},f))}),s.jsx(aR,{onClick:c,children:e===3?"Próxima Aula":"Próximo"})]})]})]})}const Ghe="/assets/starthere2-DtnA24bV.png",Khe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Yhe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Qhe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Xhe=m.div`
  position: absolute;
  width: 100%;
  height: calc(100% - 100px); /* Reduzido para dar espaço aos botões */
  opacity: ${t=>t.active==="true"?1:0};
  transition: opacity 0.5s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  pointer-events: ${t=>t.active==="true"?"auto":"none"};
`,Jhe=m.div`
  height: 100%;
  padding: 2.5rem;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Zhe=m.h2`
  font-size: 1.5rem;
  color: #2D3748;
  margin-bottom: 1.5rem;
  text-align: center;
`,cR=m.p`
  color: #4A5568;
  margin-bottom: 1.5rem;
  line-height: 1.8;
  font-size: 1.1rem;
  word-wrap: break-word;
`,dg=m.p`
  color: #4A5568;
  margin-bottom: 1.5rem;
  line-height: 1.8;
  font-size: 1.1rem;
  word-wrap: break-word;
`,I1=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Wo=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,lR=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,ug=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #F56565;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠️";
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,epe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,S1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #EBF8FF;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #BEE3F8;
    transform: translateX(4px);
  }

  &:before {
    content: "💡";
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const tpe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,dR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,npe=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
  padding: 0.5rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 70px; /* Ajustado para ficar acima dos botões */
  left: 0;
  right: 0;
  z-index: 1;
`,rpe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,ope=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;function ipe({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=async()=>{if(e===3){localStorage.setItem("starthere2_completed","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const u={lessonId:"starthere2",moduleId:"starthere",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:2,currentLevel:"beginner",lastSession:new Date,totalTime:10}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição StartHere2 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}}catch(u){console.error("Erro ao processar progresso da lição:",u)}}else n(u=>(u+1)%4)},l=()=>{n(u=>(u-1+4)%4)},d=u=>{n(u)},h=[{title:"Como os Cães se Comunicam",content:s.jsxs(s.Fragment,{children:[s.jsx(ope,{src:Ghe,alt:"Comunicação Eficaz com o Cão"}),s.jsx(cR,{children:"Os cães não entendem palavras como os humanos, mas são especialistas em interpretar sons, gestos e expressões faciais. Nesta aula, você aprenderá a se comunicar de forma clara e eficaz com seu cão."}),s.jsx(cR,{children:"Uma comunicação eficaz fortalece o vínculo entre tutor e cão, tornando o treinamento mais fácil e agradável para ambos."})]})},{title:"Tom de Voz",content:s.jsxs(s.Fragment,{children:[s.jsx(dg,{children:"O tom de voz é crucial para uma comunicação eficaz. Veja como usar diferentes tons:"}),s.jsxs(I1,{children:[s.jsx(Wo,{"data-step":"1",children:'Tom neutro e firme → Para comandos básicos como "Senta", "Deita", "Fica".'}),s.jsx(Wo,{"data-step":"2",children:"Tom animado e motivacional → Para elogios e recompensas verbais."}),s.jsx(Wo,{"data-step":"3",children:"Tom grave e firme → Para redirecionar comportamentos indesejados."})]}),s.jsxs(lR,{children:[s.jsx(ug,{children:"Não grite ou use tom agressivo → Pode assustar o cão."}),s.jsx(ug,{children:"Não use tom agudo para repreender → Pode soar como brincadeira."})]})]})},{title:"Linguagem Corporal",content:s.jsxs(s.Fragment,{children:[s.jsx(dg,{children:"Os cães prestam mais atenção na linguagem corporal do que nas palavras:"}),s.jsxs(I1,{children:[s.jsx(Wo,{"data-step":"1",children:"Postura relaxada → O cão se sente seguro e confortável."}),s.jsx(Wo,{"data-step":"2",children:"Movimentos calmos → Evita excitação excessiva ou medo."}),s.jsx(Wo,{"data-step":"3",children:"Contato visual moderado → Ajuda a manter a atenção."})]}),s.jsxs(lR,{children:[s.jsx(ug,{children:"Não se incline para frente → Pode soar ameaçador."}),s.jsx(ug,{children:"Não aponte o dedo na cara do cão → Pode gerar estresse."})]})]})},{title:"Exemplo Prático",content:s.jsxs(s.Fragment,{children:[s.jsx(dg,{children:"Veja como aplicar a comunicação eficaz na prática:"}),s.jsxs(epe,{children:[s.jsx(S1,{children:'Diga "Senta" com tom firme e neutro, mantendo postura relaxada.'}),s.jsx(S1,{children:"Quando o cão acertar, elogie com tom animado e feliz."}),s.jsx(S1,{children:"Use gestos claros junto com os comandos verbais."})]}),s.jsx(dg,{children:"Exercício para praticar:"}),s.jsxs(I1,{children:[s.jsx(Wo,{"data-step":"1",children:"Grave um comando e ouça sua voz → Seu tom está firme e neutro?"}),s.jsx(Wo,{"data-step":"2",children:"Observe sua postura → Você está relaxado e confiante?"}),s.jsx(Wo,{"data-step":"3",children:"Pratique os gestos → Eles são claros e consistentes?"})]})]})}];return s.jsxs(Khe,{children:[s.jsx(Yhe,{children:"Comunicação eficaz com o cão"}),s.jsxs(Qhe,{children:[h.map((u,f)=>s.jsx(Xhe,{active:(e===f).toString(),children:s.jsxs(Jhe,{children:[s.jsx(Zhe,{children:u.title}),u.content]})},f)),s.jsx(npe,{children:[0,1,2,3].map(u=>s.jsx(rpe,{active:e===u,onClick:()=>d(u)},u))}),s.jsxs(tpe,{children:[s.jsx(dR,{onClick:l,disabled:e===0,children:"Anterior"}),s.jsx(dR,{onClick:c,children:e===3?"Próxima Aula":"Próximo"})]})]})]})}const spe="/assets/starthere3-Bz9xOAst.png",ape=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,cpe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,lpe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,dpe=m.div`
  position: absolute;
  width: 100%;
  height: calc(100% - 100px); /* Reduzido para dar espaço aos botões */
  opacity: ${t=>t.active==="true"?1:0};
  transition: opacity 0.5s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  pointer-events: ${t=>t.active==="true"?"auto":"none"};
`,upe=m.div`
  height: 100%;
  padding: 2.5rem;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,hpe=m.h2`
  font-size: 1.5rem;
  color: #2D3748;
  margin-bottom: 1.5rem;
  text-align: center;
`,k1=m.p`
  color: #4A5568;
  margin-bottom: 1rem;
  line-height: 1.6;
`,ppe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,hg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,fpe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,uR=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #F56565;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠️";
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,mpe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,C1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #EBF8FF;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #BEE3F8;
    transform: translateX(4px);
  }

  &:before {
    content: "💡";
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,gpe=m.ol`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,pg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FAF5FF;
  border-radius: 8px;
  border-left: 4px solid #9F7AEA;
  transition: all 0.2s ease;

  &:hover {
    background: #F3E8FF;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #9F7AEA;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const vpe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,hR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,xpe=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 0.5rem;
  padding: 0.5rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 70px;
  left: 0;
  right: 0;
  z-index: 1;
`,bpe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,ype=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,pR=m.p`
  color: #4A5568;
  margin-bottom: 1.5rem;
  line-height: 1.8;
  font-size: 1.1rem;
  word-wrap: break-word;
`;function wpe({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=async()=>{if(e===3){localStorage.setItem("starthere3_completed","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const u={lessonId:"starthere3",moduleId:"starthere",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:3,currentLevel:"beginner",lastSession:new Date,totalTime:15}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição StartHere3 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}}catch(u){console.error("Erro ao processar progresso da lição:",u)}}else n(u=>(u+1)%4)},l=()=>{n(u=>(u-1+4)%4)},d=u=>{n(u)},h=[{title:"O Poder das Recompensas",content:s.jsxs(s.Fragment,{children:[s.jsx(ype,{src:spe,alt:"Recompensas e Reforço Positivo"}),s.jsx(pR,{children:"O reforço positivo é a base do treinamento moderno. Nesta aula, você aprenderá como usar recompensas para ensinar seu cão de forma eficaz e divertida."}),s.jsx(pR,{children:"Quando usamos recompensas corretamente, o cão aprende mais rápido e mantém o comportamento desejado por mais tempo, criando uma experiência positiva para ambos."})]})},{title:"Tipos de Recompensas",content:s.jsxs(s.Fragment,{children:[s.jsx(k1,{children:"Cada cão tem suas preferências. Conheça os principais tipos de recompensas:"}),s.jsxs(ppe,{children:[s.jsx(hg,{"data-step":"1",children:"Petiscos → Ideais para treinos curtos e comandos novos."}),s.jsx(hg,{"data-step":"2",children:"Brinquedos → Perfeitos para treinos mais longos e interativos."}),s.jsx(hg,{"data-step":"3",children:"Carinho → Excelente para cães que valorizam contato físico."}),s.jsx(hg,{"data-step":"4",children:"Elogios → Importante para manter o vínculo e a motivação."})]})]})},{title:"Como Usar Recompensas",content:s.jsxs(s.Fragment,{children:[s.jsx(k1,{children:"Para um treinamento eficaz, siga estas etapas:"}),s.jsxs(gpe,{children:[s.jsx(pg,{"data-step":"1",children:"Identifique o que seu cão mais gosta como recompensa."}),s.jsx(pg,{"data-step":"2",children:"Use recompensas de alto valor para comportamentos difíceis."}),s.jsx(pg,{"data-step":"3",children:"Dê a recompensa imediatamente após o comportamento desejado."}),s.jsx(pg,{"data-step":"4",children:"Reduza gradualmente as recompensas conforme o cão aprende."})]})]})},{title:"Exemplo Prático",content:s.jsxs(s.Fragment,{children:[s.jsx(k1,{children:"Veja como aplicar o reforço positivo em situações do dia a dia:"}),s.jsxs(mpe,{children:[s.jsx(C1,{children:"Quando o cão senta, dê um petisco e elogie com entusiasmo."}),s.jsx(C1,{children:"Se o cão fica quieto quando pedido, ofereça um brinquedo favorito."}),s.jsx(C1,{children:"Quando o cão vem quando chamado, faça carinho e dê um petisco especial."})]}),s.jsxs(fpe,{children:[s.jsx(uR,{children:"Nunca use recompensas para parar comportamentos indesejados."}),s.jsx(uR,{children:"Mantenha as recompensas pequenas para não sobrecarregar o cão."})]})]})}];return s.jsxs(ape,{children:[s.jsx(cpe,{children:"Recompensas e Reforço Positivo"}),s.jsxs(lpe,{children:[h.map((u,f)=>s.jsx(dpe,{active:(e===f).toString(),children:s.jsxs(upe,{children:[s.jsx(hpe,{children:u.title}),u.content]})},f)),s.jsx(xpe,{children:[0,1,2,3].map(u=>s.jsx(bpe,{active:e===u,onClick:()=>d(u)},u))}),s.jsxs(vpe,{children:[s.jsx(hR,{onClick:l,disabled:e===0,children:"Anterior"}),s.jsx(hR,{onClick:c,children:e===3?"Próxima Aula":"Próximo"})]})]})]})}const _pe="/assets/starthere4-BHi4qFy3.png",Epe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Tpe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Ipe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Spe=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,kpe=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Cpe=m.h2`
  font-size: 1.5rem;
  color: #2D3748;
  margin-bottom: 1.5rem;
  text-align: center;
`,fg=m.p`
  color: #4A5568;
  margin-bottom: 1rem;
  line-height: 1.6;
`;m.ol`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "1️⃣";
    position: absolute;
    left: 0;
  }

  &:nth-child(2):before {
    content: "2️⃣";
  }

  &:nth-child(3):before {
    content: "3️⃣";
  }
`;m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✔";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const jpe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,fR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Ape=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,Ppe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,Rpe=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,mR=m.p`
  color: #4A5568;
  margin-bottom: 1.5rem;
  line-height: 1.8;
  font-size: 1.1rem;
  word-wrap: break-word;
`,j1=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,lo=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Dpe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,gR=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #F56565;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠️";
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Npe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,A1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #EBF8FF;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #BEE3F8;
    transform: translateX(4px);
  }

  &:before {
    content: "💡";
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ol`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FAF5FF;
  border-radius: 8px;
  border-left: 4px solid #9F7AEA;
  transition: all 0.2s ease;

  &:hover {
    background: #F3E8FF;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #9F7AEA;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;function $pe({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=async()=>{if(e===4){localStorage.setItem("starthere4_completed","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const u={lessonId:"starthere4",moduleId:"starthere",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:4,currentLevel:"beginner",lastSession:new Date,totalTime:20}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição StartHere4 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}}catch(u){console.error("Erro ao processar progresso da lição:",u)}}else n(u=>(u+1)%5)},l=()=>{n(u=>(u-1+5)%5)},d=u=>{n(u)},h=[{title:"O Momento Certo",content:s.jsxs(s.Fragment,{children:[s.jsx(Rpe,{src:_pe,alt:"Timing e Consistência"}),s.jsx(mR,{children:"O timing e a consistência são fundamentais para o sucesso do treinamento. Nesta aula, você aprenderá como usar o timing correto e manter a consistência."}),s.jsx(mR,{children:"O timing adequado ajuda o cão a associar o comportamento à recompensa, enquanto a consistência reforça o aprendizado."})]})},{title:"Princípios do Timing",content:s.jsxs(s.Fragment,{children:[s.jsx(fg,{children:"Veja os princípios fundamentais para um bom timing:"}),s.jsxs(j1,{children:[s.jsx(lo,{"data-step":"1",children:"Recompense imediatamente → O cão precisa associar a recompensa ao comportamento."}),s.jsx(lo,{"data-step":"2",children:"Seja consistente → Recompense sempre que o comportamento desejado ocorrer."}),s.jsx(lo,{"data-step":"3",children:"Use diferentes tipos de recompensa → Mantenha o interesse do cão."}),s.jsx(lo,{"data-step":"4",children:"Diminua gradualmente as recompensas → Conforme o comportamento se torna consistente."})]})]})},{title:"Exemplos Práticos",content:s.jsxs(s.Fragment,{children:[s.jsx(fg,{children:"Veja como aplicar o timing e a consistência na prática:"}),s.jsxs(Npe,{children:[s.jsx(A1,{children:"Quando o cão senta, dê um petisco imediatamente."}),s.jsx(A1,{children:"Se o cão fica quieto quando pedido, ofereça um brinquedo."}),s.jsx(A1,{children:"Quando o cão vem quando chamado, faça carinho e elogie."})]}),s.jsxs(Dpe,{children:[s.jsx(gR,{children:"Não use recompensas para comportamentos indesejados."}),s.jsx(gR,{children:"Não prometa recompensas que não pode dar."})]})]})},{title:"Passo a Passo",content:s.jsxs(s.Fragment,{children:[s.jsx(fg,{children:"Siga estes passos para treinar com timing e consistência:"}),s.jsxs(j1,{children:[s.jsx(lo,{"data-step":"1",children:"Chame o nome do cão com um tom animado."}),s.jsx(lo,{"data-step":"2",children:"Quando ele olhar para você, dê um petisco e um elogio."}),s.jsx(lo,{"data-step":"3",children:"Repita o exercício 5x ao dia por uma semana."})]})]})},{title:"Resumo Rápido",content:s.jsxs(s.Fragment,{children:[s.jsx(fg,{children:"Lembre-se destes pontos importantes:"}),s.jsxs(j1,{children:[s.jsx(lo,{"data-step":"1",children:"O timing correto é essencial para o aprendizado."}),s.jsx(lo,{"data-step":"2",children:"Seja consistente em suas recompensas e comandos."}),s.jsx(lo,{"data-step":"3",children:"Ajuste o timing conforme o progresso do cão."})]})]})}];return s.jsxs(Epe,{children:[s.jsx(Tpe,{children:"Timing e Consistência"}),s.jsxs(Ipe,{children:[h.map((u,f)=>s.jsx(Spe,{active:e===f,children:s.jsxs(kpe,{children:[s.jsx(Cpe,{children:u.title}),u.content]})},f)),s.jsxs(jpe,{children:[s.jsx(fR,{onClick:l,disabled:e===0,children:"Anterior"}),s.jsx(Ape,{children:h.map((u,f)=>s.jsx(Ppe,{active:e===f,onClick:()=>d(f)},f))}),s.jsx(fR,{onClick:c,children:e===h.length-1?"Próxima Aula":"Próximo"})]})]})]})}const Ope=m.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
`,Fpe=m.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  max-width: 500px;
  width: 90%;
  text-align: center;
`,Mpe=m.h2`
  color: #2D3748;
  font-size: 1.8rem;
  margin-bottom: 1rem;
`,Lpe=m.p`
  color: #4A5568;
  font-size: 1.1rem;
  margin-bottom: 2rem;
  line-height: 1.6;
`,Vpe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
`,vR=m.button`
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.2s;

  &.close {
    background-color: #718096;
    color: white;

    &:hover {
      background-color: #4A5568;
    }
  }

  &.next {
    background-color: #48BB78;
    color: white;

    &:hover {
      background-color: #38A169;
    }
  }
`;function Eu({onClose:t,onNextModule:e}){return s.jsx(Ope,{children:s.jsxs(Fpe,{children:[s.jsx(Mpe,{children:"Parabéns! 🎉"}),s.jsx(Lpe,{children:"Você completou com sucesso este módulo! Continue sua jornada de aprendizado com o próximo módulo para desenvolver ainda mais suas habilidades."}),s.jsxs(Vpe,{children:[s.jsx(vR,{className:"close",onClick:t,children:"Fechar"}),s.jsx(vR,{className:"next",onClick:e,children:"Próximo Módulo"})]})]})})}const zpe="/assets/Starthere5-BhTpkRTb.png",Bpe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Upe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,qpe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Wpe=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,Hpe=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Gpe=m.h2`
  font-size: 1.5rem;
  color: #2D3748;
  margin-bottom: 1.5rem;
  text-align: center;
`,xR=m.p`
  color: #4A5568;
  margin-bottom: 1rem;
  line-height: 1.6;
`;m.ol`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "1️⃣";
    position: absolute;
    left: 0;
  }

  &:nth-child(2):before {
    content: "2️⃣";
  }

  &:nth-child(3):before {
    content: "3️⃣";
  }
`;m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✔";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const Kpe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,bR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Ype=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,Qpe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  margin-bottom: 1.5rem;
`;m.h3`
  font-size: 1.2rem;
  color: #2D3748;
  margin-bottom: 0.75rem;
`;const yR=m.p`
  color: #4A5568;
  margin-bottom: 1.5rem;
  line-height: 1.8;
  font-size: 1.1rem;
  word-wrap: break-word;
`,Xpe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,mg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Jpe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,wR=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #F56565;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠️";
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Zpe=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,P1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #EBF8FF;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #BEE3F8;
    transform: translateX(4px);
  }

  &:before {
    content: "💡";
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,efe=m.ol`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,gg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FAF5FF;
  border-radius: 8px;
  border-left: 4px solid #9F7AEA;
  transition: all 0.2s ease;

  &:hover {
    background: #F3E8FF;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #9F7AEA;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,tfe=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;function nfe({onNextLesson:t,onBack:e}){const n=Ue(),[r,o]=g.useState(0),[i,a]=g.useState(!1),c="Consistência e Paciência",{user:l}=Ee(),{addDocument:d}=Ve("progress"),{updateTraining:h,refreshData:u}=Ye(),f=async()=>{if(r===3){localStorage.setItem("starthere5_completed","true"),window.dispatchEvent(new Event("storage")),a(!0);try{if(l){const E={lessonId:"starthere5",moduleId:"starthere",courseId:"9DwWIAtShVCPXyRPSbqF",userId:l.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([d(E),new Promise(I=>setTimeout(I,2e3))]).then(()=>{h({completedLessons:5,currentLevel:"beginner",lastSession:new Date,totalTime:25}).catch(I=>console.error("Erro ao atualizar dashboard:",I)),u().catch(I=>console.error("Erro ao atualizar dados:",I)),console.log("Progresso da lição StartHere5 salvo com sucesso")}).catch(I=>{console.error("Erro ao salvar progresso da lição:",I)})}}catch(E){console.error("Erro ao processar progresso da lição:",E)}}else o(E=>(E+1)%4)},v=()=>{o(E=>(E-1+4)%4)},x=E=>{o(E)},y=()=>{a(!1)},_=()=>{localStorage.setItem("behavior1_unlocked","true"),localStorage.setItem("behavior_unlocked","true"),n("/content/training/behavior")},w=[{title:"A Base do Treinamento",content:s.jsxs(s.Fragment,{children:[s.jsx(tfe,{src:zpe,alt:"Consistência e Paciência"}),s.jsx(yR,{children:"A consistência e a paciência são fundamentais para o sucesso do treinamento. Nesta aula, você aprenderá como manter a consistência e desenvolver paciência."}),s.jsx(yR,{children:"O treinamento é um processo contínuo que requer tempo e dedicação. Com paciência e consistência, você verá resultados duradouros."})]})},{title:"Princípios da Consistência",content:s.jsxs(s.Fragment,{children:[s.jsx(xR,{children:"Veja os princípios fundamentais para manter a consistência:"}),s.jsxs(Xpe,{children:[s.jsx(mg,{"data-step":"1",children:"Use sempre os mesmos comandos → Evite variações nas palavras."}),s.jsx(mg,{"data-step":"2",children:"Mantenha a mesma rotina → Horários regulares para treinos."}),s.jsx(mg,{"data-step":"3",children:"Seja consistente nas recompensas → Reforce sempre os comportamentos desejados."}),s.jsx(mg,{"data-step":"4",children:"Todos na família devem seguir as mesmas regras → Consistência entre todos os membros."})]})]})},{title:"Desenvolvendo Paciência",content:s.jsxs(s.Fragment,{children:[s.jsx(xR,{children:"Aprenda a desenvolver e manter a paciência durante o treinamento:"}),s.jsxs(efe,{children:[s.jsx(gg,{"data-step":"1",children:"Estabeleça expectativas realistas → Cada cão aprende no seu ritmo."}),s.jsx(gg,{"data-step":"2",children:"Celebre pequenas conquistas → Reconheça cada progresso."}),s.jsx(gg,{"data-step":"3",children:"Mantenha sessões curtas → 5-10 minutos são mais eficientes."}),s.jsx(gg,{"data-step":"4",children:"Faça pausas quando necessário → Evite frustração."})]}),s.jsxs(Jpe,{children:[s.jsx(wR,{children:"Não perca a calma se o cão não entender imediatamente."}),s.jsx(wR,{children:"Não compare o progresso do seu cão com outros cães."})]})]})},{title:"Exemplo Prático",content:s.jsxs(Zpe,{children:[s.jsx(P1,{children:"Quando o cão senta, dê um petisco imediatamente."}),s.jsx(P1,{children:"Se o cão fica quieto quando pedido, ofereça um brinquedo."}),s.jsx(P1,{children:"Quando o cão vem quando chamado, faça carinho e elogie."})]})}];return s.jsxs(Bpe,{children:[s.jsx(Upe,{children:c}),s.jsxs(qpe,{children:[w.map((E,I)=>s.jsx(Wpe,{active:r===I,children:s.jsxs(Hpe,{children:[s.jsx(Gpe,{children:E.title}),E.content]})},I)),s.jsxs(Kpe,{children:[s.jsx(bR,{onClick:v,disabled:r===0,children:"Anterior"}),s.jsx(Ype,{children:w.map((E,I)=>s.jsx(Qpe,{active:r===I,onClick:()=>x(I)},I))}),s.jsx(bR,{onClick:f,children:r===w.length-1?"Próxima Aula":"Próximo"})]})]}),i&&s.jsx(Eu,{onClose:y,onNextModule:_})]})}const rfe=m.div`
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
`,ofe=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
`,ife=m.h1`
  font-size: 2.5rem;
  color: #333;
`,sfe=m.p`
  color: #666;
  margin-bottom: 2rem;
  font-size: 1.1rem;
`,afe=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
`,cfe=m.div`
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-2px);
  }
`,lfe=m.h2`
  font-size: 1.25rem;
  color: #333;
  margin-bottom: 0.75rem;
`,dfe=m.p`
  color: #666;
  font-size: 1rem;
  line-height: 1.5;
  margin-bottom: 1rem;
`,ufe=m.span`
  color: #007bff;
  font-size: 0.875rem;
  font-weight: 500;
`,hfe=m.button`
  padding: 0.75rem 1.5rem;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`,pfe=m(hfe)`
  background-color: #6c757d;
  margin-right: 1rem;

  &:hover {
    background-color: #5a6268;
  }
`;function ffe(){const t=Ue(),[e,n]=g.useState(null),r=[{id:"starthere1",title:"Introdução ao Adestramento",description:"Entenda os conceitos básicos do adestramento positivo",duration:"10 min",component:Hhe,locked:!1},{id:"starthere2",title:"Comunicação com seu Cão",description:"Aprenda a se comunicar efetivamente com seu cão",duration:"15 min",component:ipe,locked:localStorage.getItem("starthere1_completed")!=="true"},{id:"starthere3",title:"Recompensas e Reforço Positivo",description:"Como usar recompensas para motivar seu cão",duration:"15 min",component:wpe,locked:localStorage.getItem("starthere2_completed")!=="true"},{id:"starthere4",title:"Timing e Consistência",description:"A importância do timing e da consistência no treinamento",duration:"15 min",component:$pe,locked:localStorage.getItem("starthere3_completed")!=="true"},{id:"starthere5",title:"Ambiente de Treinamento",description:"Como criar o ambiente ideal para o treinamento",duration:"15 min",component:nfe,locked:localStorage.getItem("starthere4_completed")!=="true"}],o=c=>{n(c)},i=()=>{const c=r.findIndex(l=>l.id===e.id);c<r.length-1&&n(r[c+1])},a=()=>{e?n(null):t("/content/training")};if(e){const c=e.component;return s.jsx(Sa,{children:s.jsx(c,{onBack:a,onNextLesson:i})})}return s.jsxs(rfe,{children:[s.jsxs(ofe,{children:[s.jsx(pfe,{onClick:a,children:"Voltar"}),s.jsx(ife,{children:"Comece Aqui 🎯"})]}),s.jsx(sfe,{children:"Fundamentos essenciais para começar a treinar seu cão e estabelecer uma comunicação efetiva."}),s.jsx(afe,{children:r.map(c=>s.jsxs(cfe,{onClick:()=>!c.locked&&o(c),style:{opacity:c.locked?.5:1,cursor:c.locked?"not-allowed":"pointer",position:"relative"},children:[s.jsxs(lfe,{children:[c.title,localStorage.getItem(`${c.id}_completed`)==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsx(dfe,{children:c.description}),s.jsx(ufe,{children:c.duration}),c.locked&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2rem"},children:"🔒"})]},c.id))})]})}const mfe="/assets/behavior1-BAUz1PkS.png",gfe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,vfe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,xfe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,bfe=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,yfe=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,wfe=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Ft=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,_fe=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,vg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const Efe=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,_R=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Tfe=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
`,Ife=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;m.button`
  padding: 0.5rem 1rem;
  background: #48BB78;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;
  margin-left: 1rem;

  &:hover {
    background: #38A169;
  }
`;const wl=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Mn=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Sfe=m.img`
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 1.5rem;
`;function rL({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=[{title:"Comando Sentar",subtitle:"Primeiro passo do adestramento",content:s.jsxs("div",{children:[s.jsx(Sfe,{src:mfe,alt:"Comando Sentar"}),s.jsx(Ft,{children:'O comando "Sentar" é um dos comandos mais importantes e fundamentais no adestramento canino. Ele serve como base para outros comandos e ajuda a estabelecer uma comunicação clara com seu cão.'}),s.jsxs(wl,{children:[s.jsxs(Mn,{children:[s.jsx("strong",{children:"Base para outros comandos"}),s.jsx(Ft,{children:'É o primeiro passo para ensinar comandos mais complexos como "Deitar" e "Ficar".'})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Controle em situações cotidianas"}),s.jsx(Ft,{children:"Ajuda a manter o cão calmo em diversas situações do dia a dia."})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Fortalecimento do vínculo"}),s.jsx(Ft,{children:"Melhora a comunicação e o relacionamento entre você e seu cão."})]})]})]})},{title:"Como Ensinar",content:s.jsxs("div",{children:[s.jsxs(_fe,{children:[s.jsxs(vg,{"data-step":"1",children:[s.jsx("strong",{children:"Posicione o petisco"}),s.jsx(Ft,{children:"Segure um petisco próximo ao nariz do cão e mova-o lentamente para cima e para trás, sobre a cabeça dele."})]}),s.jsxs(vg,{"data-step":"2",children:[s.jsx("strong",{children:"Espere a resposta natural"}),s.jsx(Ft,{children:"O cão naturalmente sentará para acompanhar o movimento do petisco com o olhar."})]}),s.jsxs(vg,{"data-step":"3",children:[s.jsx("strong",{children:"Recompense imediatamente"}),s.jsx(Ft,{children:"Assim que o cão sentar, dê o petisco e elogie com entusiasmo."})]}),s.jsxs(vg,{"data-step":"4",children:[s.jsx("strong",{children:"Adicione o comando verbal"}),s.jsx(Ft,{children:'Diga "Senta" no momento exato em que o cão estiver se sentando.'})]})]}),s.jsxs(wl,{children:[s.jsxs(Mn,{children:[s.jsx("strong",{children:"Dica importante"}),s.jsx(Ft,{children:"Use petiscos de alto valor para motivar o cão durante o treino."})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Evite erros comuns"}),s.jsx(Ft,{children:"Não force o cão a sentar fisicamente, deixe-o aprender naturalmente."})]})]})]})},{title:"Dicas Importantes",content:s.jsxs("div",{children:[s.jsxs(wl,{children:[s.jsxs(Mn,{children:[s.jsx("strong",{children:"Consistência é fundamental"}),s.jsx(Ft,{children:"Use sempre o mesmo comando verbal e gesto para não confundir o cão."})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Treine em diferentes ambientes"}),s.jsx(Ft,{children:"Pratique em casa, no quintal e em locais com distrações controladas."})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Mantenha as sessões curtas"}),s.jsx(Ft,{children:"Treinos de 5-10 minutos são mais eficazes que sessões longas."})]})]}),s.jsxs(wl,{children:[s.jsxs(Mn,{children:[s.jsx("strong",{children:"Não force o cão"}),s.jsx(Ft,{children:"Deixe o cão aprender no seu próprio ritmo, sem pressão."})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Seja paciente"}),s.jsx(Ft,{children:"Alguns cães podem demorar mais para aprender, mantenha a calma."})]})]})]})},{title:"Exemplo Prático",content:s.jsxs("div",{children:[s.jsx(Ft,{children:'Pratique o comando "Sentar" em diferentes situações:'}),s.jsxs(wl,{children:[s.jsxs(Mn,{children:[s.jsx("strong",{children:"Antes das refeições"}),s.jsx(Ft,{children:"Peça para o cão sentar antes de colocar a comida no pote."})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Durante os passeios"}),s.jsx(Ft,{children:"Use o comando antes de atravessar a rua ou quando encontrar outros cães."})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Em casa"}),s.jsx(Ft,{children:"Peça para sentar antes de abrir a porta ou dar atenção."})]})]}),s.jsxs(wl,{children:[s.jsxs(Mn,{children:[s.jsx("strong",{children:"Frequência de treino"}),s.jsx(Ft,{children:"Pratique 3-5 vezes por dia, em sessões curtas."})]}),s.jsxs(Mn,{children:[s.jsx("strong",{children:"Progressão"}),s.jsx(Ft,{children:"Aumente gradualmente as distrações conforme o cão melhora."})]})]})]})}],l=async()=>{if(e<c.length-1)n(e+1);else try{localStorage.setItem("behavior1_completed","true"),await o({userId:r.uid,lessonId:"behavior1",moduleId:"behavior",completedAt:ie.now(),progress:100}),await i({completedLessons:1,currentLevel:"beginner",lastSession:new Date,totalTime:5}),await a(),console.log("Progresso da lição Behavior1 salvo com sucesso"),t()}catch(u){console.error("Erro ao salvar progresso:",u)}},d=()=>{n(u=>u-1)},h=u=>{n(u)};return s.jsxs(gfe,{children:[s.jsx(vfe,{children:"Comando Sentar"}),s.jsxs(xfe,{children:[c.map((u,f)=>s.jsx(bfe,{active:e===f,children:s.jsxs(yfe,{children:[u.subtitle&&s.jsx(wfe,{children:u.subtitle}),u.content]})},f)),s.jsxs(Efe,{children:[s.jsx(_R,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(Tfe,{children:c.map((u,f)=>s.jsx(Ife,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(_R,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})}const kfe="/assets/Behavior2-BAlmjNWJ.png",Cfe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,jfe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Afe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Pfe=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,Rfe=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Dfe=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Mt=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,Nfe=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,xg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,$fe=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,ER=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Ofe=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
`,Ffe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const _l=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Ln=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Mfe=m.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`;function oL({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye();Ue();const c=[{title:"Comandos Fica e Vem",subtitle:"Controle à distância",content:s.jsxs("div",{children:[s.jsx(Mfe,{src:kfe,alt:"Comandos Fica e Vem"}),s.jsx(Mt,{children:'Os comandos "Fica" e "Vem" são essenciais para manter seu cão seguro e sob controle em diversas situações. Eles ajudam a prevenir comportamentos indesejados e garantem a segurança do seu pet.'}),s.jsxs(_l,{children:[s.jsxs(Ln,{children:[s.jsx("strong",{children:"Segurança em primeiro lugar"}),s.jsx(Mt,{children:"Mantém o cão longe de perigos e situações de risco."})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"Controle em situações críticas"}),s.jsx(Mt,{children:"Permite gerenciar o comportamento do cão em momentos importantes."})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"Liberdade controlada"}),s.jsx(Mt,{children:"Permite que o cão explore com segurança, sabendo que voltará quando chamado."})]})]})]})},{title:"Como Ensinar",content:s.jsxs("div",{children:[s.jsxs(Nfe,{children:[s.jsxs(xg,{"data-step":"1",children:[s.jsx("strong",{children:'Comece com o comando "Fica"'}),s.jsx(Mt,{children:'Peça para o cão sentar e diga "Fica" enquanto faz um gesto com a mão aberta.'})]}),s.jsxs(xg,{"data-step":"2",children:[s.jsx("strong",{children:"Dê alguns passos para trás"}),s.jsx(Mt,{children:"Afaste-se gradualmente, mantendo contato visual e elogiando quando o cão permanecer no lugar."})]}),s.jsxs(xg,{"data-step":"3",children:[s.jsx("strong",{children:'Introduza o comando "Vem"'}),s.jsx(Mt,{children:"Chame o cão com entusiasmo e recompense quando ele vier até você."})]}),s.jsxs(xg,{"data-step":"4",children:[s.jsx("strong",{children:"Combine os comandos"}),s.jsx(Mt,{children:'Pratique alternando entre "Fica" e "Vem" em sequência.'})]})]}),s.jsxs(_l,{children:[s.jsxs(Ln,{children:[s.jsx("strong",{children:"Dica importante"}),s.jsx(Mt,{children:"Use petiscos de alto valor para motivar o cão durante o treino."})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"Evite erros comuns"}),s.jsx(Mt,{children:"Não chame o cão para dar bronca ou fazer algo que ele não goste."})]})]})]})},{title:"Dicas Importantes",content:s.jsxs("div",{children:[s.jsxs(_l,{children:[s.jsxs(Ln,{children:[s.jsx("strong",{children:"Seja consistente"}),s.jsx(Mt,{children:"Use sempre os mesmos comandos verbais e gestos."})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"Treine em diferentes ambientes"}),s.jsx(Mt,{children:"Comece em casa e gradualmente aumente as distrações."})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"Mantenha as sessões curtas"}),s.jsx(Mt,{children:"Treinos de 5-10 minutos são mais eficazes."})]})]}),s.jsxs(_l,{children:[s.jsxs(Ln,{children:[s.jsx("strong",{children:"Seja paciente"}),s.jsx(Mt,{children:"Alguns cães podem demorar mais para aprender, mantenha a calma."})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"Use reforço positivo"}),s.jsx(Mt,{children:"Sempre recompense o comportamento correto."})]})]})]})},{title:"Exemplo Prático",content:s.jsxs("div",{children:[s.jsx(Mt,{children:"Pratique os comandos em diferentes situações:"}),s.jsxs(_l,{children:[s.jsxs(Ln,{children:[s.jsx("strong",{children:"Durante os passeios"}),s.jsx(Mt,{children:'Use "Fica" antes de atravessar a rua e "Vem" para chamar de volta.'})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"No parque"}),s.jsx(Mt,{children:"Permita que o cão explore e pratique chamá-lo de volta."})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"Em casa"}),s.jsx(Mt,{children:'Peça para "Ficar" antes de abrir a porta e "Vir" quando necessário.'})]})]}),s.jsxs(_l,{children:[s.jsxs(Ln,{children:[s.jsx("strong",{children:"Frequência de treino"}),s.jsx(Mt,{children:"Pratique 3-5 vezes por dia, em sessões curtas."})]}),s.jsxs(Ln,{children:[s.jsx("strong",{children:"Progressão"}),s.jsx(Mt,{children:"Aumente gradualmente a distância e as distrações."})]})]})]})}],l=async()=>{if(e<c.length-1)n(e+1);else try{localStorage.setItem("behavior2_completed","true"),await o({userId:r.uid,lessonId:"behavior2",moduleId:"behavior",completedAt:ie.now(),progress:100}),await i({completedLessons:1,currentLevel:"beginner",lastSession:new Date,totalTime:5}),await a(),console.log("Progresso da lição Behavior2 salvo com sucesso"),t()}catch(u){console.error("Erro ao salvar progresso:",u)}},d=()=>{n(u=>u-1)},h=u=>{n(u)};return s.jsxs(Cfe,{children:[s.jsx(jfe,{children:"Comandos Fica e Vem"}),s.jsxs(Afe,{children:[c.map((u,f)=>s.jsx(Pfe,{active:e===f,children:s.jsxs(Rfe,{children:[u.subtitle&&s.jsx(Dfe,{children:u.subtitle}),u.content]})},f)),s.jsxs($fe,{children:[s.jsx(ER,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(Ofe,{children:c.map((u,f)=>s.jsx(Ffe,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(ER,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})}const Lfe="/assets/Behavior3-D1hLKQdn.png",Vfe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,zfe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Bfe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Ufe=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,qfe=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Wfe=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Lt=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,Hfe=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,bg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Gfe=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,TR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Kfe=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
`,Yfe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const El=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Vn=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Qfe=m.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`;function iL({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye();Ue();const c=[{title:"Comandos Junto e Solta",subtitle:"Controle e liberdade durante os passeios",content:s.jsxs("div",{children:[s.jsx(Qfe,{src:Lfe,alt:"Comandos Junto e Solta"}),s.jsx(Lt,{children:'Os comandos "Junto" e "Solta" são essenciais para manter seu cão seguro e sob controle durante os passeios, permitindo uma transição suave entre momentos de controle e liberdade.'}),s.jsxs(El,{children:[s.jsxs(Vn,{children:[s.jsx("strong",{children:"Segurança durante os passeios"}),s.jsx(Lt,{children:"Mantém o cão próximo e sob controle em situações de risco."})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Liberdade controlada"}),s.jsx(Lt,{children:"Permite que o cão explore com segurança quando apropriado."})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Transição suave"}),s.jsx(Lt,{children:"Facilita a alternância entre momentos de controle e liberdade."})]})]})]})},{title:"Como Ensinar",content:s.jsxs("div",{children:[s.jsxs(Hfe,{children:[s.jsxs(bg,{"data-step":"1",children:[s.jsx("strong",{children:'Comece com o comando "Junto"'}),s.jsx(Lt,{children:"Peça para o cão ficar ao seu lado e recompense quando ele obedecer."})]}),s.jsxs(bg,{"data-step":"2",children:[s.jsx("strong",{children:"Pratique caminhando juntos"}),s.jsx(Lt,{children:"Mantenha o cão próximo durante o passeio, recompensando a boa posição."})]}),s.jsxs(bg,{"data-step":"3",children:[s.jsx("strong",{children:'Introduza o comando "Solta"'}),s.jsx(Lt,{children:'Permita que o cão explore quando for seguro, usando o comando "Solta".'})]}),s.jsxs(bg,{"data-step":"4",children:[s.jsx("strong",{children:"Pratique as transições"}),s.jsx(Lt,{children:'Alternar entre "Junto" e "Solta" durante o passeio.'})]})]}),s.jsxs(El,{children:[s.jsxs(Vn,{children:[s.jsx("strong",{children:"Dica importante"}),s.jsx(Lt,{children:"Use uma guia adequada para manter o controle durante o treino."})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Evite erros comuns"}),s.jsx(Lt,{children:"Não force o cão a ficar junto por muito tempo sem recompensas."})]})]})]})},{title:"Dicas Importantes",content:s.jsxs("div",{children:[s.jsxs(El,{children:[s.jsxs(Vn,{children:[s.jsx("strong",{children:"Use uma guia adequada"}),s.jsx(Lt,{children:"Escolha uma guia que permita controle preciso."})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Seja consistente"}),s.jsx(Lt,{children:"Use sempre os mesmos comandos e gestos."})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Pratique em diferentes ambientes"}),s.jsx(Lt,{children:"Comece em locais tranquilos e aumente as distrações gradualmente."})]})]}),s.jsxs(El,{children:[s.jsxs(Vn,{children:[s.jsx("strong",{children:"Não force o cão"}),s.jsx(Lt,{children:"Respeite o ritmo de aprendizado do seu pet."})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Mantenha as sessões curtas"}),s.jsx(Lt,{children:"Treinos de 5-10 minutos são mais eficazes."})]})]})]})},{title:"Exemplo Prático",content:s.jsxs("div",{children:[s.jsx(Lt,{children:"Pratique os comandos em diferentes situações:"}),s.jsxs(El,{children:[s.jsxs(Vn,{children:[s.jsx("strong",{children:"Durante os passeios"}),s.jsx(Lt,{children:'Use "Junto" em ruas movimentadas e "Solta" em áreas seguras.'})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Em áreas abertas"}),s.jsx(Lt,{children:'Permita que o cão explore com "Solta" e chame de volta com "Junto".'})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Em parques"}),s.jsx(Lt,{children:"Alternar entre os comandos conforme a situação."})]})]}),s.jsxs(El,{children:[s.jsxs(Vn,{children:[s.jsx("strong",{children:"Frequência de treino"}),s.jsx(Lt,{children:"Pratique 3-5 vezes por dia, em sessões curtas."})]}),s.jsxs(Vn,{children:[s.jsx("strong",{children:"Progressão"}),s.jsx(Lt,{children:"Aumente gradualmente a distância e as distrações."})]})]})]})}],l=async()=>{if(e<c.length-1)n(e+1);else try{localStorage.setItem("behavior3_completed","true"),await o({userId:r.uid,lessonId:"behavior3",moduleId:"behavior",completedAt:ie.now(),progress:100}),await i({completedLessons:1,currentLevel:"beginner",lastSession:new Date,totalTime:5}),await a(),console.log("Progresso da lição Behavior3 salvo com sucesso"),t()}catch(u){console.error("Erro ao salvar progresso:",u)}},d=()=>{n(u=>u-1)},h=u=>{n(u)};return s.jsxs(Vfe,{children:[s.jsx(zfe,{children:"Comandos Junto e Solta"}),s.jsxs(Bfe,{children:[c.map((u,f)=>s.jsx(Ufe,{active:e===f,children:s.jsxs(qfe,{children:[u.subtitle&&s.jsx(Wfe,{children:u.subtitle}),u.content]})},f)),s.jsxs(Gfe,{children:[s.jsx(TR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(Kfe,{children:c.map((u,f)=>s.jsx(Yfe,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(TR,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})}const Xfe="/assets/behavior1-BAUz1PkS.png",Jfe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Zfe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,eme=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,tme=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,nme=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,rme=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Vt=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,ome=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,yg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,ime=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,IR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,sme=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
`,ame=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const Tl=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,zn=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,cme=m.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`;function sL({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye();Ue();const c=[{title:"Comandos Não e Quieto",subtitle:"Limites e controle comportamental",content:s.jsxs("div",{children:[s.jsx(cme,{src:Xfe,alt:"Comandos Não e Quieto"}),s.jsx(Vt,{children:'Os comandos "Não" e "Quieto" são fundamentais para corrigir comportamentos indesejados e manter o controle em situações específicas.'}),s.jsxs(Tl,{children:[s.jsxs(zn,{children:[s.jsx("strong",{children:"Correção imediata"}),s.jsx(Vt,{children:"Interrompe comportamentos indesejados no momento."})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Controle em situações específicas"}),s.jsx(Vt,{children:"Mantém o cão calmo e controlado quando necessário."})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Comunicação clara"}),s.jsx(Vt,{children:"Estabelece limites de forma efetiva e consistente."})]})]})]})},{title:"Como Ensinar",content:s.jsxs("div",{children:[s.jsxs(ome,{children:[s.jsxs(yg,{"data-step":"1",children:[s.jsx("strong",{children:'Comece com o comando "Não"'}),s.jsx(Vt,{children:"Use um tom firme e consistente para interromper comportamentos indesejados."})]}),s.jsxs(yg,{"data-step":"2",children:[s.jsx("strong",{children:'Introduza o comando "Quieto"'}),s.jsx(Vt,{children:"Ensine o cão a se acalmar e permanecer tranquilo."})]}),s.jsxs(yg,{"data-step":"3",children:[s.jsx("strong",{children:"Pratique em diferentes situações"}),s.jsx(Vt,{children:"Use os comandos em contextos variados para reforçar o aprendizado."})]}),s.jsxs(yg,{"data-step":"4",children:[s.jsx("strong",{children:"Recompense o comportamento correto"}),s.jsx(Vt,{children:"Elogie e recompense quando o cão obedecer aos comandos."})]})]}),s.jsxs(Tl,{children:[s.jsxs(zn,{children:[s.jsx("strong",{children:"Dica importante"}),s.jsx(Vt,{children:"Use gestos consistentes junto com os comandos verbais."})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Evite erros comuns"}),s.jsx(Vt,{children:"Não use os comandos de forma excessiva ou sem necessidade."})]})]})]})},{title:"Dicas Importantes",content:s.jsxs("div",{children:[s.jsxs(Tl,{children:[s.jsxs(zn,{children:[s.jsx("strong",{children:"Seja consistente"}),s.jsx(Vt,{children:"Use sempre os mesmos comandos e gestos."})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Pratique em momentos calmos"}),s.jsx(Vt,{children:"Comece o treino quando o cão estiver tranquilo."})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Aumente as distrações gradualmente"}),s.jsx(Vt,{children:"Comece em ambiente controlado e aumente as distrações aos poucos."})]})]}),s.jsxs(Tl,{children:[s.jsxs(zn,{children:[s.jsx("strong",{children:"Não use punição física"}),s.jsx(Vt,{children:"Use reforço positivo e redirecionamento."})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Mantenha as sessões curtas"}),s.jsx(Vt,{children:"Treinos de 5-10 minutos são mais eficazes."})]})]})]})},{title:"Exemplo Prático",content:s.jsxs("div",{children:[s.jsx(Vt,{children:"Pratique os comandos em diferentes situações:"}),s.jsxs(Tl,{children:[s.jsxs(zn,{children:[s.jsx("strong",{children:"Durante os passeios"}),s.jsx(Vt,{children:'Use "Não" para interromper latidos excessivos e "Quieto" para acalmar.'})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Em casa"}),s.jsx(Vt,{children:"Use os comandos para controlar comportamentos indesejados."})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Com visitas"}),s.jsx(Vt,{children:"Mantenha o cão calmo e controlado na presença de outras pessoas."})]})]}),s.jsxs(Tl,{children:[s.jsxs(zn,{children:[s.jsx("strong",{children:"Frequência de treino"}),s.jsx(Vt,{children:"Pratique 3-5 vezes por dia, em sessões curtas."})]}),s.jsxs(zn,{children:[s.jsx("strong",{children:"Progressão"}),s.jsx(Vt,{children:"Aumente gradualmente o nível de distração."})]})]})]})}],l=async()=>{if(e<c.length-1)n(e+1);else try{localStorage.setItem("behavior4_completed","true"),await o({userId:r.uid,lessonId:"behavior4",moduleId:"behavior",completedAt:ie.now(),progress:100}),await i({completedLessons:1,currentLevel:"beginner",lastSession:new Date,totalTime:5}),await a(),console.log("Progresso da lição Behavior4 salvo com sucesso"),t()}catch(u){console.error("Erro ao salvar progresso:",u)}},d=()=>{n(u=>u-1)},h=u=>{n(u)};return s.jsxs(Jfe,{children:[s.jsx(Zfe,{children:"Comandos Não e Quieto"}),s.jsxs(eme,{children:[c.map((u,f)=>s.jsx(tme,{active:e===f,children:s.jsxs(nme,{children:[u.subtitle&&s.jsx(rme,{children:u.subtitle}),u.content]})},f)),s.jsxs(ime,{children:[s.jsx(IR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(sme,{children:c.map((u,f)=>s.jsx(ame,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(IR,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})}const lme="/assets/Behavior5-Y9zaipfM.png",dme=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,ume=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,hme=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,pme=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,fme=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,mme=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,zt=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,gme=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,wg=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,vme=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,SR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,xme=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
`,bme=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const Il=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Bn=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,yme=m.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
`;function aL({onNextLesson:t}){const[e,n]=g.useState(0),[r,o]=g.useState(!1),{user:i}=Ee(),{addDocument:a}=Ve("progress"),{updateTraining:c,refreshData:l}=Ye(),d=Ue(),h=[{title:"Desenvolvendo habilidades de busca",content:s.jsxs("div",{children:[s.jsx(yme,{src:lme,alt:"Comandos Busca e Entrega"}),s.jsx(zt,{children:'Os comandos "Busca" e "Entrega" são excelentes para exercícios físicos e mentais, além de fortalecer o vínculo entre você e seu cão.'}),s.jsxs(Il,{children:[s.jsxs(Bn,{children:[s.jsx("strong",{children:"Exercício físico e mental"}),s.jsx(zt,{children:"Estimula o corpo e a mente do cão de forma divertida."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Fortalecimento do vínculo"}),s.jsx(zt,{children:"Promove interação positiva e cooperação."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Habilidades práticas"}),s.jsx(zt,{children:"Desenvolve capacidades úteis para o dia a dia."})]})]})]})},{title:"Como Ensinar",content:s.jsxs("div",{children:[s.jsxs(gme,{children:[s.jsxs(wg,{"data-step":"1",children:[s.jsx("strong",{children:'Ensine o comando "Busca"'}),s.jsx(zt,{children:"Use um objeto que o cão goste e incentive-o a pegar."})]}),s.jsxs(wg,{"data-step":"2",children:[s.jsx("strong",{children:'Introduza o comando "Entrega"'}),s.jsx(zt,{children:"Ensine o cão a soltar o objeto em suas mãos."})]}),s.jsxs(wg,{"data-step":"3",children:[s.jsx("strong",{children:"Combine os comandos"}),s.jsx(zt,{children:"Pratique a sequência completa de busca e entrega."})]}),s.jsxs(wg,{"data-step":"4",children:[s.jsx("strong",{children:"Aumente a distância"}),s.jsx(zt,{children:"Gradualmente, aumente a distância da busca."})]})]}),s.jsxs(Il,{children:[s.jsxs(Bn,{children:[s.jsx("strong",{children:"Dica importante"}),s.jsx(zt,{children:"Use objetos adequados e recompensas de alto valor."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Evite erros comuns"}),s.jsx(zt,{children:"Não force o cão a buscar objetos que ele não gosta."})]})]})]})},{title:"Dicas Importantes",content:s.jsxs("div",{children:[s.jsxs(Il,{children:[s.jsxs(Bn,{children:[s.jsx("strong",{children:"Use recompensas de alto valor"}),s.jsx(zt,{children:"Escolha petiscos que o cão realmente goste."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Mantenha o treino divertido"}),s.jsx(zt,{children:"O cão deve associar o treino a momentos prazerosos."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Pratique em diferentes locais"}),s.jsx(zt,{children:"Varie os ambientes para generalizar o aprendizado."})]})]}),s.jsxs(Il,{children:[s.jsxs(Bn,{children:[s.jsx("strong",{children:"Não force o cão"}),s.jsx(zt,{children:"Respeite o ritmo de aprendizado do seu pet."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Mantenha as sessões curtas"}),s.jsx(zt,{children:"Treinos de 5-10 minutos são mais eficazes."})]})]})]})},{title:"Exemplo Prático",content:s.jsxs("div",{children:[s.jsx(zt,{children:"Pratique os comandos em diferentes situações:"}),s.jsxs(Il,{children:[s.jsxs(Bn,{children:[s.jsx("strong",{children:"Durante as brincadeiras"}),s.jsx(zt,{children:"Use brinquedos favoritos para treinar os comandos."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Em diferentes ambientes"}),s.jsx(zt,{children:"Pratique em casa, no parque e em outros locais."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Com diferentes objetos"}),s.jsx(zt,{children:"Varie os objetos para manter o interesse do cão."})]})]}),s.jsxs(Il,{children:[s.jsxs(Bn,{children:[s.jsx("strong",{children:"Frequência de treino"}),s.jsx(zt,{children:"Pratique 3-5 vezes por dia, em sessões curtas."})]}),s.jsxs(Bn,{children:[s.jsx("strong",{children:"Progressão"}),s.jsx(zt,{children:"Aumente gradualmente a dificuldade e as distrações."})]})]})]})}],u=async()=>{if(e<h.length-1)n(e+1);else try{localStorage.setItem("behavior5_completed","true"),window.dispatchEvent(new Event("storage")),await a({userId:i.uid,lessonId:"behavior5",moduleId:"behavior",completedAt:ie.now(),progress:100}),await c({completedLessons:1,currentLevel:"beginner",lastSession:new Date,totalTime:5}),await l(),console.log("Progresso da lição Behavior5 salvo com sucesso"),o(!0)}catch(_){console.error("Erro ao salvar progresso:",_),o(!0)}},f=()=>{n(_=>_-1)},v=_=>{n(_)},x=()=>{o(!1)},y=()=>{localStorage.setItem("socialization1_unlocked","true"),localStorage.setItem("socialization_unlocked","true"),d("/content/training/socialization")};return s.jsxs(dme,{children:[s.jsx(ume,{children:"Comandos Busca e Entrega"}),s.jsxs(hme,{children:[h.map((_,w)=>s.jsx(pme,{active:e===w,children:s.jsxs(fme,{children:[_.title&&s.jsx(mme,{children:_.title}),_.content]})},w)),s.jsxs(vme,{children:[s.jsx(SR,{onClick:f,disabled:e===0,children:"Anterior"}),s.jsx(xme,{children:h.map((_,w)=>s.jsx(bme,{active:e===w,onClick:()=>v(w)},w))}),s.jsx(SR,{onClick:u,children:e===h.length-1?"Concluir":"Próximo"})]})]}),r&&s.jsx(Eu,{onClose:x,onNextModule:y})]})}const wme=m.div`
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
  min-height: calc(100vh - 100px);
  display: flex;
  flex-direction: column;
`,_me=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
  padding-top: 20px;
`,Eme=m.h1`
  font-size: 24px;
  color: #333;
  margin: 0;
`,Tme=m.p`
  color: #666;
  margin-bottom: 2rem;
  font-size: 1.1rem;
`,Ime=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
`,Sme=m.div`
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-2px);
  }
`,kme=m.h2`
  font-size: 1.25rem;
  color: #333;
  margin-bottom: 0.75rem;
`,Cme=m.p`
  color: #666;
  font-size: 1rem;
  line-height: 1.5;
  margin-bottom: 1rem;
`,jme=m.span`
  color: #007bff;
  font-size: 0.875rem;
  font-weight: 500;
`,Ame=m.button`
  padding: 0.75rem 1.5rem;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`,Pme=m(Ame)`
  background-color: #6c757d;
  margin-right: 1rem;

  &:hover {
    background-color: #5a6268;
  }
`;bf.find(t=>t.id==="behavior");function Rme(){const t=Ue(),[e,n]=g.useState(null),r=[{id:"behavior1",title:"Comandos Básicos: Senta e Deita",description:"Aprenda a ensinar os comandos básicos de obediência",duration:"15 min",component:rL,locked:!localStorage.getItem("behavior1_unlocked")==="true"},{id:"behavior2",title:"Comandos Básicos: Fica e Vem",description:"Controle e chamada do seu cão em diferentes situações",duration:"15 min",component:oL,locked:localStorage.getItem("behavior1_completed")!=="true"},{id:"behavior3",title:"Comandos Básicos: Junto e Solta",description:"Passeio com guia e controle de objetos",duration:"15 min",component:iL,locked:localStorage.getItem("behavior2_completed")!=="true"},{id:"behavior4",title:"Comandos Básicos: Não e Quieto",description:"Controle de comportamentos indesejados",duration:"15 min",component:sL,locked:localStorage.getItem("behavior3_completed")!=="true"},{id:"behavior5",title:"Comandos Básicos: Busca e Entrega",description:"Jogos e brincadeiras para fortalecer o vínculo",duration:"15 min",component:aL,locked:localStorage.getItem("behavior4_completed")!=="true"}],o=c=>{n(c)},i=()=>{e?n(null):t("/content/training")},a=()=>{const c=r.findIndex(l=>l.id===e.id);c<r.length-1&&n(r[c+1])};if(e){const c=e.component;return s.jsx(Sa,{children:s.jsx(c,{onNextLesson:a,onBack:i})})}return s.jsxs(wme,{children:[s.jsxs(_me,{children:[s.jsx(Pme,{onClick:i,children:"Voltar"}),s.jsx(Eme,{children:"Comportamento Essencial 🐕"})]}),s.jsx(Tme,{children:"Desenvolva comportamentos essenciais para uma convivência harmoniosa com seu cão."}),s.jsx(Ime,{children:r.map(c=>s.jsxs(Sme,{onClick:()=>!c.locked&&o(c),style:{opacity:c.locked?.5:1,cursor:c.locked?"not-allowed":"pointer",position:"relative"},children:[s.jsxs(kme,{children:[c.title,localStorage.getItem(`${c.id}_completed`)==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsx(Cme,{children:c.description}),s.jsx(jme,{children:c.duration}),c.locked&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2rem"},children:"🔒"})]},c.id))})]})}const Dme="/assets/socialization1-BQ2xbryo.png",Nme=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,$me=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Ome=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Fme=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,Mme=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;
  margin-bottom: 60px;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Lme=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Sl=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,Vme=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,R1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const zme=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,kR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Bme=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,Ume=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const D1=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Kt=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,qme=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,sh=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Wme=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;function Hme({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=async()=>{if(e===3){localStorage.setItem("socialization1_completed","true"),localStorage.setItem("socialization2_unlocked","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const u={lessonId:"socialization1",moduleId:"socialization",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:7,currentLevel:"beginner",lastSession:new Date,totalTime:35}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição Socialization1 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}}catch(u){console.error("Erro ao processar progresso da lição:",u)}}else n(u=>(u+1)%4)},l=()=>{n(u=>(u-1+4)%4)},d=u=>{n(u)},h=[{title:"Introdução à Socialização",content:s.jsxs(s.Fragment,{children:[s.jsx(Wme,{src:Dme,alt:"Introdução à Socialização"}),s.jsx(Sl,{children:"A socialização é o processo de expor seu cão a diferentes experiências, pessoas, animais e ambientes de forma positiva e controlada. É fundamental para o desenvolvimento de um cão confiante e equilibrado."}),s.jsx(Sl,{children:"Uma socialização adequada ajuda a prevenir problemas comportamentais e garante que seu cão se torne um companheiro equilibrado."})]})},{title:"Por que Socializar?",content:s.jsxs(s.Fragment,{children:[s.jsx(Sl,{children:"A socialização adequada traz inúmeros benefícios para seu cão e para sua relação com ele:"}),s.jsxs(D1,{children:[s.jsx(Kt,{children:"Desenvolvimento Emocional: Ajuda o cão a desenvolver confiança e equilíbrio emocional"}),s.jsx(Kt,{children:"Prevenção de Problemas: Reduz a probabilidade de medos, ansiedades e comportamentos agressivos"}),s.jsx(Kt,{children:"Adaptação Social: Facilita a convivência com pessoas, outros animais e diferentes ambientes"}),s.jsx(Kt,{children:"Qualidade de Vida: Cães bem socializados são mais felizes e têm uma vida mais rica e variada"}),s.jsx(Kt,{children:"Vínculo com o Tutor: Fortalece a relação e a confiança entre você e seu cão"})]}),s.jsx(Sl,{children:"Consequências da falta de socialização:"}),s.jsxs(qme,{children:[s.jsx(sh,{children:"Desenvolvimento de medos e fobias em situações cotidianas"}),s.jsx(sh,{children:"Comportamentos reativos ou agressivos por insegurança"}),s.jsx(sh,{children:"Dificuldade em lidar com mudanças de ambiente ou rotina"}),s.jsx(sh,{children:"Estresse e ansiedade em situações sociais"}),s.jsx(sh,{children:"Limitações na qualidade de vida por não poder frequentar ambientes diversos"})]})]})},{title:"Período Crítico e Como Socializar",content:s.jsxs(s.Fragment,{children:[s.jsx(Sl,{children:"O período mais importante para a socialização é entre as 3 e 16 semanas de idade. Durante este tempo, o cão está mais receptivo a novas experiências."}),s.jsxs(Vme,{children:[s.jsx(R1,{"data-step":"1",children:"3-8 semanas: Período ideal para socialização com outros cães e pessoas"}),s.jsx(R1,{"data-step":"2",children:"8-12 semanas: Momento crucial para exposição a diferentes ambientes e situações"}),s.jsx(R1,{"data-step":"3",children:"12-16 semanas: Período para consolidar as experiências anteriores e introduzir novos desafios"})]}),s.jsx(Sl,{children:"Princípios básicos para uma socialização eficaz:"}),s.jsxs(D1,{children:[s.jsx(Kt,{children:"Gradualidade: Introduza novas experiências de forma gradual e controlada"}),s.jsx(Kt,{children:"Positividade: Associe cada nova experiência a algo positivo, como petiscos ou brincadeiras"}),s.jsx(Kt,{children:"Segurança: Mantenha o cão seguro e confortável durante todo o processo"}),s.jsx(Kt,{children:"Consistência: Pratique regularmente e mantenha uma rotina de socialização"}),s.jsx(Kt,{children:"Paciência: Respeite o ritmo do seu cão e não force situações desconfortáveis"})]})]})},{title:"Resumo Rápido",content:s.jsx(s.Fragment,{children:s.jsxs(D1,{children:[s.jsx(Kt,{children:"A socialização é fundamental para o desenvolvimento de um cão equilibrado e confiante"}),s.jsx(Kt,{children:"O período crítico de socialização é entre 3-16 semanas, mas deve continuar por toda a vida"}),s.jsx(Kt,{children:"Exponha seu cão gradualmente a diferentes pessoas, animais, ambientes e experiências"}),s.jsx(Kt,{children:"Associe sempre novas experiências a recompensas e reforços positivos"}),s.jsx(Kt,{children:"Respeite o ritmo e os limites do seu cão, sem forçar situações estressantes"}),s.jsx(Kt,{children:"Cães bem socializados têm menos problemas comportamentais e melhor qualidade de vida"}),s.jsx(Kt,{children:"A socialização fortalece o vínculo entre você e seu cão, criando confiança mútua"}),s.jsx(Kt,{children:"Mantenha a consistência na rotina de socialização, com exposições frequentes e variadas"}),s.jsx(Kt,{children:"Monitore a linguagem corporal do seu cão para identificar sinais de desconforto"}),s.jsx(Kt,{children:"Busque ajuda profissional se notar problemas específicos durante a socialização"})]})})}];return s.jsxs(Nme,{children:[s.jsxs($me,{children:["Introdução à Socialização",localStorage.getItem("socialization1_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(Ome,{children:[h.map((u,f)=>s.jsx(Fme,{active:e===f,children:s.jsxs(Mme,{children:[s.jsx(Lme,{children:u.title}),u.content]})},f)),s.jsxs(zme,{children:[s.jsx(kR,{onClick:l,disabled:e===0,children:"Anterior"}),s.jsx(Bme,{children:h.map((u,f)=>s.jsx(Ume,{active:e===f,onClick:()=>d(f)},f))}),s.jsx(kR,{onClick:c,children:e===3?"Próxima Aula":"Próximo"})]})]})]})}const Gme="/assets/socialization2-leLfG1z7.png",Kme=m.div`
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
`,Yme=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
  padding-top: 0;
`,Qme=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
  max-width: 1000px;
  margin: 0 auto;
`,Xme=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,Jme=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  padding-bottom: 3rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;
  max-height: 500px;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Zme=m.h2`
  font-size: 1.5rem;
  color: #2D3748;
  margin-bottom: 1rem;
  text-align: center;
`,ege=m.p`
  font-size: 1rem;
  line-height: 1.5;
  color: #4A5568;
  margin-bottom: 10px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,_g=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
`,en=m.li`
  font-size: 1.1rem;
  line-height: 1.5;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

  &:hover {
    transform: translateX(4px) scale(1.02);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  &:before {
    content: "•";
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m(en)`
  background: #EBF8FF;
  border-left: 4px solid #4299E1;

  &:hover {
    background: #BEE3F8;
  }

  &:before {
    color: #4299E1;
  }
`;m(en)`
  background: #F0FFF4;
  border-left: 4px solid #48BB78;

  &:hover {
    background: #C6F6D5;
  }

  &:before {
    color: #48BB78;
  }
`;m(en)`
  background: #FAF5FF;
  border-left: 4px solid #9F7AEA;

  &:hover {
    background: #E9D8FD;
  }

  &:before {
    color: #9F7AEA;
  }
`;const tge=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  background-image: url(${Gme});
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
  transform: translateZ(0);
  backface-visibility: hidden;
`,nge=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,CR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,rge=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,oge=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;function ige({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye();Ue();const c=[{title:"Socialização com Pessoas",subtitle:"Construindo confiança e relacionamentos",content:s.jsxs("div",{children:[s.jsx(tge,{}),s.jsx(ege,{children:"A socialização com pessoas é fundamental para o desenvolvimento de um cão confiante e amigável. Vamos aprender como ajudar seu cão a se sentir confortável e seguro ao interagir com diferentes tipos de pessoas."})]})},{title:"Tipos de Pessoas",subtitle:"Diversidade de interações",content:s.jsx("div",{children:s.jsxs(_g,{children:[s.jsxs(en,{children:[s.jsx("strong",{children:"Adultos:"})," Apresente seu cão a pessoas de diferentes alturas, vozes e movimentos."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Crianças:"})," Ensine seu cão a interagir de forma gentil e calma com crianças."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Idosos:"})," Ajuda seu cão a se adaptar a movimentos mais lentos e diferentes."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Pessoas com Necessidades Especiais:"})," Ensine seu cão a respeitar diferentes formas de locomoção e comunicação."]})]})})},{title:"Métodos de Socialização",subtitle:"Técnicas eficazes",content:s.jsx("div",{children:s.jsxs(_g,{children:[s.jsxs(en,{children:[s.jsx("strong",{children:"Contato Visual:"})," Ensine seu cão a manter contato visual calmo com pessoas."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Toque Gentil:"})," Acostume seu cão a ser tocado de forma suave e respeitosa."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Comandos Básicos:"}),' Use comandos como "senta" e "fica" durante as interações.']}),s.jsxs(en,{children:[s.jsx("strong",{children:"Reforço Positivo:"})," Recompense comportamentos calmos e amigáveis."]})]})})},{title:"Ambientes e Situações",subtitle:"Contextos de socialização",content:s.jsx("div",{children:s.jsxs(_g,{children:[s.jsxs(en,{children:[s.jsx("strong",{children:"Em Casa:"})," Convide pessoas para visitas controladas em seu ambiente."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Em Público:"})," Exponha gradualmente seu cão a diferentes locais públicos."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Durante Passeios:"})," Use os passeios como oportunidade para interações positivas."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Em Eventos:"})," Introduza seu cão a situações sociais de forma gradual."]})]})})},{title:"Dicas Importantes",subtitle:"Para uma socialização segura",content:s.jsx("div",{children:s.jsxs(_g,{children:[s.jsxs(en,{children:[s.jsx("strong",{children:"Respeite o Ritmo:"})," Nunca force interações e respeite os limites do seu cão."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Supervisão Constante:"})," Mantenha sempre o controle da situação."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Petiscos e Recompensas:"})," Use reforços positivos para criar associações agradáveis."]}),s.jsxs(en,{children:[s.jsx("strong",{children:"Consistência:"})," Mantenha uma rotina regular de socialização."]})]})})}],l=async()=>{if(e<c.length-1)n(e+1);else try{localStorage.setItem("socialization2_completed","true"),await o({userId:r.uid,lessonId:"socialization2",moduleId:"socialization",completedAt:ie.now(),progress:100}),await i({completedLessons:["socialization2"],currentLevel:"socialization",lastSession:ie.now(),totalTime:0}),await a(),console.log("Progresso salvo com sucesso!"),t&&t()}catch(u){console.error("Erro ao salvar progresso:",u)}},d=()=>{e>0&&n(e-1)},h=u=>{n(u)};return s.jsx(s.Fragment,{children:s.jsxs(Kme,{children:[s.jsx(Yme,{children:"Socialização com Pessoas"}),s.jsxs(Qme,{children:[c.map((u,f)=>s.jsx(Xme,{active:e===f,children:s.jsxs(Jme,{children:[u.subtitle&&s.jsx(Zme,{children:u.subtitle}),u.content]})},f)),s.jsxs(nge,{children:[s.jsx(CR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(rge,{children:c.map((u,f)=>s.jsx(oge,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(CR,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})})}const sge="/assets/socialization3-CVe-FxlA.png",age=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,cge=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,lge=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,dge=m.div`
  position: absolute;
  width: 100%;
  height: calc(100% - 100px);
  opacity: ${t=>t.active==="true"?1:0};
  transition: opacity 0.5s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  pointer-events: ${t=>t.active==="true"?"auto":"none"};
`,uge=m.div`
  height: 100%;
  padding: 2.5rem;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,hge=m.h2`
  font-size: 1.5rem;
  color: #2D3748;
  margin-bottom: 1.5rem;
  text-align: center;
`,pge=m.p`
  color: #4A5568;
  margin-bottom: 1.5rem;
  line-height: 1.8;
  font-size: 1.1rem;
  word-wrap: break-word;
`,Eg=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,m2=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

  &:hover {
    transform: translateX(4px) scale(1.02);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  &:before {
    content: "•";
    font-weight: bold;
    font-size: 1.5rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Tg=m(m2)`
  background: #EBF8FF;
  border-left: 4px solid #4299E1;

  &:hover {
    background: #BEE3F8;
  }

  &:before {
    color: #4299E1;
  }
`,Zi=m(m2)`
  background: #F0FFF4;
  border-left: 4px solid #48BB78;

  &:hover {
    background: #C6F6D5;
  }

  &:before {
    color: #48BB78;
  }
`,Ig=m(m2)`
  background: #FAF5FF;
  border-left: 4px solid #9F7AEA;

  &:hover {
    background: #E9D8FD;
  }

  &:before {
    color: #9F7AEA;
  }
`,fge=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  background-image: url(${sge});
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
  transform: translateZ(0);
  backface-visibility: hidden;
`,mge=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 0.75rem;
  background: white;
  border-top: 1px solid #E2E8F0;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,jR=m.button`
  background-color: ${t=>t.disabled?"#CBD5E0":"#4299E1"};
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  font-size: 0.9rem;
  cursor: ${t=>t.disabled?"not-allowed":"pointer"};
  transition: background-color 0.2s;
  width: 100px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    background-color: ${t=>t.disabled?"#CBD5E0":"#3182CE"};
  }
`,gge=m.div`
  display: flex;
  gap: 0.5rem;
  margin: 0 0.5rem;
`,vge=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background-color 0.2s;
`;function xge({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=[{title:"Socialização com Outros Cães",subtitle:"Construindo amizades caninas",content:s.jsxs("div",{children:[s.jsx(fge,{}),s.jsx(pge,{children:"A socialização com outros cães é essencial para o desenvolvimento social do seu pet. Vamos aprender como criar encontros seguros e positivos entre cães."})]})},{title:"Preparação para Encontros",subtitle:"Configurando para o sucesso",content:s.jsx("div",{children:s.jsxs(Eg,{children:[s.jsxs(Tg,{children:[s.jsx("strong",{children:"Escolha do Local:"})," Opte por parques para cães ou áreas seguras e controladas."]}),s.jsxs(Tg,{children:[s.jsx("strong",{children:"Horário Adequado:"})," Evite horários de pico e escolha momentos mais tranquilos."]}),s.jsxs(Tg,{children:[s.jsx("strong",{children:"Equipamentos:"})," Use coleira e guia adequadas, e leve petiscos para reforço positivo."]}),s.jsxs(Tg,{children:[s.jsx("strong",{children:"Estado do Cão:"})," Certifique-se que seu cão está calmo e bem alimentado antes do encontro."]})]})})},{title:"Durante o Encontro",subtitle:"Interações seguras e positivas",content:s.jsx("div",{children:s.jsxs(Eg,{children:[s.jsxs(Zi,{children:[s.jsx("strong",{children:"Apresentação Gradual:"})," Permita que os cães se cheirem e se conheçam aos poucos."]}),s.jsxs(Zi,{children:[s.jsx("strong",{children:"Linguagem Corporal:"})," Observe e interprete os sinais de comunicação canina."]}),s.jsxs(Zi,{children:[s.jsx("strong",{children:"Intervenção:"})," Esteja preparado para interromper se necessário, mas sem pânico."]}),s.jsxs(Zi,{children:[s.jsx("strong",{children:"Reforço Positivo:"})," Recompense comportamentos calmos e amigáveis."]})]})})},{title:"Tipos de Interação",subtitle:"Diferentes formas de socialização",content:s.jsx("div",{children:s.jsxs(Eg,{children:[s.jsxs(Zi,{children:[s.jsx("strong",{children:"Brincadeiras:"})," Observe e incentive brincadeiras apropriadas e recíprocas."]}),s.jsxs(Zi,{children:[s.jsx("strong",{children:"Passeios em Grupo:"})," Organize passeios com outros cães para socialização em movimento."]}),s.jsxs(Zi,{children:[s.jsx("strong",{children:"Parques para Cães:"})," Utilize áreas específicas para interação canina."]}),s.jsxs(Zi,{children:[s.jsx("strong",{children:"Encontros Controlados:"})," Comece com encontros individuais antes de grupos maiores."]})]})})},{title:"Dicas Importantes",subtitle:"Para uma socialização segura",content:s.jsx("div",{children:s.jsxs(Eg,{children:[s.jsxs(Ig,{children:[s.jsx("strong",{children:"Respeite os Limites:"})," Cada cão tem seu próprio ritmo de socialização."]}),s.jsxs(Ig,{children:[s.jsx("strong",{children:"Supervisão Constante:"})," Mantenha-se atento durante todo o encontro."]}),s.jsxs(Ig,{children:[s.jsx("strong",{children:"Petiscos e Recompensas:"})," Use reforços positivos para criar associações agradáveis."]}),s.jsxs(Ig,{children:[s.jsx("strong",{children:"Consistência:"})," Mantenha uma rotina regular de socialização."]})]})})}],l=async()=>{if(e===c.length-1){localStorage.setItem("socialization3_completed","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const u={lessonId:"socialization3",moduleId:"socialization",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:13,currentLevel:"intermediate",lastSession:new Date,totalTime:130}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição Socialization3 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}}catch(u){console.error("Erro ao processar progresso da lição:",u)}}else n(u=>u+1)},d=()=>{n(u=>u-1)},h=u=>{n(u)};return s.jsx(s.Fragment,{children:s.jsxs(age,{children:[s.jsx(cge,{children:"Socialização com Outros Cães"}),s.jsxs(lge,{children:[c.map((u,f)=>s.jsx(dge,{active:(e===f).toString(),children:s.jsxs(uge,{children:[s.jsx(hge,{children:u.title}),u.content]})},f)),s.jsxs(mge,{children:[s.jsx(jR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(gge,{children:c.map((u,f)=>s.jsx(vge,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(jR,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})})}const bge="/assets/socialization4-DpXJwB0Z.png",yge=m.div`
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
`,wge=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
  padding-top: 0;
`,_ge=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
  max-width: 1000px;
  margin: 0 auto;
`,Ege=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,Tge=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  padding-bottom: 3rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;
  max-height: 500px;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Ige=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Sge=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #4A5568;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,N1=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,g2=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

  &:hover {
    transform: translateX(4px) scale(1.02);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  &:before {
    content: "•";
    font-weight: bold;
    font-size: 1.5rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,$1=m(g2)`
  background: #EBF8FF;
  border-left: 4px solid #4299E1;

  &:hover {
    background: #BEE3F8;
  }

  &:before {
    color: #4299E1;
  }
`,O1=m(g2)`
  background: #F0FFF4;
  border-left: 4px solid #48BB78;

  &:hover {
    background: #C6F6D5;
  }

  &:before {
    color: #48BB78;
  }
`,F1=m(g2)`
  background: #FAF5FF;
  border-left: 4px solid #9F7AEA;

  &:hover {
    background: #E9D8FD;
  }

  &:before {
    color: #9F7AEA;
  }
`,kge=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  background-image: url(${bge});
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
  transform: translateZ(0);
  backface-visibility: hidden;
`,Cge=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,AR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,jge=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,Age=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;function Pge({onNextLesson:t}){const[e,n]=g.useState(0),[r,o]=g.useState(!1),{user:i}=Ee(),{addDocument:a}=Ve("progress"),{updateTraining:c,refreshData:l}=Ye(),d=[{title:"Controle de Impulsos",subtitle:"Aprendendo a esperar",content:s.jsxs("div",{children:[s.jsx(kge,{}),s.jsx(Sge,{children:"O controle de impulsos é fundamental para um cão bem-comportado e equilibrado. Vamos aprender técnicas para ajudar seu cão a desenvolver autocontrole."})]})},{title:"Exercícios Básicos",subtitle:"Começando com o simples",content:s.jsx("div",{children:s.jsxs(N1,{children:[s.jsxs($1,{children:[s.jsx("strong",{children:"Ficar Parado:"})," Ensine seu cão a permanecer calmo em diferentes situações."]}),s.jsxs($1,{children:[s.jsx("strong",{children:"Esperar por Comida:"})," Treine para que ele aguarde sua permissão antes de comer."]}),s.jsxs($1,{children:[s.jsx("strong",{children:"Controle na Porta:"})," Aprenda a não sair correndo quando a porta é aberta."]})]})})},{title:"Técnicas de Treinamento",subtitle:"Métodos eficazes",content:s.jsx("div",{children:s.jsxs(N1,{children:[s.jsxs(O1,{children:[s.jsx("strong",{children:"Comandos Claros:"}),' Use comandos consistentes como "espera" e "fica".']}),s.jsxs(O1,{children:[s.jsx("strong",{children:"Reforço Positivo:"})," Recompense o comportamento calmo e controlado."]}),s.jsxs(O1,{children:[s.jsx("strong",{children:"Progressão Gradual:"})," Aumente a dificuldade dos exercícios aos poucos."]})]})})},{title:"Dicas Importantes",subtitle:"Para um treinamento eficaz",content:s.jsx("div",{children:s.jsxs(N1,{children:[s.jsxs(F1,{children:[s.jsx("strong",{children:"Paciência:"})," Cada cão tem seu próprio ritmo de aprendizado."]}),s.jsxs(F1,{children:[s.jsx("strong",{children:"Consistência:"})," Mantenha a rotina de treinos e comandos."]}),s.jsxs(F1,{children:[s.jsx("strong",{children:"Ambiente Controlado:"})," Comece em locais tranquilos e sem distrações."]})]})})}],h=async()=>{if(e===d.length-1){localStorage.setItem("socialization4_completed","true"),window.dispatchEvent(new Event("storage")),t();try{if(i){const x={lessonId:"socialization4",moduleId:"socialization",courseId:"9DwWIAtShVCPXyRPSbqF",userId:i.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};Promise.race([a(x),new Promise(y=>setTimeout(y,2e3))]).then(()=>{c({completedLessons:14,currentLevel:"intermediate",lastSession:new Date,totalTime:145}).catch(y=>console.error("Erro ao atualizar dashboard:",y)),l().catch(y=>console.error("Erro ao atualizar dados:",y)),console.log("Progresso da lição Socialization4 salvo com sucesso")}).catch(y=>{console.error("Erro ao salvar progresso da lição:",y)})}}catch(x){console.error("Erro ao processar progresso da lição:",x)}}else n(x=>x+1)},u=()=>{e>0&&n(e-1)},f=x=>{n(x)},v=()=>{o(!1),t&&t()};return s.jsxs(s.Fragment,{children:[s.jsxs(yge,{children:[s.jsx(wge,{children:"Controlando Impulsos"}),s.jsxs(_ge,{children:[d.map((x,y)=>s.jsx(Ege,{active:e===y,children:s.jsxs(Tge,{children:[x.subtitle&&s.jsx(Ige,{children:x.subtitle}),x.content]})},y)),s.jsxs(Cge,{children:[s.jsx(AR,{onClick:u,disabled:e===0,children:"Anterior"}),s.jsx(jge,{children:d.map((x,y)=>s.jsx(Age,{active:e===y,onClick:()=>f(y)},y))}),s.jsx(AR,{onClick:h,children:e===d.length-1?"Concluir":"Próximo"})]})]})]}),r&&s.jsx(Eu,{onClose:v,moduleName:"Socialização",nextModule:"Comportamento"})]})}const Rge="/assets/socialization5-D-FyKjOj.png",Dge=m.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 2rem;
  min-height: calc(100vh - 100px);
  display: flex;
  flex-direction: column;
  align-items: center;
`,Nge=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
  padding-top: 0;
`,$ge=m.div`
  width: 100%;
  max-width: 1200px;
  height: 600px;
  position: relative;
  margin: 0 auto;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
`,Oge=m.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  padding: 2rem;
  box-sizing: border-box;
`,Fge=m.div`
  flex: 1;
  overflow-y: auto;
  padding-right: 1rem;
  margin-bottom: 1rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  padding-left: 1rem;
  padding-right: 1rem;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Mge=m.h2`
  font-size: 1.5rem;
  color: #2D3748;
  margin-bottom: 1.5rem;
  text-align: center;
`,Lge=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 0.75rem;
  background: white;
  border-top: 1px solid #E2E8F0;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,PR=m.button`
  background-color: ${t=>t.disabled?"#CBD5E0":"#4299E1"};
  color: white;
  border: none;
  padding: 0.75rem 1.25rem;
  border-radius: 0.375rem;
  font-size: 1rem;
  cursor: ${t=>t.disabled?"not-allowed":"pointer"};
  transition: background-color 0.2s;
  width: 120px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    background-color: ${t=>t.disabled?"#CBD5E0":"#3182CE"};
  }
`,Vge=m.div`
  display: flex;
  gap: 0.5rem;
  margin: 0 0.5rem;
`,zge=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background-color: ${t=>t.$active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background-color 0.2s;
`,Sg=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #4A5568;
  margin-bottom: 1rem;
`,M1=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,v2=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

  &:hover {
    transform: translateX(4px) scale(1.02);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  &:before {
    content: "•";
    font-weight: bold;
    font-size: 1.5rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,L1=m(v2)`
  background: #EBF8FF;
  border-left: 4px solid #4299E1;

  &:hover {
    background: #BEE3F8;
  }

  &:before {
    color: #4299E1;
  }
`,V1=m(v2)`
  background: #F0FFF4;
  border-left: 4px solid #48BB78;

  &:hover {
    background: #C6F6D5;
  }

  &:before {
    color: #48BB78;
  }
`,z1=m(v2)`
  background: #FAF5FF;
  border-left: 4px solid #9F7AEA;

  &:hover {
    background: #E9D8FD;
  }

  &:before {
    color: #9F7AEA;
  }
`;m.h3`
  font-size: 1.25rem;
  color: #2D3748;
  margin-bottom: 1rem;
`;const Bge=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  background-image: url(${Rge});
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
  transform: translateZ(0);
  backface-visibility: hidden;
`;function Uge({onNextLesson:t}){const[e,n]=g.useState(0);Ee(),Ve("progress"),Ye();const r=[{title:"Ambientes Desafiadores",subtitle:"Expandindo os limites",content:s.jsxs("div",{children:[s.jsx(Bge,{}),s.jsx(Sg,{children:"A socialização com diferentes ambientes é crucial para um cão confiante e adaptável. Vamos aprender como ajudar seu cão a se sentir seguro em diversos contextos."})]})},{title:"Preparação",content:s.jsxs("div",{children:[s.jsx(Sg,{children:"Antes de expor seu cão a ambientes desafiadores:"}),s.jsxs(M1,{children:[s.jsx(L1,{children:"Comece com ambientes mais tranquilos e conhecidos"}),s.jsx(L1,{children:"Use equipamentos de segurança adequados"}),s.jsx(L1,{children:"Leve petiscos para reforço positivo"})]})]})},{title:"Tipos de Ambientes",content:s.jsxs("div",{children:[s.jsx(Sg,{children:"Ambientes que podem ser desafiadores:"}),s.jsxs(M1,{children:[s.jsx(V1,{children:"Centros urbanos com tráfego e multidões"}),s.jsx(V1,{children:"Locais com sons altos e inesperados"}),s.jsx(V1,{children:"Espaços com diferentes superfícies e texturas"})]})]})},{title:"Dicas Importantes",content:s.jsxs("div",{children:[s.jsx(Sg,{children:"Para uma exposição segura e positiva:"}),s.jsxs(M1,{children:[s.jsx(z1,{children:"Respeite o ritmo do seu cão"}),s.jsx(z1,{children:"Mantenha sessões curtas e positivas"}),s.jsx(z1,{children:"Observe os sinais de estresse"})]})]})}],o=async()=>{e===r.length-1?(localStorage.setItem("socialization5_completed","true"),window.dispatchEvent(new Event("storage")),t()):n(c=>c+1)},i=()=>{n(c=>c-1)},a=c=>{n(c)};return s.jsx(s.Fragment,{children:s.jsxs(Dge,{children:[s.jsx(Nge,{children:"Ambientes Desafiadores"}),s.jsx($ge,{children:s.jsxs(Oge,{children:[s.jsx(Mge,{children:r[e].title}),s.jsx(Fge,{children:r[e].content}),s.jsxs(Lge,{children:[s.jsx(PR,{onClick:i,disabled:e===0,children:"Anterior"}),s.jsx(Vge,{children:r.map((c,l)=>s.jsx(zge,{$active:l===e,onClick:()=>a(l)},l))}),s.jsx(PR,{onClick:o,children:e===r.length-1?"Concluir":"Próximo"})]})]})})]})})}const qge="/assets/socialization6-Ce4WEVEl.png",Wge=m.div`
  padding: 2rem;
  max-width: 1400px;
  margin: 0 auto;
`,Hge=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
  padding-top: 0;
`,Gge=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
  max-width: 1000px;
  margin: 0 auto;
`,Kge=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,Yge=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Qge=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,kg=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #4A5568;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,B1=m.ul`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,x2=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  border-radius: 8px;
  transition: all 0.3s ease;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

  &:hover {
    transform: translateX(4px) scale(1.02);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  &:before {
    content: "•";
    font-weight: bold;
    font-size: 1.5rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,U1=m(x2)`
  background: #EBF8FF;
  border-left: 4px solid #4299E1;

  &:hover {
    background: #BEE3F8;
  }

  &:before {
    color: #4299E1;
  }
`,q1=m(x2)`
  background: #F0FFF4;
  border-left: 4px solid #48BB78;

  &:hover {
    background: #C6F6D5;
  }

  &:before {
    color: #48BB78;
  }
`,W1=m(x2)`
  background: #FAF5FF;
  border-left: 4px solid #9F7AEA;

  &:hover {
    background: #E9D8FD;
  }

  &:before {
    color: #9F7AEA;
  }
`,Xge=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  background-image: url(${qge});
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  -ms-interpolation-mode: nearest-neighbor;
  transform: translateZ(0);
  backface-visibility: hidden;
`,Jge=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,RR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Zge=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,eve=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;function tve(){const t=Ue(),[e,n]=g.useState(0),[r,o]=g.useState(!1),{user:i}=Ee(),{addDocument:a}=Ve("progress"),{updateTraining:c,refreshData:l}=Ye(),d=[{title:"Consolidação e Prática",subtitle:"Revisão e aplicação",content:s.jsxs("div",{children:[s.jsx(Xge,{}),s.jsx(kg,{children:"A socialização em diferentes ambientes é essencial para um cão adaptável e confiante. Vamos aprender como ajudar seu cão a se sentir seguro em diversos contextos."})]})},{title:"Revisão dos Conceitos",content:s.jsxs("div",{children:[s.jsx(kg,{children:"Pontos principais para revisar:"}),s.jsxs(B1,{children:[s.jsx(U1,{children:"Importância da socialização precoce"}),s.jsx(U1,{children:"Período crítico de desenvolvimento"}),s.jsx(U1,{children:"Exposição gradual e positiva"})]})]})},{title:"Plano de Prática",content:s.jsxs("div",{children:[s.jsx(kg,{children:"Como implementar na prática:"}),s.jsxs(B1,{children:[s.jsx(q1,{children:"Crie uma rotina de socialização"}),s.jsx(q1,{children:"Mantenha sessões curtas e positivas"}),s.jsx(q1,{children:"Registre o progresso do seu cão"})]})]})},{title:"Dicas Finais",content:s.jsxs("div",{children:[s.jsx(kg,{children:"Para um treinamento bem-sucedido:"}),s.jsxs(B1,{children:[s.jsx(W1,{children:"Seja consistente e paciente"}),s.jsx(W1,{children:"Celebre pequenas conquistas"}),s.jsx(W1,{children:"Mantenha o treinamento divertido"})]})]})}],h=async()=>{if(e===d.length-1){localStorage.setItem("socialization6_completed","true"),window.dispatchEvent(new Event("storage")),o(!0);try{if(i){const y={lessonId:"socialization6",moduleId:"socialization",courseId:"9DwWIAtShVCPXyRPSbqF",userId:i.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};Promise.race([a(y),new Promise(_=>setTimeout(_,2e3))]).then(()=>{c({completedLessons:16,currentLevel:"intermediate",lastSession:new Date,totalTime:160}).catch(_=>console.error("Erro ao atualizar dashboard:",_)),l().catch(_=>console.error("Erro ao atualizar dados:",_)),console.log("Progresso da lição Socialization6 salvo com sucesso")}).catch(_=>{console.error("Erro ao salvar progresso da lição:",_)})}}catch(y){console.error("Erro ao processar progresso da lição:",y)}}else n(y=>y+1)},u=()=>{n(y=>y-1)},f=y=>{n(y)},v=()=>{o(!1)},x=()=>{localStorage.setItem("hygiene1_unlocked","true"),localStorage.setItem("hygiene_unlocked","true"),t("/content/training/hygiene")};return s.jsxs(s.Fragment,{children:[s.jsxs(Wge,{children:[s.jsx(Hge,{children:"Consolidação da Socialização"}),s.jsxs(Gge,{children:[d.map((y,_)=>s.jsx(Kge,{active:e===_,children:s.jsxs(Yge,{children:[y.subtitle&&s.jsx(Qge,{children:y.subtitle}),y.content]})},_)),s.jsxs(Jge,{children:[s.jsx(RR,{onClick:u,disabled:e===0,children:"Anterior"}),s.jsx(Zge,{children:d.map((y,_)=>s.jsx(eve,{active:e===_,onClick:()=>f(_)},_))}),s.jsx(RR,{onClick:h,children:e===d.length-1?"Concluir":"Próximo"})]})]})]}),r&&s.jsx(Eu,{onClose:v,onNextModule:x})]})}const DR=m.div`
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
`,nve=m.div`
  text-align: center;
  margin-bottom: 3rem;
`,rve=m.h1`
  font-size: 2.5rem;
  color: #333;
  margin-bottom: 1rem;
`,ove=m.p`
  font-size: 1.2rem;
  color: #666;
  max-width: 800px;
  margin: 0 auto;
`,ive=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
`,sve=m.div`
  background: white;
  border-radius: 10px;
  padding: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-5px);
  }
`,ave=m.h2`
  font-size: 1.5rem;
  color: #333;
  margin-bottom: 1rem;
`,cve=m.p`
  color: #666;
  margin-bottom: 1rem;
`,lve=m.span`
  display: inline-block;
  background: #f0f0f0;
  padding: 0.3rem 0.8rem;
  border-radius: 15px;
  font-size: 0.9rem;
  color: #666;
`;m.button`
  background: #4CAF50;
  color: white;
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.2s;

  &:hover {
    background: #45a049;
  }
`;const dve=()=>{Ue();const[t,e]=g.useState(null),n=[{id:"socialization1",title:"Introdução à Socialização",description:"Aprenda a socializar seu cão com pessoas e outros animais",duration:"15 min",component:Hme,locked:!localStorage.getItem("socialization1_unlocked")==="true"},{id:"socialization2",title:"Socialização com Pessoas",description:"Como apresentar seu cão a diferentes tipos de pessoas",duration:"15 min",component:ige,locked:localStorage.getItem("socialization1_completed")!=="true"},{id:"socialization3",title:"Socialização com Outros Cães",description:"Técnicas para socialização segura com outros cães",duration:"15 min",component:xge,locked:localStorage.getItem("socialization2_completed")!=="true"},{id:"socialization4",title:"Controle de Impulsos",description:"Aprenda a controlar a excitação do seu cão",duration:"15 min",component:Pge,locked:localStorage.getItem("socialization3_completed")!=="true"},{id:"socialization5",title:"Ambientes Desafiadores",description:"Como lidar com diferentes ambientes e situações",duration:"15 min",component:Uge,locked:localStorage.getItem("socialization4_completed")!=="true"},{id:"socialization6",title:"Consolidação e Prática",description:"Prática final e consolidação dos conhecimentos",duration:"15 min",component:tve,locked:localStorage.getItem("socialization5_completed")!=="true"}],r=i=>{e(i)},o=()=>{const i=n.findIndex(a=>a.id===t.id);i<n.length-1&&e(n[i+1])};if(t){const i=t.component;return s.jsx(DR,{children:s.jsx(Sa,{children:s.jsx(i,{onNextLesson:o})})})}return s.jsxs(DR,{children:[s.jsxs(nve,{children:[s.jsx(rve,{children:"Socialização e Controle 🎭"}),s.jsx(ove,{children:"Desenvolva a sociabilidade e o controle de impulsos do seu cão através de técnicas e exercícios práticos."})]}),s.jsx(ive,{children:n.map(i=>s.jsxs(sve,{onClick:()=>!i.locked&&r(i),style:{opacity:i.locked?.5:1,cursor:i.locked?"not-allowed":"pointer",position:"relative"},children:[s.jsxs(ave,{children:[i.title,localStorage.getItem(`${i.id}_completed`)==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsx(cve,{children:i.description}),s.jsx(lve,{children:i.duration}),i.locked&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2rem"},children:"🔒"})]},i.id))})]})},uve="/assets/hygiene1-C_8sVivr.png",hve=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,pve=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,fve=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,mve=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,H1=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,gve=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,vve=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`;m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const xve=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,NR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,bve=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,yve=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;const $R=m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;const wve=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,_ve=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,Cg=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,jg=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,Ag=m.span`
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 2rem;
`,Pg=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
`,Rg=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
`,Eve=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,Dg=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,Ng=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,$g=m.div`
  background: #4299E1;
  color: white;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
`,Og=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
`,Fg=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
`;function Tve({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=[{title:"Introdução à Higiene",content:s.jsxs(s.Fragment,{children:[s.jsx(wve,{src:uve,alt:"Introdução à Higiene"}),s.jsx(vve,{children:"Nesta aula, vamos aprender sobre a importância da higiene regular para a saúde e bem-estar do seu cão."})]})},{title:"Por que a Higiene é Importante?",content:s.jsxs(H1,{children:[s.jsx($R,{children:"Manter seu cão limpo e bem cuidado traz diversos benefícios:"}),s.jsxs(_ve,{children:[s.jsxs(Cg,{children:[s.jsxs(jg,{children:[s.jsx(Ag,{children:"🛁"}),s.jsx(Pg,{children:"Saúde e Prevenção"})]}),s.jsx(Rg,{children:"Reduz o risco de infecções e mantém a pele e pelagem saudáveis"})]}),s.jsxs(Cg,{children:[s.jsxs(jg,{children:[s.jsx(Ag,{children:"👃"}),s.jsx(Pg,{children:"Conforto e Bem-estar"})]}),s.jsx(Rg,{children:"Mantém o cão e o ambiente mais agradáveis, livre de odores"})]}),s.jsxs(Cg,{children:[s.jsxs(jg,{children:[s.jsx(Ag,{children:"💪"}),s.jsx(Pg,{children:"Vínculo e Confiança"})]}),s.jsx(Rg,{children:"Fortalece a relação entre você e seu pet durante os momentos de cuidado"})]}),s.jsxs(Cg,{children:[s.jsxs(jg,{children:[s.jsx(Ag,{children:"🔍"}),s.jsx(Pg,{children:"Monitoramento da Saúde"})]}),s.jsx(Rg,{children:"Permite identificar alterações na pele, pelagem ou comportamento precocemente"})]})]})]})},{title:"Rotina Básica de Higiene",content:s.jsxs(H1,{children:[s.jsx($R,{children:"Estabeleça uma rotina regular de cuidados:"}),s.jsxs(Eve,{children:[s.jsxs(Dg,{children:[s.jsxs(Ng,{children:[s.jsx($g,{children:"1"}),s.jsx(Og,{children:"Escovação Diária"})]}),s.jsx(Fg,{children:"Remove pelos mortos e previne a formação de nós na pelagem"})]}),s.jsxs(Dg,{children:[s.jsxs(Ng,{children:[s.jsx($g,{children:"2"}),s.jsx(Og,{children:"Banho Mensal"})]}),s.jsx(Fg,{children:"Use produtos específicos para cães e mantenha a pele hidratada"})]}),s.jsxs(Dg,{children:[s.jsxs(Ng,{children:[s.jsx($g,{children:"3"}),s.jsx(Og,{children:"Corte de Unhas"})]}),s.jsx(Fg,{children:"Mantenha as unhas curtas e saudáveis para evitar desconforto"})]}),s.jsxs(Dg,{children:[s.jsxs(Ng,{children:[s.jsx($g,{children:"4"}),s.jsx(Og,{children:"Limpeza de Ouvidos"})]}),s.jsx(Fg,{children:"Previne infecções e acúmulo de cera nos ouvidos"})]})]})]})}],l=async()=>{if(e===c.length-1)try{if(localStorage.setItem("hygiene1_completed","true"),window.dispatchEvent(new Event("storage")),r){const u={lessonId:"hygiene1",moduleId:"hygiene",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};await o(u),await i({completedLessons:16,currentLevel:"intermediate",lastSession:new Date,totalTime:175}),await a(),console.log("Progresso da lição Hygiene1 salvo com sucesso")}t()}catch(u){console.error("Erro ao salvar progresso da lição:",u),t()}else n(u=>u+1)},d=()=>{n(u=>Math.max(0,u-1))},h=u=>{n(u)};return s.jsxs(hve,{children:[s.jsxs(pve,{children:["Introdução à Higiene",localStorage.getItem("hygiene1_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(fve,{children:[c.map((u,f)=>s.jsx(mve,{active:e===f,children:s.jsxs(H1,{children:[s.jsx(gve,{children:u.title}),u.content]})},f)),s.jsxs(xve,{children:[s.jsx(NR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(bve,{children:c.map((u,f)=>s.jsx(yve,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(NR,{onClick:l,children:e===c.length-1?"Próxima Aula":"Próximo"})]})]})]})}const Ive="/assets/Hygiene2-CLw6Mcly.png",Sve=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,kve=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Cve=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,jve=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,ah=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Ave=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Pve=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`;m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const Rve=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,OR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Dve=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,Nve=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,$ve=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,ch=m.p`
  font-size: 1.1rem;
  color: #4A5568;
  margin-bottom: 1.5rem;
  text-align: center;
`,FR=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,es=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,ts=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,ns=m.div`
  background: #4299E1;
  color: white;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
`,rs=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
`,os=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
`,Ove=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,Mg=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,Lg=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,Vg=m.span`
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 2rem;
`,zg=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
`,Bg=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
`,MR=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Ma=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;function Fve({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=[{title:"Banho e Tosa",content:s.jsxs(s.Fragment,{children:[s.jsx($ve,{src:Ive,alt:"Cão sendo banhado e tosado"}),s.jsx(Pve,{children:"Nesta aula, vamos aprender sobre a importância do banho e tosa para a saúde e bem-estar do seu cão."})]})},{title:"Preparação para o Banho",content:s.jsxs(ah,{children:[s.jsx(ch,{children:"Antes de começar o banho, é importante preparar tudo corretamente:"}),s.jsxs(FR,{children:[s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"1"}),s.jsx(rs,{children:"Escovação Prévia"})]}),s.jsx(os,{children:"Remova todos os nós e pelos mortos antes do banho"})]}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"2"}),s.jsx(rs,{children:"Produtos Necessários"})]}),s.jsx(os,{children:"Separe shampoo, condicionador e toalhas específicos para cães"})]}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"3"}),s.jsx(rs,{children:"Local Adequado"})]}),s.jsx(os,{children:"Escolha um local seguro, quente e com boa iluminação"})]}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"4"}),s.jsx(rs,{children:"Proteção dos Ouvidos"})]}),s.jsx(os,{children:"Use algodão para proteger os ouvidos da entrada de água"})]})]})]})},{title:"Passo a Passo do Banho",content:s.jsxs(ah,{children:[s.jsx(ch,{children:"Siga estes passos para um banho seguro e eficiente:"}),s.jsxs(FR,{children:[s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"1"}),s.jsx(rs,{children:"Molhe o Cão"})]}),s.jsx(os,{children:"Use água morna e molhe todo o corpo, evitando o rosto"})]}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"2"}),s.jsx(rs,{children:"Aplique o Shampoo"})]}),s.jsx(os,{children:"Massageie suavemente da cabeça à cauda, evitando os olhos"})]}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"3"}),s.jsx(rs,{children:"Enxágue Bem"})]}),s.jsx(os,{children:"Remova todo o shampoo para evitar irritações na pele"})]}),s.jsxs(es,{children:[s.jsxs(ts,{children:[s.jsx(ns,{children:"4"}),s.jsx(rs,{children:"Seque o Cão"})]}),s.jsx(os,{children:"Use toalhas e secador em temperatura baixa, se necessário"})]})]})]})},{title:"Dicas de Tosa",content:s.jsxs(ah,{children:[s.jsx(ch,{children:"Algumas dicas importantes para a tosa do seu cão:"}),s.jsxs(Ove,{children:[s.jsxs(Mg,{children:[s.jsxs(Lg,{children:[s.jsx(Vg,{children:"✂️"}),s.jsx(zg,{children:"Frequência Ideal"})]}),s.jsx(Bg,{children:"A cada 4-6 semanas, dependendo da raça e tipo de pelo"})]}),s.jsxs(Mg,{children:[s.jsxs(Lg,{children:[s.jsx(Vg,{children:"🪒"}),s.jsx(zg,{children:"Equipamentos"})]}),s.jsx(Bg,{children:"Use tesouras e máquinas específicas para cães"})]}),s.jsxs(Mg,{children:[s.jsxs(Lg,{children:[s.jsx(Vg,{children:"👀"}),s.jsx(zg,{children:"Áreas Sensíveis"})]}),s.jsx(Bg,{children:"Tenha cuidado especial com rosto, patas e áreas íntimas"})]}),s.jsxs(Mg,{children:[s.jsxs(Lg,{children:[s.jsx(Vg,{children:"💇"}),s.jsx(zg,{children:"Profissional"})]}),s.jsx(Bg,{children:"Considere um profissional para tosas mais complexas"})]})]})]})},{title:"Resumo e Próximos Passos",content:s.jsxs(ah,{children:[s.jsx(ch,{children:"Parabéns! Você aprendeu sobre como dar banho e tosar seu cão de forma adequada."}),s.jsxs(MR,{children:[s.jsx(Ma,{children:"Prepare-se com antecedência reunindo os produtos e ferramentas necessárias"}),s.jsx(Ma,{children:"Siga a sequência correta: escovação, molhar, aplicar shampoo, enxaguar e secar"}),s.jsx(Ma,{children:"Use produtos específicos para cães e adaptados ao tipo de pelagem"}),s.jsx(Ma,{children:"Mantenha uma rotina consistente de banho e tosa para a saúde da pele e pelo"})]}),s.jsx(ch,{children:"Próximos passos:"}),s.jsxs(MR,{children:[s.jsx(Ma,{children:"Estabeleça uma rotina de banho adequada à raça e necessidade do seu cão"}),s.jsx(Ma,{children:"Pratique a escovação diária para manter a pelagem saudável e livre de nós"}),s.jsx(Ma,{children:"Continue para a próxima aula para aprender sobre outras práticas de higiene importantes"})]})]})}],l=async()=>{if(e===c.length-1)try{if(localStorage.setItem("hygiene2_completed","true"),window.dispatchEvent(new Event("storage")),r){const u={lessonId:"hygiene2",moduleId:"hygiene",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};await o(u),await i({completedLessons:17,currentLevel:"intermediate",lastSession:new Date,totalTime:190}),await a(),console.log("Progresso da lição Hygiene2 salvo com sucesso")}t()}catch(u){console.error("Erro ao salvar progresso da lição:",u),t()}else n(u=>u+1)},d=()=>{e>0&&n(u=>u-1)},h=u=>{n(u)};return s.jsxs(Sve,{children:[s.jsxs(kve,{children:["Banho e Tosa",localStorage.getItem("hygiene2_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(Cve,{children:[c.map((u,f)=>s.jsx(jve,{active:e===f,children:s.jsxs(ah,{children:[s.jsx(Ave,{children:u.title}),u.content]})},f)),s.jsxs(Rve,{children:[s.jsx(OR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(Dve,{children:c.map((u,f)=>s.jsx(Nve,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(OR,{onClick:l,children:e===c.length-1?"Próxima Aula":"Próximo"})]})]})]})}const Mve="/assets/Hygiene3-J_gBjGZo.png",Lve=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Vve=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,zve=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Bve=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,lh=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Uve=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,qve=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`;m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const Wve=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,LR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Hve=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,Gve=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,Kve=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,dh=m.p`
  font-size: 1.1rem;
  color: #4A5568;
  margin-bottom: 1.5rem;
  text-align: center;
`,Yve=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,Ug=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,qg=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,Wg=m.div`
  background: #4299E1;
  color: white;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
`,Hg=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
`,Gg=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
`,VR=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,is=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,ss=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,as=m.span`
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 2rem;
`,cs=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
`,ls=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
`,zR=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,La=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;function Qve({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=[{title:"Corte de Unhas",content:s.jsxs(s.Fragment,{children:[s.jsx(Kve,{src:Mve,alt:"Cão tendo as unhas cortadas"}),s.jsx(qve,{children:"Nesta aula, vamos aprender sobre a importância do corte de unhas para a saúde e bem-estar do seu cão."})]})},{title:"Por que Cortar as Unhas?",content:s.jsxs(lh,{children:[s.jsx(dh,{children:"Manter as unhas do seu cão aparadas é essencial por vários motivos:"}),s.jsxs(VR,{children:[s.jsxs(is,{children:[s.jsxs(ss,{children:[s.jsx(as,{children:"🦶"}),s.jsx(cs,{children:"Conforto"})]}),s.jsx(ls,{children:"Unhas longas causam desconforto ao caminhar e podem deformar as patas"})]}),s.jsxs(is,{children:[s.jsxs(ss,{children:[s.jsx(as,{children:"💪"}),s.jsx(cs,{children:"Saúde"})]}),s.jsx(ls,{children:"Previne problemas articulares e lesões nas patas"})]}),s.jsxs(is,{children:[s.jsxs(ss,{children:[s.jsx(as,{children:"🏠"}),s.jsx(cs,{children:"Proteção"})]}),s.jsx(ls,{children:"Evita arranhões em móveis e pessoas"})]}),s.jsxs(is,{children:[s.jsxs(ss,{children:[s.jsx(as,{children:"🩹"}),s.jsx(cs,{children:"Prevenção"})]}),s.jsx(ls,{children:"Reduz o risco de unhas quebradas e infecções"})]})]})]})},{title:"Como Cortar as Unhas",content:s.jsxs(lh,{children:[s.jsx(dh,{children:"Siga estes passos para um corte de unhas seguro e eficiente:"}),s.jsxs(Yve,{children:[s.jsxs(Ug,{children:[s.jsxs(qg,{children:[s.jsx(Wg,{children:"1"}),s.jsx(Hg,{children:"Preparação"})]}),s.jsx(Gg,{children:"Acostume seu cão ao toque nas patas e ao cortador de unhas"})]}),s.jsxs(Ug,{children:[s.jsxs(qg,{children:[s.jsx(Wg,{children:"2"}),s.jsx(Hg,{children:"Identificação"})]}),s.jsx(Gg,{children:"Localize a parte viva da unha (quick) para evitar cortes dolorosos"})]}),s.jsxs(Ug,{children:[s.jsxs(qg,{children:[s.jsx(Wg,{children:"3"}),s.jsx(Hg,{children:"Corte"})]}),s.jsx(Gg,{children:"Corte em pequenos incrementos, mantendo-se longe da parte viva"})]}),s.jsxs(Ug,{children:[s.jsxs(qg,{children:[s.jsx(Wg,{children:"4"}),s.jsx(Hg,{children:"Finalização"})]}),s.jsx(Gg,{children:"Lixe as bordas para evitar farpas e recompense seu cão"})]})]})]})},{title:"Dicas Importantes",content:s.jsxs(lh,{children:[s.jsx(dh,{children:"Algumas dicas essenciais para o corte de unhas:"}),s.jsxs(VR,{children:[s.jsxs(is,{children:[s.jsxs(ss,{children:[s.jsx(as,{children:"⏰"}),s.jsx(cs,{children:"Frequência"})]}),s.jsx(ls,{children:"Corte a cada 2-4 semanas, dependendo do crescimento"})]}),s.jsxs(is,{children:[s.jsxs(ss,{children:[s.jsx(as,{children:"🔍"}),s.jsx(cs,{children:"Observação"})]}),s.jsx(ls,{children:"Monitore o comportamento do cão durante o processo"})]}),s.jsxs(is,{children:[s.jsxs(ss,{children:[s.jsx(as,{children:"🩹"}),s.jsx(cs,{children:"Emergência"})]}),s.jsx(ls,{children:"Tenha pó hemostático à mão para acidentes"})]}),s.jsxs(is,{children:[s.jsxs(ss,{children:[s.jsx(as,{children:"👨‍⚕️"}),s.jsx(cs,{children:"Profissional"})]}),s.jsx(ls,{children:"Considere um veterinário para cães muito ansiosos"})]})]})]})},{title:"Resumo e Próximos Passos",content:s.jsxs(lh,{children:[s.jsx(dh,{children:"Parabéns! Você aprendeu sobre como cortar as unhas do seu cão de forma adequada."}),s.jsxs(zR,{children:[s.jsx(La,{children:"Manter as unhas do seu cão aparadas é essencial para seu conforto e saúde"}),s.jsx(La,{children:"Use equipamentos adequados e siga a técnica correta para evitar machucados"}),s.jsx(La,{children:"Crie uma rotina de corte regular adaptada às necessidades do seu cão"}),s.jsx(La,{children:"Recompense seu cão após o procedimento para criar associações positivas"})]}),s.jsx(dh,{children:"Próximos passos:"}),s.jsxs(zR,{children:[s.jsx(La,{children:"Estabeleça uma rotina de corte de unhas adequada à sua rotina e do seu cão"}),s.jsx(La,{children:"Combine com outras práticas de higiene para manter seu cão saudável"}),s.jsx(La,{children:"Continue para a próxima aula para aprender sobre limpeza de ouvidos"})]})]})}],l=async()=>{if(e===c.length-1)try{if(localStorage.setItem("hygiene3_completed","true"),window.dispatchEvent(new Event("storage")),r){const u={lessonId:"hygiene3",moduleId:"hygiene",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};await o(u),await i({completedLessons:18,currentLevel:"intermediate",lastSession:new Date,totalTime:205}),await a(),console.log("Progresso da lição Hygiene3 salvo com sucesso")}t()}catch(u){console.error("Erro ao salvar progresso da lição:",u),t()}else n(u=>u+1)},d=()=>{e>0&&n(u=>u-1)},h=u=>{n(u)};return s.jsxs(Lve,{children:[s.jsxs(Vve,{children:["Corte de Unhas",localStorage.getItem("hygiene3_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(zve,{children:[c.map((u,f)=>s.jsx(Bve,{active:e===f,children:s.jsxs(lh,{children:[s.jsx(Uve,{children:u.title}),u.content]})},f)),s.jsxs(Wve,{children:[s.jsx(LR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(Hve,{children:c.map((u,f)=>s.jsx(Gve,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(LR,{onClick:l,children:e===c.length-1?"Próxima Aula":"Próximo"})]})]})]})}const Xve="/assets/Hygiene4-eXG7ke9D.png",Jve=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Zve=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,e0e=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,t0e=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,uh=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,n0e=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,r0e=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`;m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const o0e=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,BR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,i0e=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,s0e=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,a0e=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,hh=m.p`
  font-size: 1.1rem;
  color: #4A5568;
  margin-bottom: 1.5rem;
  text-align: center;
`,c0e=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,Kg=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,Yg=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,Qg=m.div`
  background: #4299E1;
  color: white;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
`,Xg=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
`,Jg=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
`,UR=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,ds=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
`,us=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,hs=m.span`
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 2rem;
`,ps=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
`,fs=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
`,qR=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Va=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;function l0e({onNextLesson:t}){const e=Ue(),[n,r]=g.useState(0),[o,i]=g.useState(!1),{user:a}=Ee(),{addDocument:c}=Ve("progress"),{updateTraining:l,refreshData:d}=Ye(),h=[{title:"Limpeza de Ouvidos",content:s.jsxs(s.Fragment,{children:[s.jsx(a0e,{src:Xve,alt:"Cão tendo os ouvidos limpos"}),s.jsx(r0e,{children:"Nesta aula, vamos aprender sobre a importância da limpeza de ouvidos para a saúde e bem-estar do seu cão."})]})},{title:"Por que Limpar os Ouvidos?",content:s.jsxs(uh,{children:[s.jsx(hh,{children:"A limpeza regular dos ouvidos é essencial por vários motivos:"}),s.jsxs(UR,{children:[s.jsxs(ds,{children:[s.jsxs(us,{children:[s.jsx(hs,{children:"👂"}),s.jsx(ps,{children:"Prevenção"})]}),s.jsx(fs,{children:"Evita infecções e acúmulo de cera nos ouvidos"})]}),s.jsxs(ds,{children:[s.jsxs(us,{children:[s.jsx(hs,{children:"🦮"}),s.jsx(ps,{children:"Conforto"})]}),s.jsx(fs,{children:"Reduz coceira e desconforto causados por sujeira"})]}),s.jsxs(ds,{children:[s.jsxs(us,{children:[s.jsx(hs,{children:"👃"}),s.jsx(ps,{children:"Saúde"})]}),s.jsx(fs,{children:"Previne problemas auditivos e otites"})]}),s.jsxs(ds,{children:[s.jsxs(us,{children:[s.jsx(hs,{children:"🔍"}),s.jsx(ps,{children:"Monitoramento"})]}),s.jsx(fs,{children:"Permite identificar problemas precocemente"})]})]})]})},{title:"Como Limpar os Ouvidos",content:s.jsxs(uh,{children:[s.jsx(hh,{children:"Siga estes passos para uma limpeza segura e eficiente:"}),s.jsxs(c0e,{children:[s.jsxs(Kg,{children:[s.jsxs(Yg,{children:[s.jsx(Qg,{children:"1"}),s.jsx(Xg,{children:"Inspeção"})]}),s.jsx(Jg,{children:"Verifique se há vermelhidão, odor ou secreção"})]}),s.jsxs(Kg,{children:[s.jsxs(Yg,{children:[s.jsx(Qg,{children:"2"}),s.jsx(Xg,{children:"Limpeza Externa"})]}),s.jsx(Jg,{children:"Use um pano úmido para limpar a parte externa do ouvido"})]}),s.jsxs(Kg,{children:[s.jsxs(Yg,{children:[s.jsx(Qg,{children:"3"}),s.jsx(Xg,{children:"Limpeza Interna"})]}),s.jsx(Jg,{children:"Aplique o produto de limpeza e massageie suavemente"})]}),s.jsxs(Kg,{children:[s.jsxs(Yg,{children:[s.jsx(Qg,{children:"4"}),s.jsx(Xg,{children:"Finalização"})]}),s.jsx(Jg,{children:"Deixe o cão sacudir a cabeça e limpe o excesso"})]})]})]})},{title:"Dicas Importantes",content:s.jsxs(uh,{children:[s.jsx(hh,{children:"Algumas dicas essenciais para a limpeza de ouvidos:"}),s.jsxs(UR,{children:[s.jsxs(ds,{children:[s.jsxs(us,{children:[s.jsx(hs,{children:"⏰"}),s.jsx(ps,{children:"Frequência"})]}),s.jsx(fs,{children:"Limpe a cada 1-2 semanas, dependendo da raça"})]}),s.jsxs(ds,{children:[s.jsxs(us,{children:[s.jsx(hs,{children:"⚠️"}),s.jsx(ps,{children:"Cuidados"})]}),s.jsx(fs,{children:"Nunca use cotonetes ou objetos pontiagudos"})]}),s.jsxs(ds,{children:[s.jsxs(us,{children:[s.jsx(hs,{children:"💧"}),s.jsx(ps,{children:"Produtos"})]}),s.jsx(fs,{children:"Use apenas produtos específicos para cães"})]}),s.jsxs(ds,{children:[s.jsxs(us,{children:[s.jsx(hs,{children:"👨‍⚕️"}),s.jsx(ps,{children:"Profissional"})]}),s.jsx(fs,{children:"Consulte um veterinário se notar algo anormal"})]})]})]})},{title:"Resumo e Próximos Passos",content:s.jsxs(uh,{children:[s.jsx(hh,{children:"Parabéns! Você aprendeu sobre como limpar as orelhas do seu cão de forma segura e eficaz."}),s.jsxs(qR,{children:[s.jsx(Va,{children:"A limpeza regular dos ouvidos previne infecções e aumenta o conforto do seu cão"}),s.jsx(Va,{children:"Siga os passos corretos: inspeção, limpeza externa, aplicação do produto e finalização"}),s.jsx(Va,{children:"Use apenas produtos veterinários específicos para cães"}),s.jsx(Va,{children:"Esteja atento a sinais de infecção ou desconforto"})]}),s.jsx(hh,{children:"Próximos passos:"}),s.jsxs(qR,{children:[s.jsx(Va,{children:"Estabeleça uma rotina de limpeza, baseada nas necessidades específicas do seu cão"}),s.jsx(Va,{children:"Inclua a limpeza dos ouvidos como parte da higiene geral do seu pet"}),s.jsx(Va,{children:"Continue para o próximo módulo para aprender sobre o controle de maus hábitos"})]})]})}],u=async()=>{if(n===h.length-1)try{if(localStorage.setItem("hygiene4_completed","true"),localStorage.setItem("badhabits1_unlocked","true"),window.dispatchEvent(new Event("storage")),i(!0),a)try{const _={lessonId:"hygiene4",moduleId:"hygiene",courseId:"9DwWIAtShVCPXyRPSbqF",userId:a.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};Promise.race([c(_),new Promise(w=>setTimeout(w,3e3))]).then(()=>{l({completedLessons:19,currentLevel:"intermediate",lastSession:new Date,totalTime:220,unlockedModules:["startHere","hygiene","badhabits"]}).catch(w=>console.error("Erro ao atualizar dashboard:",w)),d().catch(w=>console.error("Erro ao atualizar dados:",w)),console.log("Progresso da lição Hygiene4 salvo com sucesso")}).catch(w=>{console.error("Erro ao salvar progresso da lição:",w)})}catch(_){console.error("Erro ao processar progresso da lição:",_)}}catch(_){console.error("Erro ao salvar progresso da lição:",_),i(!0)}else r(_=>(_+1)%h.length)},f=()=>{r(_=>(_-1+h.length)%h.length)},v=_=>{r(_)},x=()=>{i(!1)},y=()=>{localStorage.setItem("badhabits1_unlocked","true"),localStorage.setItem("badhabits_unlocked","true"),localStorage.setItem("startHere","true"),window.dispatchEvent(new Event("storage")),a&&l({completedLessons:19,currentLevel:"intermediate",lastSession:new Date,totalTime:220,unlockedModules:["startHere","hygiene","badhabits"]}).catch(_=>console.error("Erro ao atualizar dashboard:",_)),e("/content/training/badhabits")};return s.jsxs(Jve,{children:[s.jsxs(Zve,{children:["Limpeza de Ouvidos",localStorage.getItem("hygiene4_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(e0e,{children:[h.map((_,w)=>s.jsx(t0e,{active:n===w,children:s.jsxs(uh,{children:[s.jsx(n0e,{children:_.title}),_.content]})},w)),s.jsxs(o0e,{children:[s.jsx(BR,{onClick:f,disabled:n===0,children:"Anterior"}),s.jsx(i0e,{children:h.map((_,w)=>s.jsx(s0e,{active:n===w,onClick:()=>v(w)},w))}),s.jsx(BR,{onClick:u,children:n===h.length-1?"Concluir":"Próximo"})]})]}),o&&s.jsx(Eu,{onClose:x,onNextModule:y})]})}const d0e=m.div`
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
`,u0e=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
`,h0e=m.h1`
  font-size: 2.5rem;
  color: #333;
`,p0e=m.p`
  color: #666;
  margin-bottom: 2rem;
  font-size: 1.1rem;
`,f0e=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
`,m0e=m.div`
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-2px);
  }
`,g0e=m.h2`
  font-size: 1.25rem;
  color: #333;
  margin-bottom: 0.75rem;
`,v0e=m.p`
  color: #666;
  font-size: 1rem;
  line-height: 1.5;
  margin-bottom: 1rem;
`,x0e=m.span`
  color: #007bff;
  font-size: 0.875rem;
  font-weight: 500;
`,b0e=m.button`
  padding: 0.75rem 1.5rem;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`,y0e=m(b0e)`
  background-color: #6c757d;
  margin-right: 1rem;

  &:hover {
    background-color: #5a6268;
  }
`,WR=bf.find(t=>t.id==="hygiene");function w0e(){const t=Ue(),[e,n]=g.useState(null),r=[{id:"hygiene1",title:"Introdução à Higiene",description:"Aprenda a importância da higiene para seu cão",duration:"15 min",component:Tve,locked:!localStorage.getItem("hygiene1_unlocked")==="true"},{id:"hygiene2",title:"Banho e Tosa",description:"Como dar banho e tosar seu cão corretamente",duration:"15 min",component:Fve,locked:localStorage.getItem("hygiene1_completed")!=="true"},{id:"hygiene3",title:"Escovação e Cuidados",description:"Técnicas de escovação e cuidados diários",duration:"15 min",component:Qve,locked:localStorage.getItem("hygiene2_completed")!=="true"},{id:"hygiene4",title:"Consolidação e Prática",description:"Prática final e consolidação dos conhecimentos",duration:"15 min",component:l0e,locked:localStorage.getItem("hygiene3_completed")!=="true"}],o=c=>{n(c)},i=()=>{const c=r.findIndex(l=>l.id===e.id);c<r.length-1&&n(r[c+1])},a=()=>{e?n(null):t("/content/training")};if(e){const c=e.component;return s.jsx(Sa,{children:s.jsx(c,{onBack:a,onNextLesson:i})})}return s.jsxs(d0e,{children:[s.jsxs(u0e,{children:[s.jsx(y0e,{onClick:a,children:"Voltar"}),s.jsx(h0e,{children:WR.title})]}),s.jsx(p0e,{children:WR.description}),s.jsx(f0e,{children:r.map(c=>s.jsxs(m0e,{onClick:()=>!c.locked&&o(c),style:{opacity:c.locked?.5:1,cursor:c.locked?"not-allowed":"pointer",position:"relative"},children:[s.jsxs(g0e,{children:[c.title,localStorage.getItem(`${c.id}_completed`)==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsx(v0e,{children:c.description}),s.jsx(x0e,{children:c.duration}),c.locked&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2rem"},children:"🔒"})]},c.id))})]})}const _0e="/assets/badhabits1-B_Dsj0KO.png",E0e=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,T0e=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,I0e=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,S0e=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,k0e=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,C0e=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,j0e=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;const ph=m.p`
  font-size: 1.1rem;
  color: #4A5568;
  margin-bottom: 1.5rem;
  text-align: center;
`,HR=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,ms=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
`,gs=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,vs=m.div`
  background: #4299E1;
  color: white;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
`,xs=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
  font-weight: 600;
`,bs=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
  font-size: 0.95rem;
`,A0e=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,GR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,P0e=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,R0e=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;const G1=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,br=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,D0e=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,K1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const N0e=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;function $0e({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye();Ue();const c=[{title:"Bem-vindo à Aula!",content:s.jsxs(s.Fragment,{children:[s.jsx(N0e,{src:_0e,alt:"Cão com brinquedos apropriados para mastigação"}),s.jsx(j0e,{children:"Nesta aula, vamos aprender como redirecionar o comportamento de mordidas e mastigação excessiva para brinquedos adequados."})]})},{title:"Por que ensinar?",content:s.jsxs(s.Fragment,{children:[s.jsx(ph,{children:"Por que é importante redirecionar o comportamento de mordidas e mastigação:"}),s.jsxs(HR,{children:[s.jsxs(ms,{children:[s.jsxs(gs,{children:[s.jsx(vs,{children:"1"}),s.jsx(xs,{children:"Comportamento Natural"})]}),s.jsx(bs,{children:"Cães usam a boca como principal ferramenta para explorar o ambiente, sendo um comportamento instintivo e essencial para seu desenvolvimento."})]}),s.jsxs(ms,{children:[s.jsxs(gs,{children:[s.jsx(vs,{children:"2"}),s.jsx(xs,{children:"Prevenção de Danos"})]}),s.jsx(bs,{children:"Evitar danos a móveis, roupas e objetos pessoais, além de prevenir acidentes com materiais perigosos que possam ser ingeridos."})]}),s.jsxs(ms,{children:[s.jsxs(gs,{children:[s.jsx(vs,{children:"3"}),s.jsx(xs,{children:"Saúde Bucal"})]}),s.jsx(bs,{children:"Promover a saúde bucal através da mastigação de brinquedos apropriados, que ajudam na limpeza dos dentes e no fortalecimento da mandíbula."})]}),s.jsxs(ms,{children:[s.jsxs(gs,{children:[s.jsx(vs,{children:"4"}),s.jsx(xs,{children:"Bem-estar Mental"})]}),s.jsx(bs,{children:"Reduzir o estresse e a ansiedade através de comportamentos de mastigação saudáveis, proporcionando uma válvula de escape natural para o cão."})]})]})]})},{title:"Métodos de Treinamento",content:s.jsxs(s.Fragment,{children:[s.jsx(ph,{children:"Como redirecionar o comportamento de mordidas e mastigação:"}),s.jsxs(HR,{children:[s.jsxs(ms,{children:[s.jsxs(gs,{children:[s.jsx(vs,{children:"1"}),s.jsx(xs,{children:"Brinquedos Apropriados"})]}),s.jsx(bs,{children:"Ofereça brinquedos específicos para mastigação, como ossos de borracha ou brinquedos interativos, que sejam seguros e atrativos para o cão."})]}),s.jsxs(ms,{children:[s.jsxs(gs,{children:[s.jsx(vs,{children:"2"}),s.jsx(xs,{children:"Redirecionamento"})]}),s.jsx(bs,{children:"Quando o cão começar a morder algo inadequado, redirecione-o gentilmente para um brinquedo apropriado e recompense-o quando ele aceitar."})]}),s.jsxs(ms,{children:[s.jsxs(gs,{children:[s.jsx(vs,{children:"3"}),s.jsx(xs,{children:"Consistência"})]}),s.jsx(bs,{children:"Mantenha uma rotina consistente de oferecer brinquedos apropriados e recompensar o comportamento correto, reforçando positivamente as escolhas certas."})]}),s.jsxs(ms,{children:[s.jsxs(gs,{children:[s.jsx(vs,{children:"4"}),s.jsx(xs,{children:"Ambiente Seguro"})]}),s.jsx(bs,{children:"Mantenha objetos valiosos ou perigosos fora do alcance do cão e crie um ambiente onde ele possa explorar e mastigar com segurança."})]})]})]})},{title:"Dicas Importantes",content:s.jsxs(s.Fragment,{children:[s.jsx(ph,{children:"Recomendações para o sucesso do treinamento:"}),s.jsxs(G1,{children:[s.jsx(br,{children:"Ofereça uma variedade de brinquedos com diferentes texturas e formatos para manter o interesse do cão"}),s.jsx(br,{children:"Nunca use as mãos ou outras partes do corpo como brinquedos de mordida, para não confundir o cão"}),s.jsx(br,{children:"Lembre-se que filhotes tem necessidades maiores de mastigar durante a fase de dentição"}),s.jsx(br,{children:"Elogie efusivamente quando o cão escolher o brinquedo certo para mastigar"}),s.jsx(br,{children:"Brinquedos com petiscos escondidos podem ajudar a aumentar o interesse pelos itens apropriados"})]}),s.jsxs(D0e,{children:[s.jsx(K1,{children:"Evite brinquedos muito pequenos que possam ser engolidos ou causar asfixia"}),s.jsx(K1,{children:'Não ceda e permita a mastigação inapropriada "só desta vez", pois isso confunde o treinamento'}),s.jsx(K1,{children:"Supervisione sempre o uso de brinquedos novos até ter certeza de que são seguros"})]})]})},{title:"Resumo",content:s.jsxs(s.Fragment,{children:[s.jsx(ph,{children:"Parabéns! Você aprendeu sobre como redirecionar o comportamento de mordidas e mastigação do seu cão."}),s.jsxs(G1,{children:[s.jsx(br,{children:"A mastigação é um comportamento natural dos cães e deve ser direcionada corretamente"}),s.jsx(br,{children:"Oferecer brinquedos apropriados ajuda a proteger seus pertences e promover a saúde do cão"}),s.jsx(br,{children:"A consistência e o reforço positivo são essenciais para o sucesso do treinamento"}),s.jsx(br,{children:"Criar um ambiente seguro ajuda a prevenir acidentes e facilita o aprendizado"}),s.jsx(br,{children:"Com paciência e prática, seu cão aprenderá o que é apropriado para mastigar"})]}),s.jsx(ph,{children:"Próximos passos:"}),s.jsxs(G1,{children:[s.jsx(br,{children:"Estabeleça uma rotina para oferecer brinquedos apropriados ao seu cão"}),s.jsx(br,{children:"Mantenha a consistência no redirecionamento de comportamentos inadequados"}),s.jsx(br,{children:"Continue para a próxima lição para aprender mais sobre bons hábitos"})]})]})}],l=async()=>{if(e===c.length-1)try{if(localStorage.setItem("badhabits1_completed","true"),localStorage.setItem("badhabits2_unlocked","true"),window.dispatchEvent(new Event("storage")),r)try{const u={lessonId:"badhabits1",moduleId:"badhabits",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:20,currentLevel:"intermediate",lastSession:new Date,totalTime:235,unlockedModules:["startHere","hygiene","badhabits"]}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição BadHabits1 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}catch(u){console.error("Erro ao processar progresso da lição:",u)}t()}catch(u){console.error("Erro ao salvar progresso da lição:",u),t()}else n(u=>(u+1)%c.length)},d=()=>{n(u=>(u-1+c.length)%c.length)},h=u=>{n(u)};return s.jsxs(E0e,{children:[s.jsxs(T0e,{children:["Mordidas e Mastigação Excessiva",localStorage.getItem("badhabits1_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(I0e,{children:[c.map((u,f)=>s.jsx(S0e,{active:e===f,children:s.jsxs(k0e,{children:[s.jsx(C0e,{children:u.title}),u.content]})},f)),s.jsxs(A0e,{children:[s.jsx(GR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(P0e,{children:c.map((u,f)=>s.jsx(R0e,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(GR,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})}const O0e="/assets/badhabits2-BMLGxhmU.png",F0e=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,M0e=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,L0e=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,V0e=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,z0e=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,B0e=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,U0e=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,fh=m.p`
  font-size: 1.1rem;
  color: #4A5568;
  margin-bottom: 1.5rem;
  text-align: center;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;const KR=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,uo=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
`,ho=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,po=m.div`
  background: #4299E1;
  color: white;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
`,fo=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
  font-weight: 600;
`,mo=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
  font-size: 0.95rem;
`,q0e=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,YR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,W0e=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,H0e=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,QR=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,ys=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,G0e=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Y1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,K0e=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,mh=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Y0e=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;function Q0e({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye();Ue();const c=[{title:"Bem-vindo à Aula!",content:s.jsxs(s.Fragment,{children:[s.jsx(Y0e,{src:O0e,alt:"Cão esperando pacientemente durante refeição"}),s.jsx(U0e,{children:"Nesta aula, vamos aprender como ensinar seu cão a não roubar comida da mesa e a esperar pacientemente durante as refeições."})]})},{title:"Por que ensinar?",content:s.jsxs(s.Fragment,{children:[s.jsx(fh,{children:"Razões para ensinar seu cão a não roubar comida:"}),s.jsxs(KR,{children:[s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"1"}),s.jsx(fo,{children:"Segurança Alimentar"})]}),s.jsx(mo,{children:"Prevenir o acesso a alimentos perigosos ou tóxicos para cães, como chocolate, cebola e uvas, que podem causar sérios problemas de saúde."})]}),s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"2"}),s.jsx(fo,{children:"Comportamento Social"})]}),s.jsx(mo,{children:"Evitar situações constrangedoras durante visitas ou refeições em família, mantendo um ambiente harmonioso e seguro para todos."})]}),s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"3"}),s.jsx(fo,{children:"Saúde Digestiva"})]}),s.jsx(mo,{children:"Prevenir problemas digestivos causados por alimentos inadequados ou em excesso, mantendo uma dieta balanceada e controlada."})]}),s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"4"}),s.jsx(fo,{children:"Limites e Respeito"})]}),s.jsx(mo,{children:"Estabelecer limites claros de comportamento, ensinando o cão a respeitar o espaço e os momentos das refeições da família."})]}),s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"5"}),s.jsx(fo,{children:"Bem-estar Geral"})]}),s.jsx(mo,{children:"Promover um ambiente mais tranquilo e organizado, reduzindo o estresse tanto para o cão quanto para os membros da família."})]})]})]})},{title:"Métodos de Treinamento",content:s.jsxs(s.Fragment,{children:[s.jsx(fh,{children:"Estratégias eficazes para evitar o roubo de comida:"}),s.jsxs(KR,{children:[s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"1"}),s.jsx(fo,{children:"Local de Descanso"})]}),s.jsx(mo,{children:"Ensine seu cão a ficar em um tapete ou cama específica durante as refeições. Este local deve ser confortável e estar a uma distância segura da mesa."})]}),s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"2"}),s.jsx(fo,{children:"Comandos de Controle"})]}),s.jsx(mo,{children:'Use comandos claros como "Fica" ou "Espera" para manter o cão no lugar. Pratique estes comandos em diferentes situações para reforçar o comportamento.'})]}),s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"3"}),s.jsx(fo,{children:"Reforço Positivo"})]}),s.jsx(mo,{children:"Recompense o cão com petiscos e elogios quando ele permanecer no local designado. O timing da recompensa é crucial para o aprendizado."})]}),s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"4"}),s.jsx(fo,{children:"Ignorar Comportamentos Indesejados"})]}),s.jsx(mo,{children:"Não dê atenção quando o cão tentar roubar comida. Ignorar completamente o comportamento indesejado ajuda a extinguir este hábito."})]}),s.jsxs(uo,{children:[s.jsxs(ho,{children:[s.jsx(po,{children:"5"}),s.jsx(fo,{children:"Consistência na Família"})]}),s.jsx(mo,{children:"Todos na casa devem seguir as mesmas regras e comandos. A consistência é fundamental para o sucesso do treinamento."})]})]})]})},{title:"Exercício Prático",content:s.jsxs(s.Fragment,{children:[s.jsx(fh,{children:"Vamos praticar este treinamento seguindo estas etapas:"}),s.jsxs(K0e,{children:[s.jsx(mh,{"data-step":"1",children:"Escolha um local específico onde seu cão deve permanecer durante as refeições"}),s.jsx(mh,{"data-step":"2",children:'Antes das refeições, leve seu cão para este local e use o comando "Fica"'}),s.jsx(mh,{"data-step":"3",children:"Comece com períodos curtos e vá aumentando gradualmente o tempo de espera"}),s.jsx(mh,{"data-step":"4",children:"Recompense com petiscos e elogios quando ele permanecer no local designado"}),s.jsx(mh,{"data-step":"5",children:"Se o cão se levantar, gentilmente retorne-o ao lugar e repita o comando"})]}),s.jsxs(G0e,{children:[s.jsx(Y1,{children:"Nunca puna o cão por se aproximar da mesa; apenas redirecione-o"}),s.jsx(Y1,{children:"Não ofereça alimentos da mesa, para não confundir o treinamento"}),s.jsx(Y1,{children:"Mantenha a consistência mesmo quando receber visitas"})]})]})},{title:"Resumo",content:s.jsxs(s.Fragment,{children:[s.jsx(fh,{children:"Parabéns! Você aprendeu sobre como evitar que seu cão roube comida da mesa."}),s.jsxs(QR,{children:[s.jsx(ys,{children:"Ensinar o cão a não roubar comida é essencial para sua segurança e saúde"}),s.jsx(ys,{children:"Estabelecer um local de descanso durante refeições ajuda a criar limites claros"}),s.jsx(ys,{children:"O reforço positivo é mais eficaz que a punição neste tipo de treinamento"}),s.jsx(ys,{children:"A consistência de todos os membros da família é fundamental para o sucesso"}),s.jsx(ys,{children:"Com paciência e prática, seu cão aprenderá a se comportar adequadamente durante as refeições"})]}),s.jsx(fh,{children:"Próximos passos:"}),s.jsxs(QR,{children:[s.jsx(ys,{children:"Pratique diariamente durante as refeições, aumentando gradualmente a dificuldade"}),s.jsx(ys,{children:"Continue reforçando positivamente o comportamento desejado"}),s.jsx(ys,{children:"Prossiga para a próxima lição sobre como lidar com medo e insegurança em cães"})]})]})}],l=async()=>{if(e===c.length-1)try{if(localStorage.setItem("badhabits2_completed","true"),localStorage.setItem("badhabits3_unlocked","true"),window.dispatchEvent(new Event("storage")),r)try{const u={lessonId:"badhabits2",moduleId:"badhabits",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:21,currentLevel:"intermediate",lastSession:new Date,totalTime:250,unlockedModules:["startHere","hygiene","badhabits"]}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição BadHabits2 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}catch(u){console.error("Erro ao processar progresso da lição:",u)}t()}catch(u){console.error("Erro ao salvar progresso da lição:",u),t()}else n(u=>(u+1)%c.length)},d=()=>{n(u=>(u-1+c.length)%c.length)},h=u=>{n(u)};return s.jsxs(F0e,{children:[s.jsxs(M0e,{children:["Evitar Roubo de Comida da Mesa",localStorage.getItem("badhabits2_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(L0e,{children:[c.map((u,f)=>s.jsx(V0e,{active:e===f,children:s.jsxs(z0e,{children:[s.jsx(B0e,{children:u.title}),u.content]})},f)),s.jsxs(q0e,{children:[s.jsx(YR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(W0e,{children:c.map((u,f)=>s.jsx(H0e,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(YR,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})}const X0e="/assets/badhabits3-cjyW2J0m.png",J0e=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Z0e=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,exe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,txe=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,nxe=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2.5rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,rxe=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,oxe=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,gh=m.p`
  font-size: 1.1rem;
  color: #4A5568;
  margin-bottom: 1.5rem;
  text-align: center;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;const XR=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
`,Ho=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
`,Go=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,Ko=m.div`
  background: #4299E1;
  color: white;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
`,Yo=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
  font-weight: 600;
`,Qo=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
  font-size: 0.95rem;
`,ixe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,JR=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,sxe=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,axe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,ZR=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,ws=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,cxe=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Q1=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,lxe=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,vh=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,dxe=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;function uxe({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye();Ue();const c=[{title:"Bem-vindo à Aula!",content:s.jsxs(s.Fragment,{children:[s.jsx(dxe,{src:X0e,alt:"Cão pulando em pessoas"}),s.jsx(oxe,{children:"Nesta aula, vamos aprender técnicas eficazes para ensinar seu cão a não pular nas pessoas, um comportamento comum que pode ser incômodo e até perigoso em algumas situações."})]})},{title:"Por que ensinar?",content:s.jsxs(s.Fragment,{children:[s.jsx(gh,{children:"Por que é importante ensinar seu cão a não pular nas pessoas:"}),s.jsxs(XR,{children:[s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"1"}),s.jsx(Yo,{children:"Segurança"})]}),s.jsx(Qo,{children:"Previne acidentes e lesões, especialmente com pessoas mais vulneráveis como crianças pequenas e idosos."})]}),s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"2"}),s.jsx(Yo,{children:"Bom Comportamento"})]}),s.jsx(Qo,{children:"Ensina o cão a interagir de forma mais educada e controlada com pessoas, melhorando sua aceitação social."})]}),s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"3"}),s.jsx(Yo,{children:"Socialização"})]}),s.jsx(Qo,{children:"Facilita a aceitação do cão em diferentes ambientes e situações, permitindo que ele seja bem-vindo em mais lugares."})]}),s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"4"}),s.jsx(Yo,{children:"Bem-estar"})]}),s.jsx(Qo,{children:"Reduz o estresse tanto para o cão quanto para as pessoas ao redor, criando interações mais tranquilas e agradáveis."})]})]})]})},{title:"Passo a Passo",content:s.jsxs(s.Fragment,{children:[s.jsx(gh,{children:"Como ensinar seu cão a não pular nas pessoas:"}),s.jsxs(XR,{children:[s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"1"}),s.jsx(Yo,{children:"Ignore o comportamento indesejado"})]}),s.jsx(Qo,{children:"Vire as costas quando o cão pular e só dê atenção quando ele estiver com as quatro patas no chão."})]}),s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"2"}),s.jsx(Yo,{children:'Ensine o comando "Senta"'})]}),s.jsx(Qo,{children:"Recompense quando o cão se sentar ao invés de pular, criando uma alternativa positiva ao comportamento indesejado."})]}),s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"3"}),s.jsx(Yo,{children:"Pratique em diferentes situações"})]}),s.jsx(Qo,{children:"Treine com diferentes pessoas e em diferentes ambientes para generalizar o comportamento desejado."})]}),s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"4"}),s.jsx(Yo,{children:"Use reforço positivo"})]}),s.jsx(Qo,{children:"Elogie e recompense quando o cão se comportar adequadamente, fortalecendo o comportamento correto."})]}),s.jsxs(Ho,{children:[s.jsxs(Go,{children:[s.jsx(Ko,{children:"5"}),s.jsx(Yo,{children:"Mantenha a consistência"})]}),s.jsx(Qo,{children:"Todos na casa devem seguir as mesmas regras para não confundir o cão durante o processo de aprendizagem."})]})]})]})},{title:"Técnicas Eficazes",content:s.jsxs(s.Fragment,{children:[s.jsx(gh,{children:"Técnicas complementares para evitar que o cão pule nas pessoas:"}),s.jsxs(lxe,{children:[s.jsx(vh,{"data-step":"1",children:"Treine o cão para se sentar quando alguém chegar, recompensando esse comportamento"}),s.jsx(vh,{"data-step":"2",children:"Mantenha o cão na guia durante o treinamento inicial para melhor controle"}),s.jsx(vh,{"data-step":"3",children:"Peça a visitantes para ignorar o cão até que ele se acalme"}),s.jsx(vh,{"data-step":"4",children:"Ofereça um brinquedo para o cão segurar na boca, evitando que ele pule"}),s.jsx(vh,{"data-step":"5",children:"Reduza a excitação antes das visitas com uma caminhada ou sessão de brincadeiras"})]}),s.jsxs(cxe,{children:[s.jsx(Q1,{children:"Nunca use punição física, pois isso pode aumentar a ansiedade e piorar o comportamento"}),s.jsx(Q1,{children:"Não reforce o comportamento de pular dando atenção, mesmo que seja negativa"}),s.jsx(Q1,{children:"Evite empurrar o cão, pois ele pode interpretar como uma brincadeira"})]})]})},{title:"Resumo",content:s.jsxs(s.Fragment,{children:[s.jsx(gh,{children:"Parabéns! Você aprendeu como ensinar seu cão a não pular nas pessoas."}),s.jsxs(ZR,{children:[s.jsx(ws,{children:"Evitar que o cão pule nas pessoas é importante para a segurança e o bem-estar de todos"}),s.jsx(ws,{children:"A técnica principal consiste em ignorar o comportamento indesejado e recompensar a calma"}),s.jsx(ws,{children:'Ensinar comandos alternativos como "sentar" oferece ao cão uma forma apropriada de buscar atenção'}),s.jsx(ws,{children:"A consistência e a paciência são fundamentais para o sucesso do treinamento"}),s.jsx(ws,{children:"Com prática regular, seu cão aprenderá a cumprimentar pessoas de forma educada e controlada"})]}),s.jsx(gh,{children:"Próximos passos:"}),s.jsxs(ZR,{children:[s.jsx(ws,{children:"Pratique diariamente com diferentes pessoas e em diferentes situações"}),s.jsx(ws,{children:"Aumente gradualmente o nível de excitação durante os treinos"}),s.jsx(ws,{children:"Continue para a próxima lição sobre como lidar com ansiedade de separação"})]})]})}],l=async()=>{if(e===c.length-1)try{if(localStorage.setItem("badhabits3_completed","true"),localStorage.setItem("badhabits4_unlocked","true"),window.dispatchEvent(new Event("storage")),r)try{const u={lessonId:"badhabits3",moduleId:"badhabits",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:15};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:22,currentLevel:"intermediate",lastSession:new Date,totalTime:265,unlockedModules:["startHere","hygiene","badhabits"]}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição BadHabits3 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}catch(u){console.error("Erro ao processar progresso da lição:",u)}t()}catch(u){console.error("Erro ao salvar progresso da lição:",u),t()}else n(u=>(u+1)%c.length)},d=()=>{n(u=>(u-1+c.length)%c.length)},h=u=>{n(u)};return s.jsxs(J0e,{children:[s.jsxs(Z0e,{children:["Ensinando o Cão a Não Pular nas Pessoas",localStorage.getItem("badhabits3_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(exe,{children:[c.map((u,f)=>s.jsx(txe,{active:e===f,children:s.jsxs(nxe,{children:[s.jsx(rxe,{children:u.title}),u.content]})},f)),s.jsxs(ixe,{children:[s.jsx(JR,{onClick:d,disabled:e===0,children:"Anterior"}),s.jsx(sxe,{children:c.map((u,f)=>s.jsx(axe,{active:e===f,onClick:()=>h(f)},f))}),s.jsx(JR,{onClick:l,children:e===c.length-1?"Concluir":"Próximo"})]})]})]})}const hxe="/assets/badhabits4-B1-vW7h4.png",pxe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,fxe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,mxe=m.div`
  position: relative;
  width: 100%;
  height: 500px;
  overflow: hidden;
`,X1=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.5s ease-in-out;
  padding: 2rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  visibility: ${t=>t.active?"visible":"hidden"};
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,J1=m.h2`
  font-size: 1.5rem;
  color: #2D3748;
  margin-bottom: 1.5rem;
  text-align: center;
`,gxe=m.p`
  color: #4A5568;
  margin-bottom: 1rem;
  line-height: 1.6;
`,eD=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1rem;
  padding-bottom: 2rem;
`,Xo=m.div`
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
`,Jo=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 0.75rem;
`,Zo=m.div`
  background: #4299E1;
  color: white;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1rem;
`,ei=m.h4`
  margin: 0;
  color: #2D3748;
  font-size: 1.1rem;
  font-weight: 600;
`,ti=m.p`
  color: #4A5568;
  margin: 0;
  line-height: 1.5;
  font-size: 0.95rem;
`,vxe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
`,tD=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,xxe=m.div`
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,bxe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,yxe=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`,wxe=m.img`
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
`,_xe=m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;function Exe({onNextLesson:t}){const e=Ue(),[n,r]=g.useState(0),[o,i]=g.useState(!1),{user:a}=Ee(),{addDocument:c}=Ve("progress"),{updateTraining:l}=Ye(),d=async()=>{n===2?(localStorage.setItem("badhabits4_completed","true"),window.dispatchEvent(new Event("storage")),i(!0),t()):r(x=>(x+1)%3)},h=()=>{r(x=>(x-1+3)%3)},u=x=>{x>=0&&x<3&&r(x)},f=()=>{i(!1)},v=async()=>{if(localStorage.setItem("mental1_unlocked","true"),localStorage.setItem("mental_unlocked","true"),localStorage.setItem("startHere","true"),localStorage.setItem("isContentLocked","false"),a)try{await c({userId:a.uid,moduleId:"badhabits",lessonId:"badhabits4",completedAt:ie.now(),progress:100}),l({completedLessons:24,currentLevel:"intermediate",lastSession:new Date,totalTime:300,unlockedModules:["startHere","badhabits","mental"]})}catch(x){console.error("Error updating progress:",x)}window.dispatchEvent(new Event("storage")),e("/content/training/mental")};return s.jsxs(pxe,{children:[s.jsx(fxe,{children:"Evitar que o Cão Puxe na Coleira"}),s.jsxs(mxe,{children:[s.jsxs(X1,{active:n===0,children:[s.jsx(J1,{children:"Bem-vindo à Aula!"}),s.jsx(yxe,{children:s.jsx(wxe,{src:hxe,alt:"Cão andando calmamente na coleira"})}),s.jsx(_xe,{children:"Nesta aula, vamos aprender como ensinar seu cão a não puxar na coleira durante os passeios, tornando as caminhadas mais agradáveis para ambos."})]}),s.jsxs(X1,{active:n===1,children:[s.jsx(J1,{children:"Por que ensinar?"}),s.jsx(gxe,{children:"Ensinar seu cão a não puxar na coleira é fundamental para passeios seguros e agradáveis. Este comportamento pode causar desconforto e até mesmo lesões, tanto para o cão quanto para o tutor."}),s.jsxs(eD,{children:[s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"1"}),s.jsx(ei,{children:"Segurança"})]}),s.jsx(ti,{children:"Previne acidentes e lesões, tanto para o cão quanto para o tutor."})]}),s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"2"}),s.jsx(ei,{children:"Controle"})]}),s.jsx(ti,{children:"Permite passeios mais tranquilos e controlados em qualquer ambiente."})]}),s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"3"}),s.jsx(ei,{children:"Bem-estar"})]}),s.jsx(ti,{children:"Reduz o estresse e a ansiedade durante os passeios."})]}),s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"4"}),s.jsx(ei,{children:"Socialização"})]}),s.jsx(ti,{children:"Facilita a interação com outros cães e pessoas durante os passeios."})]})]})]}),s.jsxs(X1,{active:n===2,children:[s.jsx(J1,{children:"Passo a Passo"}),s.jsxs(eD,{children:[s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"1"}),s.jsx(ei,{children:"Pare quando o cão puxar"})]}),s.jsx(ti,{children:"Pare imediatamente quando sentir a tensão na coleira e só continue quando o cão relaxar."})]}),s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"2"}),s.jsx(ei,{children:"Recompense o comportamento correto"})]}),s.jsx(ti,{children:"Dê petiscos e elogios quando o cão andar ao seu lado sem puxar."})]}),s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"3"}),s.jsx(ei,{children:"Use equipamentos adequados"})]}),s.jsx(ti,{children:"Coleiras peitorais ou peitorais anti-puxão podem ajudar no treinamento."})]}),s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"4"}),s.jsx(ei,{children:"Mantenha a consistência"})]}),s.jsx(ti,{children:"Treine regularmente e siga sempre o mesmo método."})]}),s.jsxs(Xo,{children:[s.jsxs(Jo,{children:[s.jsx(Zo,{children:"5"}),s.jsx(ei,{children:"Seja paciente"})]}),s.jsx(ti,{children:"O treinamento pode levar tempo, mas os resultados valem a pena."})]})]})]})]}),s.jsxs(vxe,{children:[s.jsx(tD,{onClick:h,disabled:n===0,children:"Anterior"}),s.jsx(xxe,{children:[0,1,2].map(x=>s.jsx(bxe,{active:n===x,onClick:()=>u(x)},x))}),s.jsx(tD,{onClick:d,children:n===2?"Próxima Aula":"Próximo"})]}),o&&s.jsx(Eu,{onClose:f,onNextModule:v})]})}const Txe=m.div`
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
`,Ixe=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
`,Sxe=m.h1`
  font-size: 2.5rem;
  color: #333;
`,kxe=m.p`
  color: #666;
  margin-bottom: 2rem;
  font-size: 1.1rem;
`,Cxe=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
`,jxe=m.div`
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-2px);
  }
`,Axe=m.h2`
  font-size: 1.25rem;
  color: #333;
  margin-bottom: 0.75rem;
`,Pxe=m.p`
  color: #666;
  font-size: 1rem;
  line-height: 1.5;
  margin-bottom: 1rem;
`,Rxe=m.span`
  color: #007bff;
  font-size: 0.875rem;
  font-weight: 500;
`,Dxe=m.button`
  padding: 0.75rem 1.5rem;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`,Nxe=m(Dxe)`
  background-color: #6c757d;
  margin-right: 1rem;

  &:hover {
    background-color: #5a6268;
  }
`,Zg=bf.find(t=>t.id==="badhabits");function $xe(){const t=Ue(),[e,n]=g.useState(null),[r,o]=g.useState(!1);g.useEffect(()=>{const d=localStorage.getItem("badhabits_unlocked")==="true";o(d),d||t("/content/training");const h=()=>{const u=localStorage.getItem("badhabits_unlocked")==="true";o(u)};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[t]);const i=[{id:"badhabits1",title:"Mordidas e Mastigação",description:"Como controlar mordidas e mastigação excessiva",duration:"15 min",component:$0e,locked:localStorage.getItem("badhabits1_unlocked")!=="true"},{id:"badhabits2",title:"Roubo de Comida",description:"Evitar que o cão roube comida da mesa",duration:"15 min",component:Q0e,locked:localStorage.getItem("badhabits1_completed")!=="true"},{id:"badhabits3",title:"Pular nas Pessoas",description:"Como evitar que o cão pule nas pessoas",duration:"15 min",component:uxe,locked:localStorage.getItem("badhabits2_completed")!=="true"},{id:"badhabits4",title:"Puxar na Coleira",description:"Ensinar o cão a andar sem puxar durante os passeios",duration:"15 min",component:Exe,locked:localStorage.getItem("badhabits3_completed")!=="true"}],a=d=>{n(d)},c=()=>{const d=i.findIndex(h=>h.id===e.id);d<i.length-1&&n(i[d+1])},l=()=>{e?n(null):t("/content/training")};if(!r)return null;if(e){const d=e.component;return s.jsx(Sa,{children:s.jsx(d,{onBack:l,onNextLesson:c})})}return s.jsxs(Txe,{children:[s.jsxs(Ixe,{children:[s.jsx(Nxe,{onClick:l,children:"Voltar"}),s.jsx(Sxe,{children:Zg?Zg.title:"Evitando Maus Hábitos ⚠️"})]}),s.jsx(kxe,{children:Zg?Zg.description:"Prevenção e correção de comportamentos indesejados"}),s.jsx(Cxe,{children:i.map(d=>s.jsxs(jxe,{onClick:()=>!d.locked&&a(d),style:{opacity:d.locked?.5:1,cursor:d.locked?"not-allowed":"pointer",position:"relative"},children:[s.jsxs(Axe,{children:[d.title,localStorage.getItem(`${d.id}_completed`)==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsx(Pxe,{children:d.description}),s.jsx(Rxe,{children:d.duration}),d.locked&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2rem"},children:"🔒"})]},d.id))})]})}const Oxe="/assets/Mental1-DNSRd6YB.png",Fxe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Mxe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Lxe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,Vxe=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,zxe=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;
  margin-bottom: 60px; /* Espaço para os botões de navegação */

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,Bxe=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,kl=m.p`
  font-size: 1rem;
  line-height: 1.6;
  color: #333;
  margin-bottom: 15px;
  word-wrap: break-word;
  white-space: pre-wrap;
`,Uxe=m.ol`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,xh=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F0FFF4;
  border-radius: 8px;
  border-left: 4px solid #48BB78;
  transition: all 0.2s ease;

  &:hover {
    background: #E6FFED;
    transform: translateX(4px);
  }

  &:before {
    content: attr(data-step);
    color: #48BB78;
    font-weight: bold;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.ul`
  list-style: none;
  padding: 0;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "✓";
    color: #48BB78;
    position: absolute;
    left: 0;
  }
`;const qxe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 5;
`,nD=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Wxe=m.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,Hxe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`;m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`;m.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
`;m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`;const Z1=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Bt=m.li`
  font-size: 1.1rem;
  line-height: 1.6;
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  transition: all 0.2s ease;

  &:hover {
    background: #EBF8FF;
    transform: translateX(4px);
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-size: 2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`,Gxe=m.ul`
  list-style: none;
  padding-left: 0;
  margin-bottom: 2rem;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,bh=m.li`
  color: #2D3748;
  padding: 1rem;
  padding-left: 2.5rem;
  position: relative;
  background: #FFF5F5;
  border-radius: 8px;
  border-left: 4px solid #E53E3E;
  transition: all 0.2s ease;

  &:hover {
    background: #FFEBEB;
    transform: translateX(4px);
  }

  &:before {
    content: "⚠";
    color: #E53E3E;
    font-size: 1.2rem;
    position: absolute;
    left: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
  }
`;m.div`
  flex: 1;
  overflow-y: auto;
  padding-right: 10px;
  max-height: 420px;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`;m.h3`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`;const Kxe=m.img`
  width: 100%;
  max-height: 300px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`;function Yxe({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=async()=>{if(e===3){localStorage.setItem("mental1_completed","true"),localStorage.setItem("mental2_unlocked","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const u={lessonId:"mental1",moduleId:"mental",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([o(u),new Promise(f=>setTimeout(f,2e3))]).then(()=>{i({completedLessons:25,currentLevel:"advanced",lastSession:new Date,totalTime:305,unlockedModules:["startHere","hygiene","badhabits","mental"]}).catch(f=>console.error("Erro ao atualizar dashboard:",f)),a().catch(f=>console.error("Erro ao atualizar dados:",f)),console.log("Progresso da lição Mental1 salvo com sucesso")}).catch(f=>{console.error("Erro ao salvar progresso da lição:",f)})}}catch(u){console.error("Erro ao processar progresso da lição:",u)}}else n(u=>(u+1)%4)},l=()=>{n(u=>(u-1+4)%4)},d=u=>{n(u)},h=[{title:"Introdução ao Enriquecimento Mental",content:s.jsxs(s.Fragment,{children:[s.jsx(Kxe,{src:Oxe,alt:"Cão brincando com brinquedos interativos"}),s.jsx(kl,{children:"Bem-vindo à aula sobre Brinquedos Interativos e Enriquecimento Ambiental! Nesta aula, você aprenderá como manter seu cão mentalmente estimulado através de atividades e brinquedos que desafiam sua inteligência."}),s.jsx(kl,{children:"O enriquecimento mental é tão importante quanto o exercício físico para a saúde e bem-estar do seu cão, ajudando a prevenir problemas comportamentais causados pelo tédio e falta de estímulo."})]})},{title:"Benefícios do Enriquecimento Mental",content:s.jsxs(s.Fragment,{children:[s.jsx(kl,{children:"O enriquecimento mental oferece diversos benefícios para o seu cão, impactando positivamente sua saúde e comportamento."}),s.jsxs(Z1,{children:[s.jsx(Bt,{children:"Reduz a ansiedade e o estresse, criando um estado mental mais equilibrado"}),s.jsx(Bt,{children:"Previne comportamentos destrutivos causados pelo tédio, como roer móveis e objetos"}),s.jsx(Bt,{children:"Estimula o desenvolvimento cognitivo, melhorando a capacidade de resolver problemas"}),s.jsx(Bt,{children:"Aumenta a confiança do cão ao superar desafios, reduzindo inseguranças"}),s.jsx(Bt,{children:"Fortalece o vínculo entre tutor e pet durante as atividades interativas"})]}),s.jsx(kl,{children:"Situações onde o enriquecimento mental é especialmente importante:"}),s.jsxs(Gxe,{children:[s.jsx(bh,{children:"Cães que ficam sozinhos por longos períodos, reduzindo o estresse da separação"}),s.jsx(bh,{children:"Pets convalescentes ou com mobilidade reduzida, que precisam de estímulo sem esforço físico"}),s.jsx(bh,{children:"Cães idosos, para manter a mente ativa e prevenir o declínio cognitivo"}),s.jsx(bh,{children:"Filhotes em desenvolvimento, estimulando o aprendizado e a curiosidade natural"}),s.jsx(bh,{children:"Cães muito ativos mentalmente, que precisam de desafios constantes"})]})]})},{title:"Tipos de Enriquecimento Mental",content:s.jsxs(s.Fragment,{children:[s.jsx(kl,{children:"Existem diversas formas de proporcionar enriquecimento mental para seu cão:"}),s.jsxs(Uxe,{children:[s.jsx(xh,{"data-step":"1",children:"Brinquedos interativos: Quebra-cabeças, brinquedos que liberam petiscos e mordedores recheáveis estimulam o raciocínio"}),s.jsx(xh,{"data-step":"2",children:"Jogos de farejar: Esconda petiscos pela casa ou jardim para estimular o olfato e a busca"}),s.jsx(xh,{"data-step":"3",children:"Treinamento de truques: Ensine novos comandos e habilidades, desafiando seu cão a aprender"}),s.jsx(xh,{"data-step":"4",children:"Rotação de brinquedos: Alterne os brinquedos disponíveis para manter a novidade e o interesse"}),s.jsx(xh,{"data-step":"5",children:"Mudanças no ambiente: Altere os arranjos de móveis ou crie túneis e obstáculos pela casa"})]}),s.jsx(kl,{children:"Dicas importantes para o sucesso:"}),s.jsxs(Z1,{children:[s.jsx(Bt,{children:"Comece com desafios simples e aumente gradualmente a dificuldade"}),s.jsx(Bt,{children:"Observe o que mais interessa seu cão e adapte as atividades às suas preferências"}),s.jsx(Bt,{children:"Reveze entre diferentes tipos de enriquecimento para manter o interesse"}),s.jsx(Bt,{children:"Dedique pelo menos 15-30 minutos diários para atividades de estimulação mental"}),s.jsx(Bt,{children:"Participe das atividades junto com seu cão para fortalecer o vínculo"}),s.jsx(Bt,{children:"Recompense e comemore os sucessos, mantendo a experiência positiva e motivadora"})]})]})},{title:"Resumo Rápido",content:s.jsx(s.Fragment,{children:s.jsxs(Z1,{children:[s.jsx(Bt,{children:"O enriquecimento mental é fundamental para o bem-estar do seu cão"}),s.jsx(Bt,{children:"Utilize brinquedos interativos, jogos de farejar e treinamento de novos truques"}),s.jsx(Bt,{children:"Reduza problemas comportamentais oferecendo estímulos mentais adequados"}),s.jsx(Bt,{children:"Varie as atividades para manter o interesse e o engajamento do seu cão"}),s.jsx(Bt,{children:"Dedique tempo diário para desafios mentais, assim como faz com exercícios físicos"}),s.jsx(Bt,{children:"Observe as preferências do seu cão e adapte as atividades às suas necessidades"}),s.jsx(Bt,{children:"Aumente gradualmente a dificuldade dos desafios conforme seu cão progride"}),s.jsx(Bt,{children:"Celebre os sucessos e mantenha uma experiência positiva de aprendizado"}),s.jsx(Bt,{children:"Utilize o enriquecimento mental em todas as fases da vida do seu cão"}),s.jsx(Bt,{children:"Combine diferentes tipos de estímulos para atender às diversas necessidades do seu pet"})]})})}];return s.jsxs(Fxe,{children:[s.jsxs(Mxe,{children:["Brinquedos Interativos e Enriquecimento Ambiental",localStorage.getItem("mental1_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(Lxe,{children:[h.map((u,f)=>s.jsx(Vxe,{active:e===f,children:s.jsxs(zxe,{children:[s.jsx(Bxe,{children:u.title}),u.content]})},f)),s.jsxs(qxe,{children:[s.jsx(nD,{onClick:l,disabled:e===0,children:"Anterior"}),s.jsx(Wxe,{children:h.map((u,f)=>s.jsx(Hxe,{active:e===f,onClick:()=>d(f)},f))}),s.jsx(nD,{onClick:c,children:e===3?"Próxima Aula":"Próximo"})]})]})]})}const Qxe="/assets/Mental2-DN1J_-8P.png",Xxe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Jxe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Zxe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,ev=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,tv=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;
  margin-bottom: 60px;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
    }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,nv=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`;m.p`
  color: #4A5568;
  margin-bottom: 1rem;
  line-height: 1.6;
`;m.ol`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "1️⃣";
    position: absolute;
    left: 0;
  }

  &:nth-child(2):before {
    content: "2️⃣";
  }

  &:nth-child(3):before {
    content: "3️⃣";
  }

  &:nth-child(4):before {
    content: "4️⃣";
  }

  &:nth-child(5):before {
    content: "5️⃣";
  }
`;const ebe=m.ul`
  list-style: none;
  padding: 0;
  margin: 1.5rem 0;
`,ew=m.li`
  color: #4A5568;
  margin-bottom: 1rem;
  padding: 1rem 1rem 1rem 3rem;
  position: relative;
  line-height: 1.6;
  background: #F7FAFC;
  border-radius: 8px;
  border-left: 4px solid #4299E1;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
  cursor: pointer;

  &:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    background: #EBF8FF;
  }

  &:before {
    content: "•";
    color: #4299E1;
    font-weight: bold;
    font-size: 1.5rem;
    position: absolute;
    left: 1rem;
    top: 50%;
    transform: translateY(-50%);
    transition: all 0.3s ease;
  }

  &:hover:before {
    transform: translateY(-50%) scale(1.2);
  }
`,tbe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 5;
`,rD=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,nbe=m.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,rbe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,obe=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`,ibe=m.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;const sbe=m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`,abe=m.div`
  background: #F7FAFC;
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
`,cbe=m.h3`
  color: #2D3748;
  font-size: 1.25rem;
  margin-bottom: 1rem;
`,lbe=m.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,yh=m.li`
  color: #4A5568;
  padding: 1rem;
  position: relative;
  line-height: 1.6;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 1rem;

  &:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    background: #F7FAFC;
  }

  &:before {
    content: "";
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #48BB78, #38A169);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 14px;
    font-weight: bold;
    flex-shrink: 0;
    box-shadow: 0 2px 4px rgba(72, 187, 120, 0.2);
  }

  &:nth-child(1):before {
    content: "1";
  }

  &:nth-child(2):before {
    content: "2";
  }

  &:nth-child(3):before {
    content: "3";
  }

  &:nth-child(4):before {
    content: "4";
  }

  &:nth-child(5):before {
    content: "5";
  }
`,wh=m.span`
  flex: 1;
  font-size: 1rem;
  color: #2D3748;
`,dbe=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
  perspective: 1000px;
`,Za=m.div`
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  transform-style: preserve-3d;
  position: relative;
  overflow: hidden;

  &:hover {
    transform: translateY(-5px) rotateX(5deg);
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
  }

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #4299E1, #48BB78);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  &:hover::before {
    opacity: 1;
  }
`,_h=m.div`
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #4299E1, #3182CE);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1.25rem;
  font-weight: bold;
  font-size: 1.25rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;

  ${Za}:hover & {
    transform: scale(1.1);
  }
`,Eh=m.p`
  color: #4A5568;
  line-height: 1.6;
  margin: 0;
  font-size: 1rem;
  transition: color 0.3s ease;

  ${Za}:hover & {
    color: #2D3748;
  }
`;m.div`
  flex: 1;
  overflow-y: auto;
  padding-right: 10px;
  max-height: 420px;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`;m.h3`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`;function ube({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=async()=>{if(e===3){localStorage.setItem("mental2_completed","true"),localStorage.setItem("mental3_unlocked","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const h={lessonId:"mental2",moduleId:"mental",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([o(h),new Promise(u=>setTimeout(u,2e3))]).then(()=>{i({completedLessons:26,currentLevel:"advanced",lastSession:new Date,totalTime:310}).catch(u=>console.error("Erro ao atualizar dashboard:",u)),a().catch(u=>console.error("Erro ao atualizar dados:",u)),console.log("Progresso da lição Mental2 salvo com sucesso")}).catch(u=>{console.error("Erro ao salvar progresso da lição:",u)})}}catch(h){console.error("Erro ao processar progresso da lição:",h)}}else n(h=>(h+1)%4)},l=()=>{n(h=>(h-1+4)%4)},d=h=>{n(h)};return s.jsxs(Xxe,{children:[s.jsxs(Jxe,{children:["Jogos para Gastar Energia Dentro de Casa",localStorage.getItem("mental2_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(Zxe,{children:[s.jsx(ev,{active:e===0,children:s.jsxs(tv,{children:[s.jsx(nv,{children:"Bem-vindo à Aula!"}),s.jsx(obe,{children:s.jsx(ibe,{src:Qxe,alt:"Imagem ilustrativa de cão brincando dentro de casa"})}),s.jsx(sbe,{children:"Nesta aula, vamos aprender jogos e atividades divertidas para manter seu cão ativo mesmo dentro de casa."})]})}),s.jsx(ev,{active:e===1,children:s.jsxs(tv,{children:[s.jsx(nv,{children:"Por que ensinar?"}),s.jsxs(abe,{children:[s.jsx(cbe,{children:"Benefícios dos Jogos em Casa"}),s.jsxs(lbe,{children:[s.jsx(yh,{children:s.jsx(wh,{children:"Mantém o cão ativo mesmo em dias chuvosos"})}),s.jsx(yh,{children:s.jsx(wh,{children:"Estimula o faro e a obediência"})}),s.jsx(yh,{children:s.jsx(wh,{children:"Fortalecimento do vínculo entre tutor e cão"})}),s.jsx(yh,{children:s.jsx(wh,{children:"Desenvolvimento de habilidades cognitivas"})}),s.jsx(yh,{children:s.jsx(wh,{children:"Reduz comportamentos destrutivos por tédio"})})]})]})]})}),s.jsx(ev,{active:e===2,children:s.jsxs(tv,{children:[s.jsx(nv,{children:"Passo a Passo"}),s.jsxs(dbe,{children:[s.jsxs(Za,{children:[s.jsx(_h,{children:"1"}),s.jsx(Eh,{children:"Cabo de guerra: Use uma corda resistente para brincar, incentivando o cão a puxar (sempre controlando a intensidade)."})]}),s.jsxs(Za,{children:[s.jsx(_h,{children:"2"}),s.jsx(Eh,{children:"Esconde-esconde: Peça para o cão esperar, esconda-se e chame-o para te encontrar. Isso estimula o faro e a obediência."})]}),s.jsxs(Za,{children:[s.jsx(_h,{children:"3"}),s.jsx(Eh,{children:"Corrida de obstáculos caseira: Use almofadas, cadeiras e caixas para criar um pequeno percurso dentro de casa."})]}),s.jsxs(Za,{children:[s.jsx(_h,{children:"4"}),s.jsx(Eh,{children:"Busca de petiscos: Espalhe petiscos pela casa e incentive o cão a farejá-los."})]}),s.jsxs(Za,{children:[s.jsx(_h,{children:"5"}),s.jsx(Eh,{children:"Comandos intercalados: Peça ao cão para sentar, deitar, dar a pata e recompense com petiscos."})]})]})]})}),s.jsx(ev,{active:e===3,children:s.jsxs(tv,{children:[s.jsx(nv,{children:"Resumo Rápido"}),s.jsxs(ebe,{children:[s.jsx(ew,{children:"Crie brincadeiras dentro de casa para gastar energia."}),s.jsx(ew,{children:"Use desafios mentais como esconde-esconde e busca de petiscos."}),s.jsx(ew,{children:"Intercale comandos de obediência com diversão."})]})]})}),s.jsxs(tbe,{children:[s.jsx(rD,{onClick:l,disabled:e===0,children:"Anterior"}),s.jsx(nbe,{children:[0,1,2,3].map(h=>s.jsx(rbe,{active:e===h,onClick:()=>d(h)},h))}),s.jsx(rD,{onClick:c,children:e===3?"Próxima Aula":"Próximo"})]})]})]})}const hbe="/assets/Mental1-DNSRd6YB.png",pbe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,fbe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,mbe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,rv=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,ov=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;
  margin-bottom: 60px;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,iv=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`;m.p`
  color: #4A5568;
  margin-bottom: 1rem;
  line-height: 1.6;
`;m.ol`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "1️⃣";
    position: absolute;
    left: 0;
  }

  &:nth-child(2):before {
    content: "2️⃣";
  }

  &:nth-child(3):before {
    content: "3️⃣";
  }

  &:nth-child(4):before {
    content: "4️⃣";
  }

  &:nth-child(5):before {
    content: "5️⃣";
  }
`;const gbe=m.ul`
  list-style: none;
  padding: 0;
  margin: 1.5rem 0;
`,tw=m.li`
  color: #4A5568;
  margin-bottom: 1rem;
  padding: 1rem 1rem 1rem 3rem;
  position: relative;
  line-height: 1.6;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;

  &:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    background: #F7FAFC;
  }

  &:before {
    content: "✓";
    color: white;
    position: absolute;
    left: 1rem;
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #48BB78, #38A169);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: bold;
    box-shadow: 0 2px 4px rgba(72, 187, 120, 0.2);
    transition: transform 0.3s ease;
  }

  &:hover:before {
    transform: scale(1.1);
  }
`,vbe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 5;
`,oD=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,xbe=m.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,bbe=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,ybe=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`,wbe=m.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;const _be=m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`,Ebe=m.div`
  background: #F7FAFC;
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
`,Tbe=m.h3`
  color: #2D3748;
  font-size: 1.25rem;
  margin-bottom: 1rem;
`,Ibe=m.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Th=m.li`
  color: #4A5568;
  padding: 1rem;
  position: relative;
  line-height: 1.6;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 1rem;

  &:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    background: #F7FAFC;
  }

  &:before {
    content: "";
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #48BB78, #38A169);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 14px;
    font-weight: bold;
    flex-shrink: 0;
    box-shadow: 0 2px 4px rgba(72, 187, 120, 0.2);
  }

  &:nth-child(1):before {
    content: "1";
  }

  &:nth-child(2):before {
    content: "2";
  }

  &:nth-child(3):before {
    content: "3";
  }

  &:nth-child(4):before {
    content: "4";
  }

  &:nth-child(5):before {
    content: "5";
  }
`,Ih=m.span`
  flex: 1;
  font-size: 1rem;
  color: #2D3748;
`,Sbe=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
  perspective: 1000px;
`,ec=m.div`
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  transform-style: preserve-3d;
  position: relative;
  overflow: hidden;

  &:hover {
    transform: translateY(-5px) rotateX(5deg);
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
  }

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #4299E1, #48BB78);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  &:hover::before {
    opacity: 1;
  }
`,Sh=m.div`
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #4299E1, #3182CE);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1.25rem;
  font-weight: bold;
  font-size: 1.25rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;

  ${ec}:hover & {
    transform: scale(1.1);
  }
`,kh=m.p`
  color: #4A5568;
  line-height: 1.6;
  margin: 0;
  font-size: 1rem;
  transition: color 0.3s ease;

  ${ec}:hover & {
    color: #2D3748;
  }
`;m.div`
  flex: 1;
  overflow-y: auto;
  padding-right: 10px;
  max-height: 420px;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`;m.h3`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`;function kbe({onNextLesson:t}){const[e,n]=g.useState(0),{user:r}=Ee(),{addDocument:o}=Ve("progress"),{updateTraining:i,refreshData:a}=Ye(),c=async()=>{if(e===3){localStorage.setItem("mental3_completed","true"),localStorage.setItem("mental4_unlocked","true"),window.dispatchEvent(new Event("storage")),t();try{if(r){const h={lessonId:"mental3",moduleId:"mental",courseId:"9DwWIAtShVCPXyRPSbqF",userId:r.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([o(h),new Promise(u=>setTimeout(u,2e3))]).then(()=>{i({completedLessons:27,currentLevel:"advanced",lastSession:new Date,totalTime:315}).catch(u=>console.error("Erro ao atualizar dashboard:",u)),a().catch(u=>console.error("Erro ao atualizar dados:",u)),console.log("Progresso da lição Mental3 salvo com sucesso")}).catch(u=>{console.error("Erro ao salvar progresso da lição:",u)})}}catch(h){console.error("Erro ao processar progresso da lição:",h)}}else n(h=>(h+1)%4)},l=()=>{n(h=>(h-1+4)%4)},d=h=>{n(h)};return s.jsxs(pbe,{children:[s.jsxs(fbe,{children:["Truques Simples para Ensinar ao Cão",localStorage.getItem("mental3_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(mbe,{children:[s.jsx(rv,{active:e===0,children:s.jsxs(ov,{children:[s.jsx(iv,{children:"Bem-vindo à Aula!"}),s.jsx(ybe,{children:s.jsx(wbe,{src:hbe,alt:"Imagem ilustrativa de cão realizando truques"})}),s.jsx(_be,{children:"Nesta aula, vamos aprender truques simples e divertidos que você pode ensinar ao seu cão para estimular seu desenvolvimento mental."})]})}),s.jsx(rv,{active:e===1,children:s.jsxs(ov,{children:[s.jsx(iv,{children:"Por que ensinar?"}),s.jsxs(Ebe,{children:[s.jsx(Tbe,{children:"Benefícios dos Quebra-Cabeças"}),s.jsxs(Ibe,{children:[s.jsx(Th,{children:s.jsx(Ih,{children:"Estimula o raciocínio e a resolução de problemas"})}),s.jsx(Th,{children:s.jsx(Ih,{children:"Desenvolve a paciência e concentração"})}),s.jsx(Th,{children:s.jsx(Ih,{children:"Reduz o estresse e ansiedade"})}),s.jsx(Th,{children:s.jsx(Ih,{children:"Fortalecimento do vínculo entre tutor e cão"})}),s.jsx(Th,{children:s.jsx(Ih,{children:"Previne o tédio e comportamentos destrutivos"})})]})]})]})}),s.jsx(rv,{active:e===2,children:s.jsxs(ov,{children:[s.jsx(iv,{children:"Passo a Passo"}),s.jsxs(Sbe,{children:[s.jsxs(ec,{children:[s.jsx(Sh,{children:"1"}),s.jsx(kh,{children:"Comece com quebra-cabeças simples: Use caixas com petiscos fáceis de acessar."})]}),s.jsxs(ec,{children:[s.jsx(Sh,{children:"2"}),s.jsx(kh,{children:"Introduza brinquedos interativos: Use brinquedos que liberam petiscos ao serem movidos."})]}),s.jsxs(ec,{children:[s.jsx(Sh,{children:"3"}),s.jsx(kh,{children:"Desafios de busca: Esconda petiscos em diferentes níveis de dificuldade."})]}),s.jsxs(ec,{children:[s.jsx(Sh,{children:"4"}),s.jsx(kh,{children:"Quebra-cabeças de nível médio: Use brinquedos que requerem mais manipulação."})]}),s.jsxs(ec,{children:[s.jsx(Sh,{children:"5"}),s.jsx(kh,{children:"Desafios avançados: Introduza quebra-cabeças que combinam diferentes habilidades."})]})]})]})}),s.jsx(rv,{active:e===3,children:s.jsxs(ov,{children:[s.jsx(iv,{children:"Resumo Rápido"}),s.jsxs(gbe,{children:[s.jsx(tw,{children:"Use petiscos como recompensa para motivar o aprendizado."}),s.jsx(tw,{children:"Mantenha as sessões de treino curtas e divertidas."}),s.jsx(tw,{children:"Celebre cada pequeno progresso do seu cão."})]})]})}),s.jsxs(vbe,{children:[s.jsx(oD,{onClick:l,disabled:e===0,children:"Anterior"}),s.jsx(xbe,{children:[0,1,2,3].map(h=>s.jsx(bbe,{active:e===h,onClick:()=>d(h)},h))}),s.jsx(oD,{onClick:c,children:e===3?"Próxima Aula":"Próximo"})]})]})]})}const Cbe="/assets/Mental4-DR5OPUiL.png",jbe=m.div`
  padding: 2rem;
  max-width: 800px;
  margin: 0 auto;
`,Abe=m.h1`
  font-size: 2rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`,Pbe=m.div`
  position: relative;
  width: 100%;
  height: 600px;
  overflow: hidden;
`,sv=m.div`
  position: absolute;
  width: 100%;
  height: 100%;
  opacity: ${t=>t.active?1:0};
  transition: opacity 0.3s ease-in-out;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  pointer-events: ${t=>t.active?"auto":"none"};
  z-index: ${t=>t.active?1:0};
`,av=m.div`
  flex: 1;
  overflow-y: auto;
  padding: 2rem;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;
  margin-bottom: 60px;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`,cv=m.h2`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`;m.p`
  color: #4A5568;
  margin-bottom: 1rem;
  line-height: 1.6;
`;m.ol`
  list-style: none;
  padding: 0;
  margin-bottom: 1.5rem;
`;m.li`
  color: #4A5568;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  position: relative;
  line-height: 1.6;

  &:before {
    content: "1️⃣";
    position: absolute;
    left: 0;
  }

  &:nth-child(2):before {
    content: "2️⃣";
  }

  &:nth-child(3):before {
    content: "3️⃣";
  }

  &:nth-child(4):before {
    content: "4️⃣";
  }

  &:nth-child(5):before {
    content: "5️⃣";
  }
`;const Rbe=m.ul`
  list-style: none;
  padding: 0;
  margin: 1.5rem 0;
`,nw=m.li`
  color: #4A5568;
  margin-bottom: 1rem;
  padding: 1rem 1rem 1rem 3rem;
  position: relative;
  line-height: 1.6;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;

  &:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    background: #F7FAFC;
  }

  &:before {
    content: "✓";
    color: white;
    position: absolute;
    left: 1rem;
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #48BB78, #38A169);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
    font-weight: bold;
    box-shadow: 0 2px 4px rgba(72, 187, 120, 0.2);
    transition: transform 0.3s ease;
  }

  &:hover:before {
    transform: scale(1.1);
  }
`,Dbe=m.div`
  display: flex;
  justify-content: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 5;
`,iD=m.button`
  padding: 0.5rem 1rem;
  background: #4299E1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }

  &:disabled {
    background: #CBD5E0;
    cursor: not-allowed;
  }
`,Nbe=m.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1rem;
`,$be=m.div`
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: ${t=>t.active?"#4299E1":"#CBD5E0"};
  cursor: pointer;
  transition: background 0.2s;
`,Obe=m.div`
  width: 100%;
  height: 200px;
  background: #F7FAFC;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
`,Fbe=m.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
`;m.div`
  color: #A0AEC0;
  font-size: 1.1rem;
`;const Mbe=m.p`
  color: #4A5568;
  line-height: 1.6;
  text-align: center;
  font-size: 1.1rem;
`,Lbe=m.div`
  background: #F7FAFC;
  border-radius: 8px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
`,Vbe=m.h3`
  color: #2D3748;
  font-size: 1.25rem;
  margin-bottom: 1rem;
`,zbe=m.ul`
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,Ch=m.li`
  color: #4A5568;
  padding: 1rem;
  position: relative;
  line-height: 1.6;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 1rem;

  &:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    background: #F7FAFC;
  }

  &:before {
    content: "";
    width: 24px;
    height: 24px;
    background: linear-gradient(135deg, #48BB78, #38A169);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 14px;
    font-weight: bold;
    flex-shrink: 0;
    box-shadow: 0 2px 4px rgba(72, 187, 120, 0.2);
  }

  &:nth-child(1):before {
    content: "1";
  }

  &:nth-child(2):before {
    content: "2";
  }

  &:nth-child(3):before {
    content: "3";
  }

  &:nth-child(4):before {
    content: "4";
  }

  &:nth-child(5):before {
    content: "5";
  }
`,jh=m.span`
  flex: 1;
  font-size: 1rem;
  color: #2D3748;
`,Bbe=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
  margin-top: 1.5rem;
  perspective: 1000px;
`,tc=m.div`
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
  transform-style: preserve-3d;
  position: relative;
  overflow: hidden;

  &:hover {
    transform: translateY(-5px) rotateX(5deg);
    box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
  }

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #4299E1, #48BB78);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  &:hover::before {
    opacity: 1;
  }
`,Ah=m.div`
  width: 40px;
  height: 40px;
  background: linear-gradient(135deg, #4299E1, #3182CE);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1.25rem;
  font-weight: bold;
  font-size: 1.25rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;

  ${tc}:hover & {
    transform: scale(1.1);
  }
`,Ph=m.p`
  color: #4A5568;
  line-height: 1.6;
  margin: 0;
  font-size: 1rem;
  transition: color 0.3s ease;

  ${tc}:hover & {
    color: #2D3748;
  }
`,Ube=m.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
`,qbe=m.div`
  background: white;
  padding: 2rem;
  border-radius: 8px;
  text-align: center;
  max-width: 400px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
`,Wbe=m.h2`
  color: #2D3748;
  font-size: 1.5rem;
  margin-bottom: 1rem;
`,Hbe=m.p`
  color: #4A5568;
  line-height: 1.6;
  margin-bottom: 1.5rem;
`,Gbe=m.button`
  background: #4299E1;
  color: white;
  border: none;
  padding: 0.75rem 1.5rem;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.2s;

  &:hover {
    background: #3182CE;
  }
`;m.div`
  flex: 1;
  overflow-y: auto;
  padding-right: 10px;
  max-height: 420px;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #4299E1 #F7FAFC;
  pointer-events: auto;
  position: relative;
  z-index: 1;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: #F7FAFC;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4299E1;
    border-radius: 4px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #3182CE;
  }
`;m.h3`
  font-size: 1.8rem;
  color: #2D3748;
  margin-bottom: 2rem;
  text-align: center;
`;function Kbe({onNextLesson:t}){const[e,n]=g.useState(0),[r,o]=g.useState(!1),{user:i}=Ee(),{addDocument:a}=Ve("progress"),{updateTraining:c,refreshData:l}=Ye(),d=async()=>{if(e===3){localStorage.setItem("mental4_completed","true"),localStorage.setItem("training_completed","true"),window.dispatchEvent(new Event("storage"));try{if(i){const v={lessonId:"mental4",moduleId:"mental",courseId:"9DwWIAtShVCPXyRPSbqF",userId:i.uid,status:"completed",completedAt:ie.fromDate(new Date),duration:5};Promise.race([a(v),new Promise(x=>setTimeout(x,2e3))]).then(()=>{c({completedLessons:28,currentLevel:"advanced",lastSession:new Date,totalTime:320,allCompleted:!0}).catch(x=>console.error("Erro ao atualizar dashboard:",x)),l().catch(x=>console.error("Erro ao atualizar dados:",x)),console.log("Progresso da lição Mental4 salvo com sucesso")}).catch(x=>{console.error("Erro ao salvar progresso da lição:",x)})}}catch(v){console.error("Erro ao processar progresso da lição:",v)}o(!0)}else n(v=>(v+1)%4)},h=()=>{n(v=>(v-1+4)%4)},u=v=>{n(v)},f=()=>{o(!1),window.location.href="/dashboard"};return s.jsxs(jbe,{children:[s.jsxs(Abe,{children:["Introdução aos Esportes Caninos",localStorage.getItem("mental4_completed")==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsxs(Pbe,{children:[s.jsx(sv,{active:e===0,children:s.jsxs(av,{children:[s.jsx(cv,{children:"Bem-vindo à Aula!"}),s.jsx(Obe,{children:s.jsx(Fbe,{src:Cbe,alt:"Imagem ilustrativa de cães praticando esportes"})}),s.jsx(Mbe,{children:"Nesta aula, vamos conhecer os principais esportes caninos e como começar a praticá-los com seu cão."})]})}),s.jsx(sv,{active:e===1,children:s.jsxs(av,{children:[s.jsx(cv,{children:"Por que ensinar?"}),s.jsxs(Lbe,{children:[s.jsx(Vbe,{children:"Benefícios da Consolidação"}),s.jsxs(zbe,{children:[s.jsx(Ch,{children:s.jsx(jh,{children:"Revisão e prática dos conhecimentos adquiridos"})}),s.jsx(Ch,{children:s.jsx(jh,{children:"Desenvolvimento de habilidades avançadas"})}),s.jsx(Ch,{children:s.jsx(jh,{children:"Maior confiança e independência do cão"})}),s.jsx(Ch,{children:s.jsx(jh,{children:"Preparação para novos desafios"})}),s.jsx(Ch,{children:s.jsx(jh,{children:"Fortalecimento do vínculo e comunicação"})})]})]})]})}),s.jsx(sv,{active:e===2,children:s.jsxs(av,{children:[s.jsx(cv,{children:"Passo a Passo"}),s.jsxs(Bbe,{children:[s.jsxs(tc,{children:[s.jsx(Ah,{children:"1"}),s.jsx(Ph,{children:"Revisão dos exercícios anteriores: Pratique os quebra-cabeças e jogos já aprendidos."})]}),s.jsxs(tc,{children:[s.jsx(Ah,{children:"2"}),s.jsx(Ph,{children:"Combinação de habilidades: Misture diferentes tipos de exercícios em uma mesma sessão."})]}),s.jsxs(tc,{children:[s.jsx(Ah,{children:"3"}),s.jsx(Ph,{children:"Aumento da dificuldade: Adicione distrações ou aumente o tempo de espera."})]}),s.jsxs(tc,{children:[s.jsx(Ah,{children:"4"}),s.jsx(Ph,{children:"Novos desafios: Introduza variações dos exercícios já conhecidos."})]}),s.jsxs(tc,{children:[s.jsx(Ah,{children:"5"}),s.jsx(Ph,{children:"Prática independente: Incentive o cão a resolver problemas por conta própria."})]})]})]})}),s.jsx(sv,{active:e===3,children:s.jsxs(av,{children:[s.jsx(cv,{children:"Resumo Rápido"}),s.jsxs(Rbe,{children:[s.jsx(nw,{children:"Escolha um esporte que combine com o perfil do seu cão."}),s.jsx(nw,{children:"Comece com treinos básicos e aumente gradualmente a dificuldade."}),s.jsx(nw,{children:"Procure orientação profissional para praticar com segurança."})]})]})}),s.jsxs(Dbe,{children:[s.jsx(iD,{onClick:h,disabled:e===0,children:"Anterior"}),s.jsx(Nbe,{children:[0,1,2,3].map(v=>s.jsx($be,{active:e===v,onClick:()=>u(v)},v))}),s.jsx(iD,{onClick:d,children:e===3?"Concluir":"Próximo"})]})]}),r&&s.jsx(Ube,{children:s.jsxs(qbe,{children:[s.jsx(Wbe,{children:"Parabéns! 🎉"}),s.jsx(Hbe,{children:"Você completou com sucesso o treinamento básico do seu pet! Agora ele está preparado com as habilidades fundamentais para uma vida mais feliz e saudável. Continue praticando e fortalecendo o vínculo com seu amigo de quatro patas!"}),s.jsx(Gbe,{onClick:f,children:"Voltar ao Início"})]})})]})}const Ybe=m.div`
  padding: 2rem;
  max-width: 1200px;
  margin: 0 auto;
`,Qbe=m.div`
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 2rem;
`,Xbe=m.h1`
  font-size: 2.5rem;
  color: #333;
`,Jbe=m.p`
  color: #666;
  margin-bottom: 2rem;
  font-size: 1.1rem;
`,Zbe=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
`,eye=m.div`
  background: white;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s;

  &:hover {
    transform: translateY(-2px);
  }
`,tye=m.h2`
  font-size: 1.25rem;
  color: #333;
  margin-bottom: 0.75rem;
`,nye=m.p`
  color: #666;
  font-size: 1rem;
  line-height: 1.5;
  margin-bottom: 1rem;
`,rye=m.span`
  color: #007bff;
  font-size: 0.875rem;
  font-weight: 500;
`,oye=m.button`
  padding: 0.75rem 1.5rem;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  transition: background-color 0.2s;

  &:hover {
    background-color: #0056b3;
  }

  &:disabled {
    background-color: #ccc;
    cursor: not-allowed;
  }
`,iye=m(oye)`
  background-color: #6c757d;
  margin-right: 1rem;

  &:hover {
    background-color: #5a6268;
  }
`;function sye(){const t=Ue(),[e,n]=g.useState(null),r=[{id:"mental1",title:"Introdução aos Exercícios Mentais",description:"Aprenda a importância dos exercícios mentais para seu cão",duration:"15 min",component:Yxe,locked:!localStorage.getItem("mental1_unlocked")==="true"},{id:"mental2",title:"Jogos de Busca",description:"Como usar jogos de busca para estimular seu cão",duration:"15 min",component:ube,locked:localStorage.getItem("mental1_completed")!=="true"},{id:"mental3",title:"Quebra-Cabeças",description:"Técnicas de quebra-cabeças para cães",duration:"15 min",component:kbe,locked:localStorage.getItem("mental2_completed")!=="true"},{id:"mental4",title:"Consolidação e Prática",description:"Prática final e consolidação dos conhecimentos",duration:"15 min",component:Kbe,locked:localStorage.getItem("mental3_completed")!=="true"}],o=c=>{n(c)},i=()=>{const c=r.findIndex(l=>l.id===e.id);c<r.length-1&&n(r[c+1])},a=()=>{e?n(null):t("/content/training")};if(e){const c=e.component;return s.jsx(Sa,{children:s.jsx(c,{onBack:a,onNextLesson:i})})}return s.jsxs(Ybe,{children:[s.jsxs(Qbe,{children:[s.jsx(iye,{onClick:a,children:"Voltar"}),s.jsx(Xbe,{children:"Exercícios Mentais e Diversão 🧩"})]}),s.jsx(Jbe,{children:"Atividades para estimular a mente do seu cão e fortalecer o vínculo entre vocês."}),s.jsx(Zbe,{children:r.map(c=>s.jsxs(eye,{onClick:()=>!c.locked&&o(c),style:{opacity:c.locked?.5:1,cursor:c.locked?"not-allowed":"pointer",position:"relative"},children:[s.jsxs(tye,{children:[c.title,localStorage.getItem(`${c.id}_completed`)==="true"&&s.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),s.jsx(nye,{children:c.description}),s.jsx(rye,{children:c.duration}),c.locked&&s.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"2rem"},children:"🔒"})]},c.id))})]})}const aye=m.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,cye=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`,lye=m.h2`
  font-size: 20px;
  color: #333;
  margin: 0;
`,dye=m.button`
  background: none;
  border: none;
  color: #666;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f0f0f0;
  }
`,Rh=m.div`
  margin-bottom: 20px;
`,Dh=m.label`
  display: block;
  margin-bottom: 8px;
  color: #666;
  font-weight: 500;
`,sD=m.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,aD=m.select`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  background-color: white;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,uye=m.textarea`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  min-height: 100px;
  resize: vertical;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,hye=m.div`
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
`,cL=m.button`
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.2s;
`,pye=m(cL)`
  background-color: #007bff;
  color: white;
  border: none;
  
  &:hover {
    background-color: #0056b3;
  }
`,fye=m(cL)`
  background-color: #f8f9fa;
  color: #333;
  border: 1px solid #ddd;
  
  &:hover {
    background-color: #e9ecef;
  }
`;function mye({onClose:t}){const{addVaccine:e}=HS(),[n,r]=g.useState({name:"",date:new Date().toISOString().split("T")[0],status:"Pendente",type:"V8/V10",notes:""}),o=[{value:"V8/V10",label:"V8/V10"},{value:"antirrabica",label:"Antirrábica"},{value:"gripe",label:"Gripe"},{value:"giardia",label:"Giárdia"},{value:"antipulgas",label:"Anti-pulgas e Carrapatos"},{value:"vermifugo",label:"Vermífugos"},{value:"outro",label:"Outro"}],i=async a=>{if(a.preventDefault(),!(!n.name||!n.date))try{await e(n),r({name:"",date:new Date().toISOString().split("T")[0],status:"Pendente",type:"V8/V10",notes:""})}catch(c){console.error("Error adding vaccine:",c)}};return s.jsxs(aye,{children:[s.jsxs(cye,{children:[s.jsx(lye,{children:"Adicionar Novo"}),t&&s.jsx(dye,{onClick:t,children:s.jsx(Tb,{size:20})})]}),s.jsxs("form",{onSubmit:i,children:[s.jsxs(Rh,{children:[s.jsx(Dh,{children:"Nome"}),s.jsx(sD,{type:"text",value:n.name,onChange:a=>r({...n,name:a.target.value}),placeholder:"Nome da vacina ou medicamento",required:!0})]}),s.jsxs(Rh,{children:[s.jsx(Dh,{children:"Tipo"}),s.jsx(aD,{value:n.type,onChange:a=>r({...n,type:a.target.value}),children:o.map(a=>s.jsx("option",{value:a.value,children:a.label},a.value))})]}),s.jsxs(Rh,{children:[s.jsx(Dh,{children:"Data de Aplicação"}),s.jsx(sD,{type:"date",value:n.date,onChange:a=>r({...n,date:a.target.value}),required:!0})]}),s.jsxs(Rh,{children:[s.jsx(Dh,{children:"Status"}),s.jsxs(aD,{value:n.status,onChange:a=>r({...n,status:a.target.value}),children:[s.jsx("option",{value:"Pendente",children:"Pendente"}),s.jsx("option",{value:"Aplicada",children:"Aplicada"})]})]}),s.jsxs(Rh,{children:[s.jsx(Dh,{children:"Observações"}),s.jsx(uye,{value:n.notes,onChange:a=>r({...n,notes:a.target.value}),placeholder:"Observações adicionais"})]}),s.jsxs(hye,{children:[t&&s.jsx(fye,{type:"button",onClick:t,children:"Cancelar"}),s.jsx(pye,{type:"submit",children:"Adicionar Vacina"})]})]})]})}var gye={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},vye=function(e,n,r){var o,i=gye[e];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+o:"há "+o:o},xye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},bye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yye={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wye={date:md({formats:xye,defaultWidth:"full"}),time:md({formats:bye,defaultWidth:"full"}),dateTime:md({formats:yye,defaultWidth:"full"})},_ye={lastWeek:function(e){var n=e.getUTCDay(),r=n===0||n===6?"último":"última";return"'"+r+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},Eye=function(e,n,r,o){var i=_ye[e];return typeof i=="function"?i(n):i},Tye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Iye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Sye={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},kye={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Cye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},jye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Aye=function(e,n){var r=Number(e);return(n==null?void 0:n.unit)==="week"?r+"ª":r+"º"},Pye={ordinalNumber:Aye,era:Io({values:Tye,defaultWidth:"wide"}),quarter:Io({values:Iye,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Io({values:Sye,defaultWidth:"wide"}),day:Io({values:kye,defaultWidth:"wide"}),dayPeriod:Io({values:Cye,defaultWidth:"wide",formattingValues:jye,defaultFormattingWidth:"wide"})},Rye=/^(\d+)[ºªo]?/i,Dye=/\d+/i,Nye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},$ye={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Oye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Fye={any:[/1/i,/2/i,/3/i,/4/i]},Mye={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Lye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Vye={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},zye={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Bye={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Uye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},qye={ordinalNumber:C6({matchPattern:Rye,parsePattern:Dye,valueCallback:function(e){return parseInt(e,10)}}),era:So({matchPatterns:Nye,defaultMatchWidth:"wide",parsePatterns:$ye,defaultParseWidth:"any"}),quarter:So({matchPatterns:Oye,defaultMatchWidth:"wide",parsePatterns:Fye,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:So({matchPatterns:Mye,defaultMatchWidth:"wide",parsePatterns:Lye,defaultParseWidth:"any"}),day:So({matchPatterns:Vye,defaultMatchWidth:"wide",parsePatterns:zye,defaultParseWidth:"any"}),dayPeriod:So({matchPatterns:Bye,defaultMatchWidth:"any",parsePatterns:Uye,defaultParseWidth:"any"})},Zv={code:"pt-BR",formatDistance:vye,formatLong:wye,formatRelative:Eye,localize:Pye,match:qye,options:{weekStartsOn:0,firstWeekContainsDate:1}};const rw=m.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
`,ow=m.div`
  margin-bottom: 20px;
`,iw=m.h2`
  font-size: 20px;
  color: #333;
  margin: 0;
`,Wye=m.div`
  width: 100%;
`,Hye=m.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 20px;
`,cD=m.button`
  padding: 10px;
  border: none;
  background: ${t=>t.$active?"#007bff":"#f8f9fa"};
  color: ${t=>t.$active?"white":"#333"};
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;

  &:hover {
    background: ${t=>t.$active?"#0056b3":"#e9ecef"};
  }
`,lD=m.div`
  display: ${t=>t.$active?"block":"none"};
`,dD=m.div`
  padding: 15px;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
  margin-bottom: 15px;
`,uD=m.div`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 10px;
`,hD=m.h3`
  font-size: 16px;
  color: #333;
  margin: 0;
`,_s=m.p`
  font-size: 14px;
  color: #666;
  margin: 5px 0;
`,pD=m.span`
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  background-color: ${t=>t.$variant==="success"?"#28a745":"#6c757d"};
  color: white;
`,Gye=m.button`
  padding: 6px 10px;
  border: none;
  border-radius: 4px;
  background: #007bff;
  color: white;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 4px;
  font-weight: 500;
  font-size: 13px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);

  &:hover {
    background: #0056b3;
    transform: translateY(-1px);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
  }
  
  &:active {
    transform: translateY(0);
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
`,Kye=m.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
`,Yye=m.div`
  width: 30px;
  height: 30px;
  border: 3px solid #f3f3f3;
  border-top: 3px solid #007bff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 10px;

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`,Qye=m.p`
  color: #666;
  margin: 0;
`,Xye=m.p`
  color: #dc3545;
  text-align: center;
  margin: 0;
`;function Jye(){const{vaccines:t,loading:e,error:n,updateVaccineStatus:r}=HS(),[o,i]=g.useState("pending");console.log("Estado do VaccineList:",{loading:e,error:n,vaccinesCount:t.length});const a=async(d,h)=>{try{await r(d,h),pf({title:"Sucesso",description:`Vacina marcada como ${h.toLowerCase()}`})}catch{pf({title:"Erro",description:"Erro ao atualizar status da vacina.",variant:"destructive"})}},c=t.filter(d=>d.status==="Pendente"),l=t.filter(d=>d.status==="Aplicada").sort((d,h)=>{const u=d.appliedDate?new Date(d.appliedDate):new Date(d.date);return(h.appliedDate?new Date(h.appliedDate):new Date(h.date))-u});return console.log("Vacinas filtradas:",{total:t.length,pending:c.length,applied:l.length}),e?s.jsxs(rw,{children:[s.jsx(ow,{children:s.jsx(iw,{children:"Histórico de Vacinas e Medicamentos"})}),s.jsxs(Kye,{children:[s.jsx(Yye,{}),s.jsx(Qye,{children:"Carregando vacinas..."})]})]}):n?s.jsxs(rw,{children:[s.jsx(ow,{children:s.jsx(iw,{children:"Histórico de Vacinas e Medicamentos"})}),s.jsxs(Xye,{children:["Erro ao carregar vacinas: ",n]})]}):s.jsxs(rw,{children:[s.jsx(ow,{children:s.jsx(iw,{children:"Histórico de Vacinas e Medicamentos"})}),s.jsxs(Wye,{children:[s.jsxs(Hye,{children:[s.jsxs(cD,{$active:o==="pending",onClick:()=>i("pending"),children:["Pendentes (",c.length,")"]}),s.jsxs(cD,{$active:o==="applied",onClick:()=>i("applied"),children:["Aplicadas (",l.length,")"]})]}),s.jsx(lD,{$active:o==="pending",children:c.length>0?c.map(d=>s.jsx(dD,{children:s.jsxs(uD,{children:[s.jsxs("div",{children:[s.jsx(hD,{children:d.name}),s.jsxs(_s,{children:["Tipo: ",d.type]}),s.jsxs(_s,{children:["Data: ",d.date&&!isNaN(new Date(d.date).getTime())?wp(new Date(d.date),"dd 'de' MMMM 'de' yyyy",{locale:Zv}):"Data não disponível"]}),d.notes&&s.jsxs(_s,{children:["Obs: ",d.notes]})]}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[s.jsx(pD,{children:"Pendente"}),s.jsxs(Gye,{onClick:()=>a(d.id,"Aplicada"),children:[s.jsx(p8,{size:14}),"Marcar como Aplicada"]})]})]})},d.id)):s.jsx(_s,{style:{textAlign:"center"},children:"Nenhuma vacina pendente."})}),s.jsx(lD,{$active:o==="applied",children:l.length>0?l.map(d=>s.jsx(dD,{children:s.jsxs(uD,{children:[s.jsxs("div",{children:[s.jsx(hD,{children:d.name}),s.jsxs(_s,{children:["Tipo: ",d.type]}),s.jsxs(_s,{children:["Data: ",d.appliedDate&&!isNaN(new Date(d.appliedDate).getTime())?wp(new Date(d.appliedDate),"dd 'de' MMMM 'de' yyyy",{locale:Zv}):d.date&&!isNaN(new Date(d.date).getTime())?wp(new Date(d.date),"dd 'de' MMMM 'de' yyyy",{locale:Zv}):"Data não disponível"]}),d.notes&&s.jsxs(_s,{children:["Obs: ",d.notes]})]}),s.jsx(pD,{$variant:"success",children:"Aplicada"})]})},d.id)):s.jsx(_s,{style:{textAlign:"center"},children:"Nenhuma vacina aplicada."})})]})]})}const Zye=()=>{const{vaccines:t}=HS();return g.useEffect(()=>{const n=()=>{const o=yP(new Date),i=pse(o,3);t.forEach(a=>{if(a.status==="Pendente"){const c=new Date(a.date),l=yP(c);bae(l,o)&&yae(l,i)&&Notification.permission==="granted"&&new Notification("Lembrete de Vacina",{body:`${a.name} está agendada para ${c.toLocaleDateString()}`,icon:"/icon.png"})}})},r=setInterval(n,864e5);return n(),()=>clearInterval(r)},[t]),{requestNotificationPermission:async()=>{try{return await Notification.requestPermission()==="granted"}catch(n){return console.error("Erro ao solicitar permissão de notificação:",n),!1}}}},e1e=m.div`
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
`,t1e=m.div`
  margin-bottom: 30px;
`,n1e=m.h1`
  font-size: 24px;
  color: #333;
  margin: 0;
`,r1e=m.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;

  @media (max-width: 768px) {
    grid-template-columns: 1fr;
  }
`;function o1e(){const{requestNotificationPermission:t}=Zye();return g.useEffect(()=>{t()},[]),s.jsxs(e1e,{children:[s.jsx(t1e,{children:s.jsx(n1e,{children:"Carteira de Vacinação e Medicamentos"})}),s.jsxs(r1e,{children:[s.jsx(mye,{}),s.jsx(Jye,{})]})]})}const i1e=m.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.08);
  max-width: 500px;
  margin: 0 auto;

  @media (max-width: 600px) {
    max-height: 90vh;
    overflow-y: auto;
    padding-bottom: 80px;
  }
`,s1e=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`,a1e=m.h2`
  font-size: 20px;
  color: #333;
  margin: 0;
`;m.button`
  background: none;
  border: none;
  color: #666;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f0f0f0;
  }
`;const Nh=m.div`
  margin-bottom: 20px;
`,$h=m.label`
  display: block;
  margin-bottom: 8px;
  color: #666;
  font-weight: 500;
`,lv=m.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,c1e=m.textarea`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  min-height: 100px;
  resize: vertical;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,l1e=m.div`
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
`,lL=m.button`
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.2s;
`,d1e=m(lL)`
  background-color: #007bff;
  color: white;
  border: none;
  
  &:hover {
    background-color: #0056b3;
  }
`,u1e=m(lL)`
  background-color: #f8f9fa;
  color: #333;
  border: 1px solid #ddd;
  
  &:hover {
    background-color: #e9ecef;
  }
`,h1e=m.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
`;function p1e({onClose:t,onSuccess:e}){const[n,r]=g.useState({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),category:"veterinario",title:"",description:"",location:""}),{addDocument:o}=Ve("diary"),{user:i}=Ee(),{toast:a}=Ia(),c=async d=>{d.preventDefault();try{const h=await o({...n,date:ie.fromDate(l(n.date,n.time)),userId:i.uid,createdAt:ie.now()});h&&h.type==="SUCCESS"?(a({title:"Sucesso!",description:"Visita ao veterinário registrada com sucesso.",variant:"default"}),e&&e(),t()):a({title:"Erro",description:"Não foi possível adicionar o registro. Tente novamente.",variant:"destructive"})}catch(h){console.error("Error adding record:",h),a({title:"Erro",description:"Ocorreu um erro ao adicionar o registro. Tente novamente.",variant:"destructive"})}},l=(d,h)=>{const[u,f,v]=d.split("-").map(w=>parseInt(w,10)),[x,y]=h.split(":").map(w=>parseInt(w,10));return new Date(u,f-1,v,x,y)};return s.jsxs(i1e,{children:[s.jsx(s1e,{children:s.jsx(a1e,{children:"Nova Visita ao Veterinário"})}),s.jsxs("form",{onSubmit:c,children:[s.jsxs(h1e,{children:[s.jsxs(Nh,{children:[s.jsx($h,{children:"Data"}),s.jsx(lv,{type:"date",value:n.date,onChange:d=>r({...n,date:d.target.value}),required:!0})]}),s.jsxs(Nh,{children:[s.jsx($h,{children:"Hora"}),s.jsx(lv,{type:"time",value:n.time,onChange:d=>r({...n,time:d.target.value}),required:!0})]})]}),s.jsxs(Nh,{children:[s.jsx($h,{children:"Título"}),s.jsx(lv,{type:"text",value:n.title,onChange:d=>r({...n,title:d.target.value}),placeholder:"Ex: Consulta de rotina, Exame de sangue",required:!0})]}),s.jsxs(Nh,{children:[s.jsx($h,{children:"Descrição"}),s.jsx(c1e,{value:n.description,onChange:d=>r({...n,description:d.target.value}),placeholder:"Descreva os detalhes da visita...",required:!0})]}),s.jsxs(Nh,{children:[s.jsx($h,{children:"Localização (opcional)"}),s.jsx(lv,{type:"text",value:n.location,onChange:d=>r({...n,location:d.target.value}),placeholder:"Nome da clínica ou endereço"})]}),s.jsxs(l1e,{children:[s.jsx(u1e,{type:"button",onClick:t,children:"Cancelar"}),s.jsx(d1e,{type:"submit",children:"Salvar"})]})]})]})}const f1e=m.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.08);
  max-width: 500px;
  margin: 0 auto;

  @media (max-width: 600px) {
    max-height: 90vh;
    overflow-y: auto;
    padding-bottom: 80px;
  }
`,m1e=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`,g1e=m.h2`
  font-size: 20px;
  color: #333;
  margin: 0;
`;m.button`
  background: none;
  border: none;
  color: #666;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f0f0f0;
  }
`;const Cl=m.div`
  margin-bottom: 20px;
`,jl=m.label`
  display: block;
  margin-bottom: 8px;
  color: #666;
  font-weight: 500;
`,Oh=m.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,v1e=m.textarea`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  min-height: 100px;
  resize: vertical;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,x1e=m.div`
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
`,dL=m.button`
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.2s;
`,b1e=m(dL)`
  background-color: #007bff;
  color: white;
  border: none;
  
  &:hover {
    background-color: #0056b3;
  }
`,y1e=m(dL)`
  background-color: #f8f9fa;
  color: #333;
  border: 1px solid #ddd;
  
  &:hover {
    background-color: #e9ecef;
  }
`,fD=m.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
`;function w1e({onClose:t,onSuccess:e}){const[n,r]=g.useState({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),weight:"",height:"",length:"",notes:"",category:"peso"}),{addDocument:o}=Ve("diary"),{user:i}=Ee(),{toast:a}=Ia(),c=async d=>{d.preventDefault();try{const h=await o({...n,date:ie.fromDate(l(n.date,n.time)),userId:i.uid,createdAt:ie.now()});h&&h.type==="SUCCESS"?(a({title:"Sucesso!",description:"Registro de peso adicionado com sucesso.",variant:"default"}),e&&e(),t()):a({title:"Erro",description:"Não foi possível adicionar o registro. Tente novamente.",variant:"destructive"})}catch(h){console.error("Error adding record:",h),a({title:"Erro",description:"Ocorreu um erro ao adicionar o registro. Tente novamente.",variant:"destructive"})}},l=(d,h)=>{const[u,f,v]=d.split("-").map(w=>parseInt(w,10)),[x,y]=h.split(":").map(w=>parseInt(w,10));return new Date(u,f-1,v,x,y)};return s.jsxs(f1e,{children:[s.jsx(m1e,{children:s.jsx(g1e,{children:"Novo Registro de Peso e Medidas"})}),s.jsxs("form",{onSubmit:c,children:[s.jsxs(fD,{children:[s.jsxs(Cl,{children:[s.jsx(jl,{children:"Data"}),s.jsx(Oh,{type:"date",value:n.date,onChange:d=>r({...n,date:d.target.value}),required:!0})]}),s.jsxs(Cl,{children:[s.jsx(jl,{children:"Hora"}),s.jsx(Oh,{type:"time",value:n.time,onChange:d=>r({...n,time:d.target.value}),required:!0})]})]}),s.jsxs(fD,{children:[s.jsxs(Cl,{children:[s.jsx(jl,{children:"Peso (kg)"}),s.jsx(Oh,{type:"number",step:"0.1",value:n.weight,onChange:d=>r({...n,weight:d.target.value}),placeholder:"Ex: 5.2",required:!0})]}),s.jsxs(Cl,{children:[s.jsx(jl,{children:"Altura (cm)"}),s.jsx(Oh,{type:"number",value:n.height,onChange:d=>r({...n,height:d.target.value}),placeholder:"Ex: 25",required:!0})]})]}),s.jsxs(Cl,{children:[s.jsx(jl,{children:"Comprimento (cm)"}),s.jsx(Oh,{type:"number",value:n.length,onChange:d=>r({...n,length:d.target.value}),placeholder:"Ex: 40",required:!0})]}),s.jsxs(Cl,{children:[s.jsx(jl,{children:"Observações"}),s.jsx(v1e,{value:n.notes,onChange:d=>r({...n,notes:d.target.value}),placeholder:"Adicione observações relevantes..."})]}),s.jsxs(x1e,{children:[s.jsx(y1e,{type:"button",onClick:t,children:"Cancelar"}),s.jsx(b1e,{type:"submit",children:"Salvar"})]})]})]})}const _1e=m.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.08);
  max-width: 500px;
  margin: 0 auto;

  @media (max-width: 600px) {
    max-height: 90vh;
    overflow-y: auto;
    padding-bottom: 80px;
  }
`,E1e=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`,T1e=m.h2`
  font-size: 20px;
  color: #333;
  margin: 0;
`;m.button`
  background: none;
  border: none;
  color: #666;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f0f0f0;
  }
`;const Fh=m.div`
  margin-bottom: 20px;
`,Mh=m.label`
  display: block;
  margin-bottom: 8px;
  color: #666;
  font-weight: 500;
`,dv=m.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,I1e=m.textarea`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  min-height: 100px;
  resize: vertical;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,S1e=m.div`
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
`,uL=m.button`
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.2s;
`,k1e=m(uL)`
  background-color: #007bff;
  color: white;
  border: none;
  
  &:hover {
    background-color: #0056b3;
  }
`,C1e=m(uL)`
  background-color: #f8f9fa;
  color: #333;
  border: 1px solid #ddd;
  
  &:hover {
    background-color: #e9ecef;
  }
`,j1e=m.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
`;function A1e({onClose:t,onSuccess:e}){const[n,r]=g.useState({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),duration:"",location:"",notes:"",category:"passeio"}),{addDocument:o}=Ve("diary"),{user:i}=Ee(),{toast:a}=Ia(),c=async d=>{d.preventDefault();try{const h=await o({...n,date:ie.fromDate(l(n.date,n.time)),userId:i.uid,createdAt:ie.now()});h&&h.type==="SUCCESS"?(a({title:"Sucesso!",description:"Registro de passeio adicionado com sucesso.",variant:"default"}),e&&e(),t()):a({title:"Erro",description:"Não foi possível adicionar o registro. Tente novamente.",variant:"destructive"})}catch(h){console.error("Error adding record:",h),a({title:"Erro",description:"Ocorreu um erro ao adicionar o registro. Tente novamente.",variant:"destructive"})}},l=(d,h)=>{const[u,f,v]=d.split("-").map(w=>parseInt(w,10)),[x,y]=h.split(":").map(w=>parseInt(w,10));return new Date(u,f-1,v,x,y)};return s.jsxs(_1e,{children:[s.jsx(E1e,{children:s.jsx(T1e,{children:"Novo Registro de Passeio"})}),s.jsxs("form",{onSubmit:c,children:[s.jsxs(j1e,{children:[s.jsxs(Fh,{children:[s.jsx(Mh,{children:"Data"}),s.jsx(dv,{type:"date",value:n.date,onChange:d=>r({...n,date:d.target.value}),required:!0})]}),s.jsxs(Fh,{children:[s.jsx(Mh,{children:"Hora"}),s.jsx(dv,{type:"time",value:n.time,onChange:d=>r({...n,time:d.target.value}),required:!0})]})]}),s.jsxs(Fh,{children:[s.jsx(Mh,{children:"Duração (minutos)"}),s.jsx(dv,{type:"number",value:n.duration,onChange:d=>r({...n,duration:d.target.value}),placeholder:"Ex: 30",required:!0})]}),s.jsxs(Fh,{children:[s.jsx(Mh,{children:"Local"}),s.jsx(dv,{type:"text",value:n.location,onChange:d=>r({...n,location:d.target.value}),placeholder:"Onde foi o passeio?",required:!0})]}),s.jsxs(Fh,{children:[s.jsx(Mh,{children:"Observações"}),s.jsx(I1e,{value:n.notes,onChange:d=>r({...n,notes:d.target.value}),placeholder:"Adicione observações relevantes sobre o passeio..."})]}),s.jsxs(S1e,{children:[s.jsx(C1e,{type:"button",onClick:t,children:"Cancelar"}),s.jsx(k1e,{type:"submit",children:"Salvar"})]})]})]})}const P1e=m.div`
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.08);
  max-width: 500px;
  margin: 0 auto;

  @media (max-width: 600px) {
    max-height: 90vh;
    overflow-y: auto;
    padding-bottom: 80px;
  }
`,R1e=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
`,D1e=m.h2`
  font-size: 20px;
  color: #333;
  margin: 0;
`;m.button`
  background: none;
  border: none;
  color: #666;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  transition: background-color 0.2s;

  &:hover {
    background-color: #f0f0f0;
  }
`;const Lh=m.div`
  margin-bottom: 20px;
`,Vh=m.label`
  display: block;
  margin-bottom: 8px;
  color: #666;
  font-weight: 500;
`,uv=m.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,N1e=m.textarea`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  min-height: 100px;
  resize: vertical;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,$1e=m.div`
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
`,hL=m.button`
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.2s;
`,O1e=m(hL)`
  background-color: #007bff;
  color: white;
  border: none;
  
  &:hover {
    background-color: #0056b3;
  }
`,F1e=m(hL)`
  background-color: #f8f9fa;
  color: #333;
  border: 1px solid #ddd;
  
  &:hover {
    background-color: #e9ecef;
  }
`,M1e=m.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
`;function L1e({onClose:t,onSuccess:e}){const[n,r]=g.useState({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().slice(0,5),foodType:"",quantity:"",notes:"",category:"alimentacao"}),{addDocument:o}=Ve("diary"),{user:i}=Ee(),{toast:a}=Ia(),c=async d=>{d.preventDefault();try{(await o({...n,date:ie.fromDate(l(n.date,n.time)),userId:i.uid,createdAt:ie.now()})).type==="SUCCESS"?(a({title:"Sucesso!",description:"Registro de alimentação adicionado com sucesso.",variant:"default"}),e&&e(),t()):a({title:"Erro",description:"Não foi possível adicionar o registro. Tente novamente.",variant:"destructive"})}catch(h){console.error("Error adding record:",h),a({title:"Erro",description:"Ocorreu um erro ao adicionar o registro. Tente novamente.",variant:"destructive"})}},l=(d,h)=>{const[u,f,v]=d.split("-").map(w=>parseInt(w,10)),[x,y]=h.split(":").map(w=>parseInt(w,10));return new Date(u,f-1,v,x,y)};return s.jsxs(P1e,{children:[s.jsx(R1e,{children:s.jsx(D1e,{children:"Novo Registro de Alimentação"})}),s.jsxs("form",{onSubmit:c,children:[s.jsxs(M1e,{children:[s.jsxs(Lh,{children:[s.jsx(Vh,{children:"Data"}),s.jsx(uv,{type:"date",value:n.date,onChange:d=>r({...n,date:d.target.value}),required:!0})]}),s.jsxs(Lh,{children:[s.jsx(Vh,{children:"Hora"}),s.jsx(uv,{type:"time",value:n.time,onChange:d=>r({...n,time:d.target.value}),required:!0})]})]}),s.jsxs(Lh,{children:[s.jsx(Vh,{children:"Tipo de Alimento"}),s.jsx(uv,{type:"text",value:n.foodType,onChange:d=>r({...n,foodType:d.target.value}),placeholder:"Ex: Ração Premium, Carne, Frango",required:!0})]}),s.jsxs(Lh,{children:[s.jsx(Vh,{children:"Quantidade"}),s.jsx(uv,{type:"text",value:n.quantity,onChange:d=>r({...n,quantity:d.target.value}),placeholder:"Ex: 100g, 1 xícara",required:!0})]}),s.jsxs(Lh,{children:[s.jsx(Vh,{children:"Observações"}),s.jsx(N1e,{value:n.notes,onChange:d=>r({...n,notes:d.target.value}),placeholder:"Adicione observações relevantes sobre a alimentação..."})]}),s.jsxs($1e,{children:[s.jsx(F1e,{type:"button",onClick:t,children:"Cancelar"}),s.jsx(O1e,{type:"submit",children:"Salvar"})]})]})]})}const V1e=m.div`
  padding: 20px;
`,z1e=m.h2`
  font-size: 20px;
  color: #333;
  margin-bottom: 20px;
`,hv=m.div`
  margin-bottom: 20px;
`,pv=m.label`
  display: block;
  margin-bottom: 8px;
  color: #666;
  font-weight: 500;
`,sw=m.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,B1e=m.textarea`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  min-height: 100px;
  resize: vertical;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,U1e=m.div`
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 20px;
`,pL=m.button`
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
  cursor: pointer;
  transition: background-color 0.2s;
`,q1e=m(pL)`
  background-color: #007bff;
  color: white;
  border: none;
  
  &:hover {
    background-color: #0056b3;
  }
`,W1e=m(pL)`
  background-color: #f8f9fa;
  color: #333;
  border: 1px solid #ddd;
  
  &:hover {
    background-color: #e9ecef;
  }
`,H1e=({onClose:t,onSuccess:e})=>{const[n,r]=g.useState(""),[o,i]=g.useState(""),[a,c]=g.useState(new Date().toISOString().split("T")[0]),[l,d]=g.useState(new Date().toTimeString().slice(0,5)),{addDocument:h}=Ve("diary"),{user:u}=Ee(),{toast:f}=Ia(),v=async y=>{y.preventDefault();try{const _=await h({type:"other",title:n,description:o,date:ie.fromDate(x(a,l)),userId:u.uid,createdAt:ie.now(),category:"outros"});_&&_.type==="SUCCESS"?(f({title:"Sucesso!",description:"Registro adicionado com sucesso.",variant:"default"}),e&&e(),t()):f({title:"Erro",description:"Não foi possível adicionar o registro. Tente novamente.",variant:"destructive"})}catch(_){console.error("Error adding record:",_),f({title:"Erro",description:"Ocorreu um erro ao adicionar o registro. Tente novamente.",variant:"destructive"})}},x=(y,_)=>{const[w,E,I]=y.split("-").map(k=>parseInt(k,10)),[j,D]=_.split(":").map(k=>parseInt(k,10));return new Date(w,E-1,I,j,D)};return s.jsxs(V1e,{children:[s.jsx(z1e,{children:"Novo Registro"}),s.jsxs("form",{onSubmit:v,children:[s.jsxs(hv,{children:[s.jsx(pv,{children:"Título"}),s.jsx(sw,{type:"text",value:n,onChange:y=>r(y.target.value),required:!0,placeholder:"Digite um título para o registro"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[s.jsxs(hv,{children:[s.jsx(pv,{children:"Data"}),s.jsx(sw,{type:"date",value:a,onChange:y=>c(y.target.value),required:!0})]}),s.jsxs(hv,{children:[s.jsx(pv,{children:"Hora"}),s.jsx(sw,{type:"time",value:l,onChange:y=>d(y.target.value),required:!0})]})]}),s.jsxs(hv,{children:[s.jsx(pv,{children:"Descrição"}),s.jsx(B1e,{value:o,onChange:y=>i(y.target.value),required:!0,placeholder:"Descreva o registro em detalhes"})]}),s.jsxs(U1e,{children:[s.jsx(W1e,{type:"button",onClick:t,children:"Cancelar"}),s.jsx(q1e,{type:"submit",children:"Salvar"})]})]})]})},G1e=(t,e,n,r,o,i,a)=>{const[c,l]=g.useState(null),[d,h]=g.useState(null),u=g.useRef(!1),f=g.useRef(e).current,v=g.useRef(n).current,x=g.useRef(r).current;return g.useEffect(()=>{let y;y=cr(Re,t),f&&(y=Wn(y,ac(...f))),x&&(y=Wn(y,ac(...x)));const _=gu(y,w=>{const E=[];w.forEach(I=>{E.push({...I.data(),id:I.id})}),l(E),h(null),u.current=!0},w=>{console.log("Erro na coleção ",t),console.log(w),h(w.message||"Could not list transactions.")});return()=>_()},[t,f,x,v,lf]),{documents:c,error:d}},K1e="AlertDialog",[Y1e,P_e]=Mi(K1e,[o6]),ja=o6(),Q1e=t=>{const{__scopeAlertDialog:e,...n}=t,r=ja(e);return g.createElement(l6,Z({},r,n,{modal:!0}))},X1e=t=>{const{__scopeAlertDialog:e,...n}=t,r=ja(e);return g.createElement(Kf,Z({},r,n))},J1e=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ja(n);return g.createElement(Yf,Z({},o,r,{ref:e}))}),fL="AlertDialogContent",[Z1e,ewe]=Y1e(fL),twe=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...o}=t,i=ja(n),a=g.useRef(null),c=bt(e,a),l=g.useRef(null);return g.createElement(Rie,{contentName:fL,titleName:nwe,docsSlug:"alert-dialog"},g.createElement(Z1e,{scope:n,cancelRef:l},g.createElement(Qf,Z({role:"alertdialog"},i,o,{ref:c,onOpenAutoFocus:ye(o.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=l.current)===null||h===void 0||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault()}),g.createElement(qF,null,r),!1)))}),nwe="AlertDialogTitle",rwe=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ja(n);return g.createElement(Xf,Z({},o,r,{ref:e}))}),owe=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ja(n);return g.createElement(Jf,Z({},o,r,{ref:e}))}),iwe=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,o=ja(n);return g.createElement(jb,Z({},o,r,{ref:e}))}),swe="AlertDialogCancel",awe=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:o}=ewe(swe,n),i=ja(n),a=bt(e,o);return g.createElement(jb,Z({},i,r,{ref:a}))}),cwe=Q1e,lwe=X1e,mL=J1e,gL=twe,vL=iwe,xL=awe,bL=rwe,yL=owe,dwe=cwe,uwe=lwe,wL=g.forwardRef(({className:t,...e},n)=>s.jsx(mL,{className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));wL.displayName=mL.displayName;const _L=g.forwardRef(({className:t,...e},n)=>s.jsxs(uwe,{children:[s.jsx(wL,{}),s.jsx(gL,{ref:n,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));_L.displayName=gL.displayName;const EL=({className:t,...e})=>s.jsx("div",{className:Se("flex flex-col space-y-2 text-center sm:text-left",t),...e});EL.displayName="AlertDialogHeader";const TL=({className:t,...e})=>s.jsx("div",{className:Se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});TL.displayName="AlertDialogFooter";const IL=g.forwardRef(({className:t,...e},n)=>s.jsx(bL,{ref:n,className:Se("text-lg font-semibold",t),...e}));IL.displayName=bL.displayName;const SL=g.forwardRef(({className:t,...e},n)=>s.jsx(yL,{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));SL.displayName=yL.displayName;const kL=g.forwardRef(({className:t,...e},n)=>s.jsx(vL,{ref:n,className:Se(GS(),t),...e}));kL.displayName=vL.displayName;const CL=g.forwardRef(({className:t,...e},n)=>s.jsx(xL,{ref:n,className:Se(GS({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));CL.displayName=xL.displayName;const hwe=m.div`
  margin-top: 0;
  max-height: 60vh;
  overflow-y: auto;
  padding-right: 5px;
  
  /* Estilo da barra de rolagem */
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: #f5f5f5;
    border-radius: 10px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: #d1d1d1;
    border-radius: 10px;
  }
  
  &::-webkit-scrollbar-thumb:hover {
    background: #b8b8b8;
  }

  @media (max-width: 600px) {
    max-height: none;
    height: auto;
    padding-bottom: 72px;
    padding-top: 0;
  }
`,pwe=m.h3`
  font-size: 18px;
  color: #333;
  margin-bottom: 15px;
`,fwe=m.p`
  color: #666;
  font-style: italic;
  padding: 20px;
  text-align: center;
  background: #f9f9f9;
  border-radius: 8px;
`,mwe=m.div`
  border: 1px solid #eee;
  border-radius: 8px;
  margin-bottom: 12px;
  overflow: hidden;
`,gwe=m.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  background: #f5f5f5;
  cursor: pointer;
  transition: background-color 0.2s, border-radius 0.3s;
  position: relative;
  border-radius: ${t=>t.expanded==="true"?"8px 8px 0 0":"8px"};
  
  &:hover {
    background-color: #e9e9e9;
  }
  
  &::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 15px;
    right: 15px;
    height: 1px;
    background-color: #e0e0e0;
    opacity: ${t=>t.expanded==="true"?"1":"0"};
    transition: opacity 0.2s;
  }
`,vwe=m.div`
  font-weight: 500;
`,xwe=m.span`
  color: #666;
  margin-left: 10px;
  font-size: 14px;
`,bwe=m.div`
  padding: 0;
  background: white;
  height: ${t=>t.expanded==="true"?"auto":"0"};
  max-height: ${t=>t.expanded==="true"?"1000px":"0"};
  overflow: hidden;
  opacity: ${t=>t.expanded==="true"?"1":"0"};
  transition: max-height 0.4s ease-in-out, opacity 0.3s ease-in-out;
  border-top: ${t=>t.expanded==="true"?"1px solid #eee":"none"};
  border-radius: 0 0 8px 8px;
  margin-top: ${t=>t.expanded==="true"?"-1px":"0"};
`,ywe=m.div`
  padding: 15px;
  opacity: ${t=>t.expanded==="true"?"1":"0"};
  transition: opacity 0.2s ease-in-out;
  transition-delay: ${t=>t.expanded==="true"?"0.1s":"0"};
`,wwe=m.div`
  display: flex;
  gap: 10px;
`,mD=m.button`
  background: none;
  border: none;
  cursor: pointer;
  color: #666;
  display: flex;
  align-items: center;
  padding: 5px;
  
  &:hover {
    color: ${t=>t.$delete?"#dc3545":"#007bff"};
  }
`,Al=m.div`
  margin-bottom: 12px;
  display: flex;
  flex-direction: column;
  
  @media (min-width: 640px) {
    flex-direction: row;
    align-items: flex-start;
  }
`,Pl=m.span`
  font-weight: 600;
  color: #555;
  margin-right: 12px;
  min-width: 120px;
  display: block;
  margin-bottom: 4px;
  
  @media (min-width: 640px) {
    margin-bottom: 0;
    flex-shrink: 0;
  }
`,Rl=m.span`
  color: #333;
  flex: 1;
  display: block;
  word-break: break-word;
`,gD=m.hr`
  margin: 15px 0;
  border: 0;
  height: 1px;
  background-color: #eee;
`,_we=m.div`
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
`,aw=m.button`
  padding: 8px 12px;
  border-radius: 4px;
  background-color: ${t=>t.active==="true"?"#007bff":"#f0f0f0"};
  color: ${t=>t.active==="true"?"white":"#333"};
  border: none;
  cursor: pointer;
  font-size: 14px;
  
  &:hover {
    background-color: ${t=>t.active==="true"?"#0056b3":"#e0e0e0"};
  }
`,Ewe=m.div`
  display: flex;
  justify-content: center;
  padding: 20px;
  color: #666;
`,Twe=m.div`
  display: flex;
  justify-content: center;
  margin-top: 20px;
  gap: 10px;
`,cw=m.button`
  padding: 8px 12px;
  border-radius: 4px;
  background-color: ${t=>t.active==="true"?"#007bff":"#f0f0f0"};
  color: ${t=>t.active==="true"?"white":"#333"};
  border: none;
  cursor: pointer;
  
  &:hover {
    background-color: ${t=>t.active==="true"?"#0056b3":"#e0e0e0"};
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`,Iwe=m.div`
  margin-bottom: 15px;
`,Swe=m.input`
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 16px;
  
  &:focus {
    outline: none;
    border-color: #007bff;
  }
`,kwe=m.div`
  display: flex;
  gap: 15px;
  margin-bottom: 20px;
`,lw=m.div`
  flex: 1;
  background: #f8f9fa;
  border-radius: 8px;
  padding: 15px;
  text-align: center;
`,dw=m.div`
  font-size: 24px;
  font-weight: 600;
  color: #007bff;
`,uw=m.div`
  font-size: 14px;
  color: #666;
  margin-top: 5px;
`,Cwe=m.div`
  display: flex;
  align-items: center;
  transition: transform 0.3s ease;
  transform: ${t=>t.expanded==="true"?"rotate(180deg)":"rotate(0)"};
`;m.div`
  display: inline-block;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  color: white;
  background-color: ${t=>{switch(t.category){case"veterinario":return"#4a90e2";case"peso":return"#50b83c";case"passeio":return"#9c6ade";case"alimentacao":return"#f49342";default:return"#637381"}}};
`;const vD=m.div`
  color: #666;
  font-style: italic;
  padding: 10px 0;
  text-align: center;
`;function rm({category:t,columns:e}){const[n,r]=g.useState([]),[o,i]=g.useState(!0),[a,c]=g.useState("all"),[l,d]=g.useState({}),[h,u]=g.useState(""),[f,v]=g.useState(1),x=5,[y,_]=g.useState(!1),[w,E]=g.useState(null),{deleteDocument:I}=Ve("diary"),{user:j}=Ee(),{toast:D}=Ia(),{documents:$,error:k}=G1e("diary",["userId","==",j==null?void 0:j.uid]);g.useEffect(()=>{if(i(!0),$)try{console.log("Todas as categorias disponíveis:",$.map(be=>be.category)),console.log("Categoria que estamos filtrando:",t);let L=$.filter(be=>be.category===t||t==="veterinario"&&(be.category==="vet"||be.category==="veterinária"||be.category==="veterinaria")||t==="passeio"&&(be.category==="passeios"||be.category==="walk")||t==="alimentacao"&&(be.category==="alimentação"||be.category==="comida"||be.category==="food")||t==="peso"&&(be.category==="weight"||be.category==="medidas")||t==="outros"&&(be.category==="other"||be.category==="outro"));console.log("Registros filtrados por categoria:",L.length),L.sort((be,Ie)=>{var ke,me;try{const Ae=(ke=be.date)!=null&&ke.toDate?be.date.toDate():new Date(be.date);return((me=Ie.date)!=null&&me.toDate?Ie.date.toDate():new Date(Ie.date))-Ae}catch(Ae){return console.error("Erro ao ordenar datas:",Ae),0}});let X=L;if(a==="week"){const be=new Date;be.setDate(be.getDate()-7),X=L.filter(Ie=>{try{return Ie.date&&Ie.date.toDate&&Ie.date.toDate()>=be}catch(ke){return console.error("Erro ao filtrar por semana:",ke,Ie),!1}})}else if(a==="month"){const be=new Date;be.setMonth(be.getMonth()-1),X=L.filter(Ie=>{try{return Ie.date&&Ie.date.toDate&&Ie.date.toDate()>=be}catch(ke){return console.error("Erro ao filtrar por mês:",ke,Ie),!1}})}h.trim()&&(X=X.filter(be=>Object.keys(be).some(Ie=>{const ke=be[Ie];return typeof ke=="string"&&ke.toLowerCase().includes(h.toLowerCase())}))),r(X),v(1);const $e={};X.forEach(be=>{$e[be.id]=!1}),d($e)}catch(L){console.error("Erro ao processar documentos:",L),D({title:"Erro ao processar dados",description:"Ocorreu um erro ao processar os dados. Tente novamente.",variant:"destructive"})}finally{i(!1)}},[$,a,h,t,D,j==null?void 0:j.uid,e]),g.useEffect(()=>{k?(console.error(`Erro na coleção ${t}:`,k),D({title:"Erro ao carregar histórico",description:"Estamos com problemas técnicos para carregar o histórico. Tente novamente mais tarde.",variant:"destructive"}),i(!1)):$&&$.length===0&&(r([]),i(!1))},[k,t,D,$]);const S=async L=>{E(L),_(!0)},C=async()=>{if(w)try{await I(w),r(L=>L.filter(X=>X.id!==w)),D({title:"Sucesso!",description:"Registro excluído com sucesso.",variant:"default"})}catch(L){console.error("Error deleting record:",L),D({title:"Erro",description:"Não foi possível excluir o registro. Tente novamente.",variant:"destructive"})}finally{_(!1),E(null)}},P=L=>{d(X=>({...X,[L]:!X[L]}))},N=L=>{try{if(!L)return"Data não disponível";const X=L.toDate?L.toDate():new Date(L);return wp(X,"dd 'de' MMMM 'de' yyyy",{locale:Zv})}catch(X){return console.error("Erro ao formatar data:",X,L),"Data inválida"}},O=L=>{try{if(!L)return"";const X=L.toDate?L.toDate():new Date(L);return wp(X,"HH:mm")}catch(X){return console.error("Erro ao formatar hora:",X,L),""}},R=n.length,K=n.filter(L=>{try{const X=new Date;return X.setDate(X.getDate()-7),L.date&&L.date.toDate&&L.date.toDate()>=X}catch(X){return console.error("Erro ao processar data do registro:",X,L),!1}}).length,re=n.filter(L=>{try{const X=new Date;return X.setMonth(X.getMonth()-1),L.date&&L.date.toDate&&L.date.toDate()>=X}catch(X){return console.error("Erro ao processar data do registro:",X,L),!1}}).length,oe=f*x,xe=oe-x,W=n.slice(xe,oe),B=Math.ceil(n.length/x),J=L=>v(L),ue=()=>v(L=>Math.max(L-1,1)),ce=()=>v(L=>Math.min(L+1,B)),U=(L,X)=>{if(!X)return"";switch(L){case"weight":return`${X} kg`;case"height":case"length":return`${X} cm`;case"duration":return`${X} minutos`;case"nextAppointment":return N(X);default:return X}},se=(L,X,$e)=>{if(!L)return s.jsx(vD,{children:"Nenhum detalhe disponível"});if(console.log("Categoria do registro:",L.category),console.log("Categoria esperada:",X),console.log("Todos os campos do registro:",Object.keys(L)),X==="veterinario"){const me=[];if(L.title&&me.push({key:"title",label:"Título",value:L.title}),L.description&&me.push({key:"description",label:"Descrição",value:L.description}),L.location&&me.push({key:"location",label:"Localização",value:L.location}),L.vetName&&me.push({key:"vetName",label:"Veterinário",value:L.vetName}),L.procedure&&me.push({key:"procedure",label:"Procedimento",value:L.procedure}),L.reason&&me.push({key:"reason",label:"Motivo",value:L.reason}),me.length>0||L.notes)return s.jsxs("div",{className:"space-y-4",children:[me.length>0&&s.jsx("div",{className:"space-y-3",children:me.map(Ae=>s.jsxs(Al,{children:[s.jsxs(Pl,{children:[Ae.label,":"]}),s.jsx(Rl,{children:Ae.value})]},Ae.key))}),L.notes&&s.jsxs("div",{children:[me.length>0&&s.jsx(gD,{}),s.jsxs(Al,{children:[s.jsx(Pl,{children:"Observações:"}),s.jsx(Rl,{className:"whitespace-pre-line",children:L.notes})]})]})]})}const Ie={veterinario:["vetName","procedure","reason","nextAppointment"],peso:["weight","height","length"],passeio:["duration","location"],alimentacao:["foodType","quantity"],outros:["title","description"]}[X]||[];console.log("Campos a verificar para esta categoria:",Ie),console.log("Valores no registro para estes campos:",Ie.map(me=>({field:me,value:L[me]})));let ke=[];if($e&&$e.length>0?ke=$e.map(me=>{const Ae=L[me.key];return console.log(`Verificando coluna ${me.key}:`,Ae),{key:me.key,label:me.label,value:Ae?U(me.key,Ae):null}}).filter(me=>me.value):ke=Object.entries(L).filter(([me,Ae])=>!["id","date","userId","createdAt","category","notes"].includes(me)&&Ae).map(([me,Ae])=>({key:me,label:me.replace(/([A-Z])/g," $1").replace(/^./,fn=>fn.toUpperCase()).trim(),value:U(me,Ae)})),X==="veterinario"&&L.nextAppointment&&ke.push({key:"nextAppointment",label:"Próxima Consulta",value:N(L.nextAppointment)}),ke.length===0&&(L.title&&ke.push({key:"title",label:"Título",value:L.title}),L.description&&!ke.some(me=>me.key==="description")&&ke.push({key:"description",label:"Descrição",value:L.description}),L.location&&!ke.some(me=>me.key==="location")&&ke.push({key:"location",label:"Localização",value:L.location})),console.log("Campos a serem exibidos após processamento:",ke),ke.length===0&&!L.notes){const me=Object.entries(L).filter(([Ae,fn])=>!["id","date","userId","createdAt","category","notes"].includes(Ae)&&fn);return console.log("Campos adicionais encontrados:",me),me.length===0?s.jsx(vD,{children:"Nenhum detalhe adicional disponível"}):s.jsxs("div",{className:"space-y-4",children:[me.map(([Ae,fn])=>{const rr=Ae.replace(/([A-Z])/g," $1").replace(/^./,vr=>vr.toUpperCase()).trim();return s.jsxs(Al,{children:[s.jsxs(Pl,{children:[rr,":"]}),s.jsx(Rl,{children:U(Ae,fn)})]},Ae)}),L.notes&&s.jsxs(Al,{children:[s.jsx(Pl,{children:"Observações:"}),s.jsx(Rl,{className:"whitespace-pre-line",children:L.notes})]})]})}return s.jsxs("div",{className:"space-y-4",children:[ke.length>0&&s.jsx("div",{className:"space-y-3",children:ke.map(me=>s.jsxs(Al,{children:[s.jsxs(Pl,{children:[me.label,":"]}),s.jsx(Rl,{children:me.value})]},me.key))}),L.notes&&s.jsxs("div",{children:[ke.length>0&&s.jsx(gD,{}),s.jsxs(Al,{children:[s.jsx(Pl,{children:"Observações:"}),s.jsx(Rl,{className:"whitespace-pre-line",children:L.notes})]})]})]})};return s.jsxs(hwe,{children:[s.jsx(pwe,{children:"Histórico de Registros"}),s.jsx(dwe,{open:y,onOpenChange:_,children:s.jsxs(_L,{className:"border-none shadow-lg",children:[s.jsxs(EL,{children:[s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx(US,{className:"text-red-500 mr-2",size:24}),s.jsx(IL,{children:"Confirmar exclusão"})]}),s.jsxs(SL,{className:"text-center",children:["Tem certeza que deseja excluir este registro?",s.jsx("br",{}),"Esta ação não pode ser desfeita."]})]}),s.jsxs(TL,{children:[s.jsx(CL,{className:"bg-gray-100 hover:bg-gray-200 text-gray-800 border-none",children:"Cancelar"}),s.jsx(kL,{onClick:C,className:"bg-red-500 hover:bg-red-600 text-white border-none",children:"Excluir"})]})]})}),s.jsxs(kwe,{children:[s.jsxs(lw,{children:[s.jsx(dw,{children:R}),s.jsx(uw,{children:"Total de Registros"})]}),s.jsxs(lw,{children:[s.jsx(dw,{children:K}),s.jsx(uw,{children:"Nesta Semana"})]}),s.jsxs(lw,{children:[s.jsx(dw,{children:re}),s.jsx(uw,{children:"Neste Mês"})]})]}),s.jsx(Iwe,{children:s.jsx(Swe,{type:"text",placeholder:"Buscar registros...",value:h,onChange:L=>u(L.target.value)})}),s.jsxs(_we,{children:[s.jsx(aw,{active:a==="all"?"true":void 0,onClick:()=>c("all"),children:"Todos"}),s.jsx(aw,{active:a==="week"?"true":void 0,onClick:()=>c("week"),children:"Última Semana"}),s.jsx(aw,{active:a==="month"?"true":void 0,onClick:()=>c("month"),children:"Último Mês"})]}),o?s.jsx(Ewe,{children:"Carregando registros..."}):n.length===0?s.jsx(fwe,{children:"Nenhum registro encontrado."}):s.jsxs(s.Fragment,{children:[W.map(L=>s.jsxs(mwe,{children:[s.jsxs(gwe,{onClick:()=>P(L.id),expanded:l[L.id]?"true":"false",children:[s.jsxs(vwe,{children:[N(L.date),s.jsx(xwe,{children:O(L.date)})]}),s.jsxs(wwe,{children:[s.jsx(mD,{onClick:X=>{X.stopPropagation(),P(L.id)},children:s.jsx(Cwe,{expanded:l[L.id]?"true":"false",children:s.jsx(h8,{size:18})})}),s.jsx(mD,{$delete:!0,onClick:X=>{X.stopPropagation(),S(L.id)},children:s.jsx(g8,{size:18})})]})]}),s.jsx(bwe,{expanded:l[L.id]?"true":"false",children:s.jsx(ywe,{expanded:l[L.id]?"true":"false",children:se(L,t,e)})})]},L.id)),B>1&&s.jsxs(Twe,{children:[s.jsx(cw,{onClick:ue,disabled:f===1,children:"Anterior"}),Array.from({length:B},(L,X)=>X+1).map(L=>s.jsx(cw,{active:f===L?"true":void 0,onClick:()=>J(L),children:L},L)),s.jsx(cw,{onClick:ce,disabled:f===B,children:"Próximo"})]})]})]})}function jwe(){const t=[{key:"vetName",label:"Veterinário"},{key:"procedure",label:"Procedimento"},{key:"reason",label:"Motivo"}];return s.jsx(rm,{category:"veterinario",columns:t})}function Awe(){const t=[{key:"weight",label:"Peso"},{key:"height",label:"Altura"},{key:"length",label:"Comprimento"}];return s.jsx(rm,{category:"peso",columns:t})}function Pwe(){const t=[{key:"duration",label:"Duração (min)"},{key:"location",label:"Local"}];return s.jsx(rm,{category:"passeio",columns:t})}function Rwe(){const t=[{key:"foodType",label:"Tipo de Alimento"},{key:"quantity",label:"Quantidade"}];return s.jsx(rm,{category:"alimentacao",columns:t})}function Dwe(){const t=[{key:"title",label:"Título"},{key:"description",label:"Descrição"}];return s.jsx(rm,{category:"outros",columns:t})}const Nwe=m.div`
  margin-bottom: 20px;
`,$we=m.div`
  display: flex;
  border-bottom: 1px solid #ddd;
`,xD=m.button`
  padding: 10px 15px;
  background: ${t=>t.active==="true"?"white":"transparent"};
  border: none;
  border-bottom: 2px solid ${t=>t.active==="true"?"#007bff":"transparent"};
  color: ${t=>t.active==="true"?"#007bff":"#666"};
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  
  &:hover {
    color: #007bff;
  }
`,Owe=m.div`
  padding-top: 20px;
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
`,Fwe=m.div`
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  max-width: 500px;
  margin: 0 auto;
  padding: 48px 24px 24px 24px;
  position: relative;
  display: flex;
  flex-direction: column;
  max-height: 90vh;
  min-height: 0;
`;function Mwe({category:t,formComponent:e,listComponent:n}){const[r,o]=g.useState("form"),i=Be.cloneElement(e,{onSuccess:()=>{o("list")}});return s.jsxs(Fwe,{children:[s.jsx(Nwe,{children:s.jsxs($we,{children:[s.jsxs(xD,{active:r==="form"?"true":"false",onClick:()=>o("form"),children:[s.jsx(Jne,{size:18}),"Registrar"]}),s.jsxs(xD,{active:r==="list"?"true":"false",onClick:()=>o("list"),children:[s.jsx(qne,{size:18}),"Histórico"]})]})}),s.jsx(Owe,{children:r==="form"?i:n})]})}const Lwe=m.div`
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
`,Vwe=m.h1`
  font-size: 28px;
  color: #333;
  margin-bottom: 30px;
`,zwe=m.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
`,Bwe=m.div`
  background: white;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  cursor: pointer;
  transition: transform 0.2s;
  position: relative;

  &:hover {
    transform: translateY(-2px);
  }
`,Uwe=m.div`
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 15px;
`,qwe=m.div`
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f0f0f0;
  border-radius: 8px;
  color: #007bff;
`,Wwe=m.h2`
  font-size: 20px;
  color: #333;
  margin: 0;
`,Hwe=m.p`
  color: #666;
  margin-bottom: 15px;
`,bD=[{id:"veterinario",title:"Visitas ao Veterinário",icon:tre,description:"Registre consultas, exames e procedimentos veterinários",color:"bg-blue-500",form:p1e,list:jwe},{id:"peso",title:"Peso e Medidas",icon:Zne,description:"Acompanhe o peso e medidas do seu pet",color:"bg-green-500",form:w1e,list:Awe},{id:"passeios",title:"Passeios",icon:LS,description:"Registre os passeios e atividades físicas",color:"bg-purple-500",form:A1e,list:Pwe},{id:"alimentacao",title:"Alimentação",icon:v8,description:"Controle a alimentação e dieta do seu pet",color:"bg-orange-500",form:L1e,list:Rwe},{id:"outros",title:"Outros Registros",icon:MS,description:"Registre outros acontecimentos importantes",color:"bg-gray-500",form:H1e,list:Dwe}];function Gwe(){const[t,e]=g.useState(null),[n,r]=g.useState(!1),o=a=>{e(a.id),a.form&&r(!0)},i=()=>{const a=bD.find(d=>d.id===t);if(!a)return null;const c=a.form,l=a.list;return s.jsx(Mwe,{category:a.id,formComponent:s.jsx(c,{onClose:()=>r(!1)}),listComponent:s.jsx(l,{})})};return s.jsxs(Lwe,{children:[s.jsx(Vwe,{children:"Diário do Pet"}),s.jsx(d6,{open:n,onOpenChange:r,children:s.jsx(QS,{className:"max-w-2xl",children:i()})}),s.jsx(zwe,{children:bD.map(a=>{const c=a.icon;return s.jsxs(Bwe,{onClick:()=>o(a),children:[s.jsxs(Uwe,{children:[s.jsx(qwe,{children:s.jsx(c,{size:24})}),s.jsx(Wwe,{children:a.title})]}),s.jsx(Hwe,{children:a.description})]},a.id)})})]})}const Kwe=()=>{const[t,e]=g.useState({}),n=[{icon:s.jsx(rre,{size:24}),title:"Conta e Perfil",items:[{question:"Como criar uma conta",answer:'Para criar uma conta, clique em "Cadastrar" na tela de login. Preencha seus dados pessoais, incluindo nome, email e senha. Após o cadastro, você receberá um email de confirmação.'},{question:"Como editar seu perfil",answer:'Acesse o menu "Perfil" e clique no ícone de edição. Você pode atualizar suas informações pessoais, foto de perfil e preferências de notificação.'},{question:"Como adicionar um pet",answer:'No menu "Perfil", clique em "Adicionar Pet". Preencha as informações do seu pet, incluindo nome, espécie, raça, data de nascimento e foto.'},{question:"Como gerenciar múltiplos pets",answer:"Você pode adicionar quantos pets desejar. Use o seletor de pets no topo da tela para alternar entre eles. Cada pet tem seu próprio perfil e histórico."}]},{icon:s.jsx(Ll,{size:24}),title:"Notificações",items:[{question:"Como ativar/desativar notificações",answer:'Acesse o menu "Notificações" e use os interruptores para ativar ou desativar cada tipo de notificação. Você pode personalizar quais alertas deseja receber.'},{question:"Tipos de notificações disponíveis",answer:"Oferecemos notificações para: lembretes de alimentação, passeios, vacinas, consultas veterinárias, treinamentos e eventos importantes do seu pet."},{question:"Configurar horários de lembretes",answer:"Em cada tipo de notificação, você pode definir horários específicos. Por exemplo, para alimentação, você pode configurar os horários das refeições do seu pet."},{question:"Solução de problemas com notificações",answer:"Se não estiver recebendo notificações, verifique as configurações do seu navegador e dispositivo. Certifique-se de que o PetziApp tem permissão para enviar notificações."}]},{icon:s.jsx(J0,{size:24}),title:"Privacidade e Segurança",items:[{question:"Configurações de privacidade",answer:'No menu "Configurações", você pode controlar quem pode ver as informações do seu pet, definir senhas de acesso e gerenciar permissões de compartilhamento.'},{question:"Como proteger sua conta",answer:"Use uma senha forte, ative a autenticação de dois fatores e mantenha seu email de recuperação atualizado. Nunca compartilhe suas credenciais de acesso."},{question:"Gerenciamento de dados",answer:'Você pode exportar ou excluir seus dados a qualquer momento. Acesse "Configurações > Privacidade" para gerenciar suas informações.'},{question:"Política de privacidade",answer:'Nossa política de privacidade detalha como coletamos, usamos e protegemos seus dados. Você pode acessá-la em "Configurações > Privacidade".'}]},{icon:s.jsx(Eb,{size:24}),title:"Segurança do Pet",items:[{question:"Como adicionar informações médicas",answer:'No perfil do seu pet, acesse a seção "Saúde". Aqui você pode registrar histórico médico, alergias, medicamentos e condições especiais.'},{question:"Registro de vacinas",answer:'Na seção "Vacinas", você pode registrar todas as vacinas do seu pet, incluindo datas, próximas doses e documentos comprovantes.'},{question:"Histórico de consultas",answer:"Mantenha um registro completo das consultas veterinárias, incluindo diagnósticos, tratamentos e recomendações do veterinário."},{question:"Emergências veterinárias",answer:'Em caso de emergência, acesse a seção "Emergências" para encontrar veterinários 24h próximos e informações de primeiros socorros.'}]},{icon:s.jsx(Kne,{size:24}),title:"Suporte",items:[{question:"Como entrar em contato com o suporte",answer:"Você pode nos contatar através do chat dentro do app, email (suporte@petziapp.com) ou telefone (0800-123-4567)."},{question:"FAQ - Perguntas frequentes",answer:"Acesse nossa seção de perguntas frequentes para encontrar respostas rápidas para as dúvidas mais comuns sobre o uso do app."},{question:"Reportar problemas",answer:'Use o botão "Reportar Problema" nas configurações para enviar detalhes sobre qualquer problema técnico que encontrar.'},{question:"Sugerir melhorias",answer:"Valorizamos seu feedback! Use o formulário de sugestões para compartilhar ideias de melhorias para o PetziApp."}]},{icon:s.jsx(Mne,{size:24}),title:"Pagamentos e Assinatura",items:[{question:"Planos disponíveis",answer:'Oferecemos planos mensais e anuais, com diferentes níveis de acesso. Compare os planos em "Configurações > Assinatura".'},{question:"Como atualizar seu plano",answer:'Acesse "Configurações > Assinatura" e escolha o novo plano. O upgrade será aplicado imediatamente, com cobrança proporcional.'},{question:"Métodos de pagamento",answer:"Aceitamos cartões de crédito, débito, PIX e boleto bancário. Os pagamentos são processados de forma segura."},{question:"Cancelamento de assinatura",answer:'Você pode cancelar sua assinatura a qualquer momento em "Configurações > Assinatura". O acesso será mantido até o fim do período pago.'}]}],r=(o,i)=>{const a=`${o}-${i}`;e(c=>({...c,[a]:!c[a]}))};return s.jsxs("div",{className:"help-container",children:[s.jsxs("div",{className:"help-header",children:[s.jsx(Dne,{size:32}),s.jsx("h1",{children:"Central de Ajuda"}),s.jsx("p",{children:"Encontre respostas para suas dúvidas mais comuns"})]}),s.jsx("div",{className:"search-box",children:s.jsx("input",{type:"text",placeholder:"Pesquisar tópicos de ajuda...",className:"search-input"})}),s.jsx("div",{className:"help-grid",children:n.map((o,i)=>s.jsxs("div",{className:"help-card",children:[s.jsx("div",{className:"help-card-icon",children:o.icon}),s.jsx("h3",{children:o.title}),s.jsx("ul",{children:o.items.map((a,c)=>s.jsxs("li",{children:[s.jsxs("div",{className:"help-item-header",onClick:()=>r(i,c),children:[s.jsx("span",{children:a.question}),t[`${i}-${c}`]?s.jsx(Rne,{size:20}):s.jsx(h8,{size:20})]}),t[`${i}-${c}`]&&s.jsx("div",{className:"help-item-content",children:a.answer})]},c))})]},i))}),s.jsxs("div",{className:"contact-section",children:[s.jsx("h2",{children:"Precisa de mais ajuda?"}),s.jsx("p",{children:"Nossa equipe de suporte está pronta para ajudar você"}),s.jsx("button",{className:"contact-button",children:"Entrar em Contato"})]})]})},Ywe=()=>{const{user:t}=Ee(),{toast:e}=Ia(),[n,r]=g.useState({foodReminders:!1,walkReminders:!1,trainingReminders:!1,vaccineReminders:!1,generalUpdates:!1}),[o,i]=g.useState(!0),[a,c]=g.useState(null),[l,d]=g.useState("default");g.useEffect(()=>{(async()=>{if("Notification"in window){const x=await Notification.permission;d(x)}})()},[]),g.useEffect(()=>{(async()=>{if(t)try{const x=await gi(qe(Re,"users",t.uid));x.exists()&&x.data().notificationSettings&&r(x.data().notificationSettings)}catch(x){console.error("Error fetching notification settings:",x),e({variant:"destructive",title:"Erro ao carregar configurações",description:"Não foi possível carregar suas preferências de notificação."})}finally{i(!1)}})()},[t]);const h=async()=>{if("Notification"in window)try{const v=await Notification.requestPermission();d(v),e(v==="granted"?{title:"Notificações ativadas",description:"Você receberá notificações sobre as atividades do seu pet."}:{variant:"destructive",title:"Permissão negada",description:"Você precisa permitir notificações nas configurações do seu navegador."})}catch(v){console.error("Error requesting notification permission:",v),e({variant:"destructive",title:"Erro",description:"Não foi possível solicitar permissão para notificações."})}},u=async v=>{if(console.log("Iniciando handleToggle para:",v),console.log("Estado atual:",n[v]),console.log("Permissão de notificação:",l),l!=="granted"&&(console.log("Solicitando permissão de notificação..."),await h(),l!=="granted")){console.log("Permissão de notificação não concedida");return}const x={...n,[v]:!n[v]};if(console.log("Novas configurações:",x),r(x),t)try{console.log("Atualizando configurações no Firestore..."),await oo(qe(Re,"users",t.uid),{notificationSettings:x}),console.log("Configurações atualizadas com sucesso no Firestore"),c("success"),x[v]&&(console.log("Enviando notificação de teste..."),f({foodReminders:"🍽️ Lembrete de Alimentação",walkReminders:"🦮 Lembrete de Passeio",trainingReminders:"🎯 Lembrete de Treinamento",vaccineReminders:"💉 Lembrete de Vacina",generalUpdates:"📢 Atualização Geral"}[v])),e({title:"Configurações salvas",description:"Suas preferências de notificação foram atualizadas."}),setTimeout(()=>c(null),3e3)}catch(y){console.error("Erro ao atualizar configurações:",y),c("error"),e({variant:"destructive",title:"Erro ao salvar",description:"Não foi possível salvar suas preferências de notificação."}),setTimeout(()=>c(null),3e3)}else console.log("Usuário não autenticado")},f=v=>{if(console.log("Tentando enviar notificação:",v),l==="granted"){console.log("Permissão concedida, criando notificação...");try{const x=new Notification(v,{body:"Esta é uma notificação de teste para verificar se está funcionando.",icon:"/favicon.ico"});console.log("Notificação criada com sucesso:",x)}catch(x){console.error("Erro ao criar notificação:",x)}}else console.log("Permissão de notificação não concedida")};return o?s.jsx("div",{className:"notifications-container",children:s.jsx("div",{className:"loading",children:"Carregando configurações..."})}):s.jsxs("div",{className:"notifications-container",children:[s.jsx("h1",{children:"Configurações de Notificações"}),s.jsxs("p",{className:"description",children:["Gerencie suas preferências de notificações para receber alertas sobre atividades do seu pet.",l!=="granted"&&s.jsx("button",{className:"permission-button",onClick:h,children:"Permitir Notificações"})]}),s.jsxs("div",{className:"settings-grid",children:[s.jsxs("div",{className:`setting-item ${n.foodReminders?"active":""}`,onClick:()=>u("foodReminders"),role:"button",tabIndex:0,onKeyPress:v=>v.key==="Enter"&&u("foodReminders"),children:[s.jsxs("div",{className:"setting-info",children:[s.jsx(v8,{className:"setting-icon"}),s.jsxs("div",{children:[s.jsx("h3",{children:"Lembretes de Alimentação"}),s.jsx("p",{children:"Receba notificações sobre horários de alimentação"})]})]}),s.jsx("div",{className:"toggle-indicator",children:n.foodReminders?s.jsx(Ll,{}):s.jsx(Zu,{})})]}),s.jsxs("div",{className:`setting-item ${n.walkReminders?"active":""}`,onClick:()=>u("walkReminders"),role:"button",tabIndex:0,onKeyPress:v=>v.key==="Enter"&&u("walkReminders"),children:[s.jsxs("div",{className:"setting-info",children:[s.jsx(LS,{className:"setting-icon"}),s.jsxs("div",{children:[s.jsx("h3",{children:"Lembretes de Passeio"}),s.jsx("p",{children:"Alertas para horários de passeio"})]})]}),s.jsx("div",{className:"toggle-indicator",children:n.walkReminders?s.jsx(Ll,{}):s.jsx(Zu,{})})]}),s.jsxs("div",{className:`setting-item ${n.trainingReminders?"active":""}`,onClick:()=>u("trainingReminders"),role:"button",tabIndex:0,onKeyPress:v=>v.key==="Enter"&&u("trainingReminders"),children:[s.jsxs("div",{className:"setting-info",children:[s.jsx(Vne,{className:"setting-icon"}),s.jsxs("div",{children:[s.jsx("h3",{children:"Lembretes de Treinamento"}),s.jsx("p",{children:"Notificações sobre sessões de treinamento"})]})]}),s.jsx("div",{className:"toggle-indicator",children:n.trainingReminders?s.jsx(Ll,{}):s.jsx(Zu,{})})]}),s.jsxs("div",{className:`setting-item ${n.vaccineReminders?"active":""}`,onClick:()=>u("vaccineReminders"),role:"button",tabIndex:0,onKeyPress:v=>v.key==="Enter"&&u("vaccineReminders"),children:[s.jsxs("div",{className:"setting-info",children:[s.jsx(m8,{className:"setting-icon"}),s.jsxs("div",{children:[s.jsx("h3",{children:"Lembretes de Vacina"}),s.jsx("p",{children:"Alertas para datas de vacinação"})]})]}),s.jsx("div",{className:"toggle-indicator",children:n.vaccineReminders?s.jsx(Ll,{}):s.jsx(Zu,{})})]}),s.jsxs("div",{className:`setting-item ${n.generalUpdates?"active":""}`,onClick:()=>u("generalUpdates"),role:"button",tabIndex:0,onKeyPress:v=>v.key==="Enter"&&u("generalUpdates"),children:[s.jsxs("div",{className:"setting-info",children:[s.jsx(Gne,{className:"setting-icon"}),s.jsxs("div",{children:[s.jsx("h3",{children:"Atualizações Gerais"}),s.jsx("p",{children:"Notificações sobre novidades e atualizações"})]})]}),s.jsx("div",{className:"toggle-indicator",children:n.generalUpdates?s.jsx(Ll,{}):s.jsx(Zu,{})})]})]}),a==="success"&&s.jsxs("div",{className:"status-message success",children:[s.jsx(Mv,{className:"status-icon"}),"Configurações salvas com sucesso"]}),a==="error"&&s.jsxs("div",{className:"status-message error",children:[s.jsx(Nne,{className:"status-icon"}),"Erro ao salvar configurações"]})]})},Qwe=()=>s.jsxs("div",{className:"about-container",children:[s.jsxs("div",{className:"about-header",children:[s.jsx("h1",{children:"Sobre o PetziApp"}),s.jsx("p",{className:"subtitle",children:"Conectando pets e tutores com amor e tecnologia"})]}),s.jsxs("div",{className:"about-content",children:[s.jsxs("section",{className:"about-section",children:[s.jsx("h2",{children:"Nossa Missão"}),s.jsx("p",{children:"O PetziApp nasceu da paixão por pets e do desejo de tornar a vida dos tutores mais fácil e organizada. Nossa missão é proporcionar uma experiência completa e intuitiva para o cuidado dos seus animais de estimação, promovendo o bem-estar e a saúde dos pets através de ferramentas inovadoras."}),s.jsxs("div",{className:"features-grid",style:{marginTop:"2rem"},children:[s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(VS,{size:24})}),s.jsx("h3",{children:"Amor pelos Pets"}),s.jsx("p",{children:"Desenvolvemos cada funcionalidade pensando no bem-estar e felicidade dos seus animais."})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(qS,{size:24})}),s.jsx("h3",{children:"Comunidade"}),s.jsx("p",{children:"Conectamos tutores e profissionais para criar uma rede de apoio e compartilhamento."})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(Eb,{size:24})}),s.jsx("h3",{children:"Segurança"}),s.jsx("p",{children:"Garantimos a proteção dos dados e a privacidade de todos os usuários."})]})]})]}),s.jsxs("section",{className:"about-section",children:[s.jsx("h2",{children:"Nossa História"}),s.jsxs("div",{className:"timeline",children:[s.jsxs("div",{className:"milestone",children:[s.jsx("div",{className:"milestone-year",children:"2023"}),s.jsxs("div",{className:"milestone-content",children:[s.jsx("h3",{children:"Início da Jornada"}),s.jsx("p",{children:"O PetziApp foi concebido com a ideia de revolucionar o cuidado com pets."})]})]}),s.jsxs("div",{className:"milestone",children:[s.jsx("div",{className:"milestone-year",children:"2024"}),s.jsxs("div",{className:"milestone-content",children:[s.jsx("h3",{children:"Lançamento"}),s.jsx("p",{children:"Após meses de desenvolvimento e testes, lançamos nossa primeira versão."})]})]}),s.jsxs("div",{className:"milestone",children:[s.jsx("div",{className:"milestone-year",children:"Futuro"}),s.jsxs("div",{className:"milestone-content",children:[s.jsx("h3",{children:"Expansão"}),s.jsx("p",{children:"Planejamos expandir nossos serviços e alcançar mais tutores e pets."})]})]})]})]}),s.jsxs("section",{className:"about-section",children:[s.jsx("h2",{children:"Nossa Equipe"}),s.jsx("p",{children:"Nossa equipe é composta por apaixonados por tecnologia e animais, trabalhando juntos para criar a melhor experiência possível para você e seu pet."}),s.jsxs("div",{className:"features-grid",style:{marginTop:"2rem"},children:[s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(ore,{size:24})}),s.jsx("h3",{children:"Desenvolvedores"}),s.jsx("p",{children:"Profissionais dedicados a criar soluções inovadoras e intuitivas."})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(ere,{size:24})}),s.jsx("h3",{children:"Designers"}),s.jsx("p",{children:"Especialistas em criar interfaces bonitas e funcionais."})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(p8,{size:24})}),s.jsx("h3",{children:"Suporte"}),s.jsx("p",{children:"Equipe pronta para ajudar e garantir sua satisfação."})]})]})]}),s.jsxs("section",{className:"about-section",children:[s.jsx("h2",{children:"Entre em Contato"}),s.jsxs("div",{className:"features-grid",children:[s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(zS,{size:24})}),s.jsx("h3",{children:"Email"}),s.jsx("p",{children:"contato@petziapp.com"})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(BS,{size:24})}),s.jsx("h3",{children:"Telefone"}),s.jsx("p",{children:"(11) 99999-9999"})]}),s.jsxs("div",{className:"feature-card",children:[s.jsx("div",{className:"feature-icon",children:s.jsx(rE,{size:24})}),s.jsx("h3",{children:"Endereço"}),s.jsx("p",{children:"São Paulo, SP - Brasil"})]})]})]})]})]}),Xwe=()=>s.jsxs("div",{className:"terms-container",children:[s.jsxs("div",{className:"terms-header",children:[s.jsx("h1",{children:"Termos de Uso"}),s.jsx("p",{className:"subtitle",children:"Última atualização: 01/01/2024"})]}),s.jsxs("div",{className:"terms-content",children:[s.jsxs("section",{className:"terms-section",children:[s.jsxs("h2",{children:[s.jsx(Bne,{className:"icon"})," Introdução"]}),s.jsx("p",{children:"Bem-vindo ao PetziApp. Ao acessar e usar nosso aplicativo, você concorda em cumprir e estar vinculado aos seguintes termos e condições de uso."})]}),s.jsxs("section",{className:"terms-section",children:[s.jsxs("h2",{children:[s.jsx(Eb,{className:"icon"})," Aceitação dos Termos"]}),s.jsx("p",{children:"Ao utilizar o PetziApp, você concorda com estes termos de uso. Se você não concordar com qualquer parte destes termos, não deve usar nosso aplicativo."})]}),s.jsxs("section",{className:"terms-section",children:[s.jsxs("h2",{children:[s.jsx(Wa,{className:"icon"})," Uso do Aplicativo"]}),s.jsxs("div",{className:"terms-list",children:[s.jsxs("div",{className:"term-item",children:[s.jsx(Mv,{className:"icon"}),s.jsx("p",{children:"O PetziApp é destinado apenas para uso pessoal e não comercial."})]}),s.jsxs("div",{className:"term-item",children:[s.jsx(Mv,{className:"icon"}),s.jsx("p",{children:"Você é responsável por manter a confidencialidade de sua conta e senha."})]}),s.jsxs("div",{className:"term-item",children:[s.jsx(Mv,{className:"icon"}),s.jsx("p",{children:"Você concorda em não usar o aplicativo para qualquer finalidade ilegal ou não autorizada."})]})]})]}),s.jsxs("section",{className:"terms-section",children:[s.jsxs("h2",{children:[s.jsx(One,{className:"icon"})," Modificações"]}),s.jsx("p",{children:"Reservamo-nos o direito de modificar estes termos a qualquer momento. As alterações entrarão em vigor imediatamente após sua publicação no aplicativo."})]}),s.jsxs("section",{className:"terms-section",children:[s.jsxs("h2",{children:[s.jsx(MS,{className:"icon"})," Propriedade Intelectual"]}),s.jsx("p",{children:"Todo o conteúdo do PetziApp, incluindo textos, gráficos, logotipos, ícones e software, é propriedade do PetziApp e está protegido por leis de direitos autorais."})]}),s.jsxs("section",{className:"terms-section",children:[s.jsx("h2",{children:"Contato"}),s.jsxs("div",{className:"contact-info",children:[s.jsxs("div",{className:"contact-item",children:[s.jsx(zS,{className:"icon"}),s.jsx("p",{children:"contato@petziapp.com"})]}),s.jsxs("div",{className:"contact-item",children:[s.jsx(BS,{className:"icon"}),s.jsx("p",{children:"(11) 1234-5678"})]})]})]})]})]}),Jwe=()=>s.jsxs("div",{className:"privacy-container",children:[s.jsxs("div",{className:"privacy-header",children:[s.jsx("h1",{children:"Política de Privacidade"}),s.jsx("p",{className:"subtitle",children:"Última atualização: 01/01/2024"})]}),s.jsxs("div",{className:"privacy-content",children:[s.jsxs("section",{className:"privacy-section",children:[s.jsxs("h2",{children:[s.jsx(Eb,{className:"icon"})," Introdução"]}),s.jsx("p",{children:"A privacidade dos nossos usuários é de extrema importância para nós. Esta política descreve como coletamos, usamos e protegemos suas informações pessoais."})]}),s.jsxs("section",{className:"privacy-section",children:[s.jsxs("h2",{children:[s.jsx(J0,{className:"icon"})," Coleta de Dados"]}),s.jsxs("div",{className:"privacy-list",children:[s.jsxs("div",{className:"privacy-item",children:[s.jsx(Wa,{className:"icon"}),s.jsx("p",{children:"Informações básicas de cadastro (nome, email, telefone)"})]}),s.jsxs("div",{className:"privacy-item",children:[s.jsx(Wa,{className:"icon"}),s.jsx("p",{children:"Dados do seu pet (nome, raça, idade, histórico médico)"})]}),s.jsxs("div",{className:"privacy-item",children:[s.jsx(Wa,{className:"icon"}),s.jsx("p",{children:"Informações de uso do aplicativo"})]})]})]}),s.jsxs("section",{className:"privacy-section",children:[s.jsxs("h2",{children:[s.jsx(Lne,{className:"icon"})," Uso dos Dados"]}),s.jsx("p",{children:"Utilizamos suas informações para:"}),s.jsxs("div",{className:"privacy-list",children:[s.jsxs("div",{className:"privacy-item",children:[s.jsx(Wa,{className:"icon"}),s.jsx("p",{children:"Fornecer e melhorar nossos serviços"})]}),s.jsxs("div",{className:"privacy-item",children:[s.jsx(Wa,{className:"icon"}),s.jsx("p",{children:"Enviar notificações importantes"})]}),s.jsxs("div",{className:"privacy-item",children:[s.jsx(Wa,{className:"icon"}),s.jsx("p",{children:"Personalizar sua experiência no aplicativo"})]})]})]}),s.jsxs("section",{className:"privacy-section",children:[s.jsxs("h2",{children:[s.jsx(Fne,{className:"icon"})," Cookies e Tecnologias Similares"]}),s.jsx("p",{children:"Utilizamos cookies e tecnologias similares para melhorar sua experiência, analisar o uso do aplicativo e personalizar o conteúdo."})]}),s.jsxs("section",{className:"privacy-section",children:[s.jsxs("h2",{children:[s.jsx(zne,{className:"icon"})," Compartilhamento de Dados"]}),s.jsx("p",{children:"Não vendemos ou compartilhamos suas informações pessoais com terceiros, exceto quando necessário para fornecer nossos serviços ou quando exigido por lei."})]}),s.jsxs("section",{className:"privacy-section",children:[s.jsx("h2",{children:"Contato"}),s.jsxs("div",{className:"contact-info",children:[s.jsxs("div",{className:"contact-item",children:[s.jsx(zS,{className:"icon"}),s.jsx("p",{children:"privacidade@petziapp.com"})]}),s.jsxs("div",{className:"contact-item",children:[s.jsx(BS,{className:"icon"}),s.jsx("p",{children:"(11) 1234-5678"})]})]})]})]})]}),Zwe=()=>{const t=Ue(),[e,n]=g.useState({type:"bug",title:"",description:"",file:null}),r=async i=>{i.preventDefault(),console.log("Dados do relatório:",e),t("/report/success")},o=i=>{const{name:a,value:c,files:l}=i.target;n(a==="file"?d=>({...d,file:l[0]}):d=>({...d,[a]:c}))};return s.jsxs("div",{className:"report-container",children:[s.jsxs("div",{className:"report-header",children:[s.jsx("button",{className:"back-button",onClick:()=>t(-1),children:s.jsx(XS,{})}),s.jsx("h1",{children:"Reportar Problema"})]}),s.jsxs("form",{className:"report-form",onSubmit:r,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"type",children:"Tipo de Problema"}),s.jsxs("select",{id:"type",name:"type",value:e.type,onChange:o,required:!0,children:[s.jsx("option",{value:"bug",children:"Bug/Erro"}),s.jsx("option",{value:"feature",children:"Sugestão de Melhoria"}),s.jsx("option",{value:"other",children:"Outro"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"title",children:"Título"}),s.jsx("input",{type:"text",id:"title",name:"title",value:e.title,onChange:o,placeholder:"Descreva brevemente o problema",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"description",children:"Descrição Detalhada"}),s.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:o,placeholder:"Descreva o problema em detalhes",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"file",children:"Anexar Documento"}),s.jsxs("div",{className:"file-input-wrapper",children:[s.jsx("input",{type:"file",id:"file",name:"file",onChange:o,className:"file-input"}),s.jsxs("label",{htmlFor:"file",className:"file-label",children:[s.jsx(L6,{}),e.file?e.file.name:"Escolher arquivo"]})]})]}),s.jsxs("button",{type:"submit",className:"submit-button",children:[s.jsx(M6,{}),"Enviar Relatório"]})]})]})},e_e=()=>{const t=Ue();return s.jsx("div",{className:"report-container",children:s.jsxs("div",{className:"success-content",children:[s.jsx(ece,{className:"success-icon"}),s.jsx("h1",{children:"Relatório Enviado!"}),s.jsx("p",{children:"Obrigado por nos ajudar a melhorar o PetziApp. Analisaremos seu relatório e entraremos em contato se necessário."}),s.jsxs("button",{className:"back-button",onClick:()=>t("/settings"),children:[s.jsx(XS,{}),"Voltar para Configurações"]})]})})},t_e=()=>{const t=Ue(),[e,n]=g.useState({type:"bug",title:"",description:"",file:null}),r=async i=>{i.preventDefault(),console.log("Dados do relatório:",e),t("/"),alert("Relatório enviado com sucesso! Obrigado por nos ajudar a melhorar o PetziApp.")},o=i=>{const{name:a,value:c,files:l}=i.target;n(a==="file"?d=>({...d,file:l[0]}):d=>({...d,[a]:c}))};return s.jsxs("div",{className:"report-container",children:[s.jsxs("div",{className:"report-header",children:[s.jsx("button",{className:"back-button",onClick:()=>t(-1),children:s.jsx(XS,{})}),s.jsx("h1",{children:"Reportar Problema"})]}),s.jsxs("form",{className:"report-form",onSubmit:r,children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"type",children:"Tipo de Problema"}),s.jsxs("select",{id:"type",name:"type",value:e.type,onChange:o,required:!0,children:[s.jsx("option",{value:"bug",children:"Bug/Erro"}),s.jsx("option",{value:"feature",children:"Sugestão de Melhoria"}),s.jsx("option",{value:"content",children:"Problema de Conteúdo"}),s.jsx("option",{value:"other",children:"Outro"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"title",children:"Título"}),s.jsx("input",{type:"text",id:"title",name:"title",value:e.title,onChange:o,placeholder:"Descreva brevemente o problema",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"description",children:"Descrição Detalhada"}),s.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:o,placeholder:"Descreva o problema em detalhes",required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"file",children:"Anexar Arquivo (opcional)"}),s.jsxs("div",{className:"file-input-wrapper",children:[s.jsx("input",{type:"file",id:"file",name:"file",onChange:o,className:"file-input"}),s.jsxs("label",{htmlFor:"file",className:"file-label",children:[s.jsx(L6,{}),e.file?e.file.name:"Escolher arquivo"]})]})]}),s.jsxs("button",{type:"submit",className:"submit-button",children:[s.jsx(M6,{}),"Enviar Relatório"]})]})]})};function n_e(){const{user:t,authIsReady:e}=Ee(),n=Sb("(max-width: 768px)"),[r,o]=g.useState(!1),[i,a]=g.useState(!1),[c,l]=g.useState(!1);return e?s.jsx("div",{className:"App",children:s.jsxs(Mte,{defaultTheme:"light",storageKey:"vite-ui-theme",children:[s.jsx(Lre,{}),s.jsx(Ote,{children:t?s.jsx(Vre,{user:t,children:s.jsx(Bre,{user:t,children:s.jsx(Ure,{children:s.jsxs(Sa,{children:[n?s.jsx(kae,{setRerender:o}):s.jsx(Sae,{setRerender:o}),n?null:s.jsx("div",{className:`${i?"w-[284px]":"w-[90px]"} w-[286px] h-[calc(100vh_-_120px)] fixed top-24 left-5 bottom-5 overflow-y-hidden border rounded-md`,children:s.jsx(wae,{rerender:r,setRerender:o,sidebarExpanded:i,setSidebarExpanded:a,isWatching:c,setIsWatching:l})}),s.jsx("div",{className:`$${n?"w-full":i?"w-[calc(100%_-_300px)]":"w-[calc(100%_-_100px)]"} pt-20 $${n?"mb-20":"mb-5"} $${n?"mx-0":"mx-5"} float-right overflow-y-auto h-[calc(100vh_-_120px)]`,children:s.jsxs(TC,{children:[s.jsx(Le,{path:"/",element:s.jsx(hle,{})}),s.jsx(Le,{path:"/dashboard",element:s.jsx(hM,{})}),s.jsx(Le,{path:"/content",element:s.jsx(whe,{})}),s.jsx(Le,{path:"/content/training",element:s.jsx(Rhe,{})}),s.jsx(Le,{path:"/training",element:s.jsx(Py,{to:"/content/training"})}),s.jsx(Le,{path:"/content/training/start-here",element:s.jsx(ffe,{})}),s.jsx(Le,{path:"/content/training/behavior",element:s.jsx(Rme,{})}),s.jsx(Le,{path:"/content/training/socialization",element:s.jsx(dve,{})}),s.jsx(Le,{path:"/content/training/hygiene",element:s.jsx(w0e,{})}),s.jsx(Le,{path:"/content/training/badhabits",element:s.jsx($xe,{})}),s.jsx(Le,{path:"/content/training/mental",element:s.jsx(sye,{})}),s.jsx(Le,{path:"/content/training/behavior/lessons/behavior1",element:s.jsx(rL,{})}),s.jsx(Le,{path:"/content/training/behavior/lessons/behavior2",element:s.jsx(oL,{})}),s.jsx(Le,{path:"/content/training/behavior/lessons/behavior3",element:s.jsx(iL,{})}),s.jsx(Le,{path:"/content/training/behavior/lessons/behavior4",element:s.jsx(sL,{})}),s.jsx(Le,{path:"/content/training/behavior/lessons/behavior5",element:s.jsx(aL,{})}),s.jsx(Le,{path:"/content/vaccines",element:s.jsx(o1e,{})}),s.jsx(Le,{path:"/content/diary",element:s.jsx(Gwe,{})}),s.jsx(Le,{path:"/notifications",element:s.jsx(Ywe,{})}),s.jsx(Le,{path:"/profile",element:s.jsx(ohe,{})}),s.jsx(Le,{path:"/help",element:s.jsx(Kwe,{})}),s.jsx(Le,{path:"/about",element:s.jsx(Qwe,{})}),s.jsx(Le,{path:"/terms",element:s.jsx(Xwe,{})}),s.jsx(Le,{path:"/privacy",element:s.jsx(Jwe,{})}),s.jsx(Le,{path:"/report-problem",element:s.jsx(t_e,{})}),s.jsx(Le,{path:"/report",element:s.jsx(Zwe,{})}),s.jsx(Le,{path:"/report/success",element:s.jsx(e_e,{})}),s.jsx(Le,{path:"/onboarding",element:s.jsx(bhe,{})}),s.jsx(Le,{path:"/reset-onboarding",element:s.jsx(yhe,{})}),s.jsx(Le,{path:"*",element:s.jsx(Py,{to:"/"})})]})}),n&&s.jsx(jae,{})]})})})}):s.jsxs(TC,{children:[s.jsx(Le,{path:"/login",element:s.jsx(Rae,{})}),s.jsx(Le,{path:"/signup",element:s.jsx(Fae,{})}),s.jsx(Le,{path:"/recover",element:s.jsx(Mae,{})}),s.jsx(Le,{path:"*",element:s.jsx(Py,{to:"/login"})})]})})]})}):s.jsx(Zn,{})}const r_e="modulepreload",o_e=function(t){return"/"+t},yD={},i_e=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=o_e(l),l in yD)return;yD[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":r_e,d||(u.as="script"),u.crossOrigin="",u.href=l,c&&u.setAttribute("nonce",c),document.head.appendChild(u),d)return new Promise((f,v)=>{u.addEventListener("load",f),u.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return o.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};function s_e(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:i,onRegisterError:a}=t;let c,l;const d=async(u=!0)=>{await l};async function h(){if("serviceWorker"in navigator){if(c=await i_e(async()=>{const{Workbox:u}=await import("./workbox-window.prod.es5-D5gOYdM7.js");return{Workbox:u}},[]).then(({Workbox:u})=>new u("/sw.js",{scope:"/",type:"classic"})).catch(u=>{a==null||a(u)}),!c)return;c.addEventListener("activated",u=>{(u.isUpdate||u.isExternal)&&window.location.reload()}),c.addEventListener("installed",u=>{u.isUpdate||r==null||r()}),c.register({immediate:e}).then(u=>{i?i("/sw.js",u):o==null||o(u)}).catch(u=>{a==null||a(u)})}}return l=h(),d}"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(function(t){console.log("Service Worker registrado com sucesso:",t),Notification.requestPermission().then(e=>{console.log("Requested permission ",e),e==="granted"&&(console.log("Permission granted."),getToken(messaging,{vapidKey:"BJaZkU7IEQWsEg9YpG_cryhAbGCyc8btkFIPaKKoeZ-QXNHP9ZYfI5-1uaeeDyfXqzzF-f6jAwtTbTb78bvAu2k"}).then(n=>{n?(console.log(n),updateToken(n),console.log("Token de inscrição:",n)):console.log("Não foi possível obter o token.")}).catch(n=>{console.log("Erro ao obter o token:",n)}))})}).catch(function(t){console.log("Falha ao registrar o Service Worker:",t)});s_e({immediate:!0});"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("ServiceWorker registrado com sucesso:",t.scope)}).catch(t=>{console.log("Falha ao registrar o ServiceWorker:",t)})});hw.createRoot(document.getElementById("root")).render(s.jsx($te,{children:s.jsx(yz,{children:s.jsx(n_e,{})})}));const wD=document.getElementById("splash");wD&&wD.remove();
